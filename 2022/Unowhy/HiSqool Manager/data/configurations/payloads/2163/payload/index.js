!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(global,(()=>(()=>{var t={7340:t=>{"use strict";function e(t,e,i){t instanceof RegExp&&(t=r(t,i)),e instanceof RegExp&&(e=r(e,i));var o=n(t,e,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+t.length,o[1]),post:i.slice(o[1]+e.length)}}function r(t,e){var r=e.match(t);return r?r[0]:null}function n(t,e,r){var n,i,o,s,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(n=[],o=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):1==n.length?a=[n.pop(),u]:((i=n.pop())<o&&(o=i,s=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}t.exports=e,e.range=n},1261:t=>{t.exports=function(t,r){for(var n=[],i=0;i<t.length;i++){var o=r(t[i],i);e(o)?n.push.apply(n,o):n.push(o)}return n};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},5366:(t,e,r)=>{"use strict";const n=r(2081),i=r(3322),o=r(2225);function s(t,e,r){const s=i(t,e,r),a=n.spawn(s.command,s.args,s.options);return o.hookChildProcess(a,s),a}t.exports=s,t.exports.spawn=s,t.exports.sync=function(t,e,r){const s=i(t,e,r),a=n.spawnSync(s.command,s.args,s.options);return a.error=a.error||o.verifyENOENTSync(a.status,s),a},t.exports._parse=i,t.exports._enoent=o},2225:t=>{"use strict";const e="win32"===process.platform;function r(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function n(t,n){return e&&1===t&&!n.file?r(n.original,"spawn"):null}t.exports={hookChildProcess:function(t,r){if(!e)return;const i=t.emit;t.emit=function(e,o){if("exit"===e){const e=n(o,r);if(e)return i.call(t,"error",e)}return i.apply(t,arguments)}},verifyENOENT:n,verifyENOENTSync:function(t,n){return e&&1===t&&!n.file?r(n.original,"spawnSync"):null},notFoundError:r}},3322:(t,e,r)=>{"use strict";const n=r(1017),i=r(2728),o=r(8649),s=r(3074),a="win32"===process.platform,c=/\.(?:com|exe)$/i,u=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;t.exports=function(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null);const l={command:t,args:e=e?e.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:t,args:e}};return r.shell?l:function(t){if(!a)return t;const e=function(t){t.file=i(t);const e=t.file&&s(t.file);return e?(t.args.unshift(t.file),t.command=e,i(t)):t.file}(t),r=!c.test(e);if(t.options.forceShell||r){const r=u.test(e);t.command=n.normalize(t.command),t.command=o.command(t.command),t.args=t.args.map((t=>o.argument(t,r)));const i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}(l)}},8649:t=>{"use strict";const e=/([()\][%!^"`<>&|;, *?])/g;t.exports.command=function(t){return t.replace(e,"^$1")},t.exports.argument=function(t,r){return t=(t=`"${t=(t=(t=`${t}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(e,"^$1"),r&&(t=t.replace(e,"^$1")),t}},3074:(t,e,r)=>{"use strict";const n=r(7147),i=r(4823);t.exports=function(t){const e=Buffer.alloc(150);let r;try{r=n.openSync(t,"r"),n.readSync(r,e,0,150,0),n.closeSync(r)}catch(t){}return i(e.toString())}},2728:(t,e,r)=>{"use strict";const n=r(1017),i=r(8644),o=r(9384);function s(t,e){const r=t.options.env||process.env,s=process.cwd(),a=null!=t.options.cwd,c=a&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(t.options.cwd)}catch(t){}let u;try{u=i.sync(t.command,{path:r[o({env:r})],pathExt:e?n.delimiter:void 0})}catch(t){}finally{c&&process.chdir(s)}return u&&(u=n.resolve(a?t.options.cwd:"",u)),u}t.exports=function(t){return s(t)||s(t,!0)}},4823:(t,e,r)=>{"use strict";const n=r(6153);t.exports=(t="")=>{const e=t.match(n);if(!e)return null;const[r,i]=e[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return"env"===o?i:i?`${o} ${i}`:o}},6153:t=>{"use strict";t.exports=/^#!(.*)/},8644:(t,e,r)=>{const n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=r(1017),o=n?";":":",s=r(8799),a=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),c=(t,e)=>{const r=e.colon||o,i=t.match(/\//)||n&&t.match(/\\/)?[""]:[...n?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],s=n?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=n?s.split(r):[""];return n&&-1!==t.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:s}},u=(t,e,r)=>{"function"==typeof e&&(r=e,e={}),e||(e={});const{pathEnv:n,pathExt:o,pathExtExe:u}=c(t,e),l=[],f=r=>new Promise(((o,s)=>{if(r===n.length)return e.all&&l.length?o(l):s(a(t));const c=n[r],u=/^".*"$/.test(c)?c.slice(1,-1):c,f=i.join(u,t),p=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;o(h(p,r,0))})),h=(t,r,n)=>new Promise(((i,a)=>{if(n===o.length)return i(f(r+1));const c=o[n];s(t+c,{pathExt:u},((o,s)=>{if(!o&&s){if(!e.all)return i(t+c);l.push(t+c)}return i(h(t,r,n+1))}))}));return r?f(0).then((t=>r(null,t)),r):f(0)};t.exports=u,u.sync=(t,e)=>{e=e||{};const{pathEnv:r,pathExt:n,pathExtExe:o}=c(t,e),u=[];for(let a=0;a<r.length;a++){const c=r[a],l=/^".*"$/.test(c)?c.slice(1,-1):c,f=i.join(l,t),h=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;for(let t=0;t<n.length;t++){const r=h+n[t];try{if(s.sync(r,{pathExt:o})){if(!e.all)return r;u.push(r)}}catch(t){}}}if(e.all&&u.length)return u;if(e.nothrow)return null;throw a(t)}},2179:(t,e,r)=>{var n=r(2875),i=function(){},o=function(t,e,r){if("function"==typeof e)return o(t,null,e);e||(e={}),r=n(r||i);var s=t._writableState,a=t._readableState,c=e.readable||!1!==e.readable&&t.readable,u=e.writable||!1!==e.writable&&t.writable,l=!1,f=function(){t.writable||h()},h=function(){u=!1,c||r.call(t)},p=function(){c=!1,u||r.call(t)},d=function(e){r.call(t,e?new Error("exited with error code: "+e):null)},m=function(e){r.call(t,e)},g=function(){process.nextTick(y)},y=function(){if(!l)return(!c||a&&a.ended&&!a.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:r.call(t,new Error("premature close"))},v=function(){t.req.on("finish",h)};return function(t){return t.setHeader&&"function"==typeof t.abort}(t)?(t.on("complete",h),t.on("abort",g),t.req?v():t.on("request",v)):u&&!s&&(t.on("end",f),t.on("close",f)),function(t){return t.stdio&&Array.isArray(t.stdio)&&3===t.stdio.length}(t)&&t.on("exit",d),t.on("end",p),t.on("finish",h),!1!==e.error&&t.on("error",m),t.on("close",g),function(){l=!0,t.removeListener("complete",h),t.removeListener("abort",g),t.removeListener("request",v),t.req&&t.req.removeListener("finish",h),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",h),t.removeListener("exit",d),t.removeListener("end",p),t.removeListener("error",m),t.removeListener("close",g)}};t.exports=o},7723:(t,e,r)=>{"use strict";const n=r(1017),i=r(2081),o=r(5366),s=r(9709),a=r(6548),c=r(900),u=r(2782),l=r(4933),{spawnedKill:f,spawnedCancel:h,setupTimeout:p,setExitHandler:d}=r(5270),{handleInput:m,getSpawnedResult:g,makeAllStream:y,validateInputSync:v}=r(2003),{mergePromise:b,getSpawnedPromise:w}=r(4953),{joinCommand:x,parseCommand:E}=r(7082),S=(t,e,r={})=>{const i=o._parse(t,e,r);return t=i.command,e=i.args,(r={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(r=i.options).cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0,...r,windowsHide:!0}).env=(({env:t,extendEnv:e,preferLocal:r,localDir:n})=>{const i=e?{...process.env,...t}:t;return r?a.env({env:i,cwd:n}):i})(r),r.stdio=l(r),"win32"===process.platform&&"cmd"===n.basename(t,".exe")&&e.unshift("/q"),{file:t,args:e,options:r,parsed:i}},_=(t,e,r)=>"string"==typeof e||Buffer.isBuffer(e)?t.stripFinalNewline?s(e):e:void 0===r?void 0:"",O=(t,e,r)=>{const n=S(t,e,r),s=x(t,e);let a;try{a=i.spawn(n.file,n.args,n.options)}catch(t){const e=new i.ChildProcess,r=Promise.reject(u({error:t,stdout:"",stderr:"",all:"",command:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return b(e,r)}const l=w(a),v=p(a,n.options,l),E=d(a,n.options,v),O={isCanceled:!1};a.kill=f.bind(null,a.kill.bind(a)),a.cancel=h.bind(null,a,O);const k=c((async()=>{const[{error:t,code:e,signal:r,timedOut:i},o,c,l]=await g(a,n.options,E),f=_(n.options,o),h=_(n.options,c),p=_(n.options,l);if(t||0!==e||null!==r){const o=u({error:t,code:e,signal:r,stdout:f,stderr:h,all:p,command:s,parsed:n,timedOut:i,isCanceled:O.isCanceled,killed:a.killed});if(!n.options.reject)return o;throw o}return{command:s,exitCode:0,exitCodeName:"SUCCESS",stdout:f,stderr:h,all:p,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return o._enoent.hookChildProcess(a,n.parsed),m(a,n.options.input),a.all=y(a),b(a,k)};t.exports=O,t.exports.sync=(t,e,r)=>{const n=S(t,e,r),o=x(t,e);let s;v(n.options);try{s=i.spawnSync(n.file,n.args,n.options)}catch(t){throw u({error:t,stdout:"",stderr:"",all:"",command:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}if(s.stdout=_(n.options,s.stdout,s.error),s.stderr=_(n.options,s.stderr,s.error),s.error||0!==s.status||null!==s.signal){const t=u({...s,code:s.status,command:o,parsed:n,timedOut:s.error&&"ETIMEDOUT"===s.error.code,isCanceled:!1,killed:null!==s.signal});if(!n.options.reject)return t;throw t}return{command:o,exitCode:0,exitCodeName:"SUCCESS",stdout:s.stdout,stderr:s.stderr,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},t.exports.command=(t,e)=>{const[r,...n]=E(t);return O(r,n,e)},t.exports.commandSync=(t,e)=>{const[r,...n]=E(t);return O.sync(r,n,e)},t.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&"object"==typeof e&&(r=e,e=[]);const n=l.node(r),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=r;return O(i,[...o,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}},7082:t=>{"use strict";const e=/ +/g,r=(t,e,r)=>{if(0===r)return[e];const n=t[t.length-1];return n.endsWith("\\")?[...t.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...t,e]};t.exports={joinCommand:(t,e=[])=>Array.isArray(e)?[t,...e].join(" "):t,parseCommand:t=>t.trim().split(e).reduce(r,[])}},2782:(t,e,r)=>{"use strict";const n=r(2037),i=r(3837);t.exports=({stdout:t,stderr:e,all:r,error:o,signal:s,code:a,command:c,timedOut:u,isCanceled:l,killed:f,parsed:{options:{timeout:h}}})=>{const[p,d]=((t,e)=>t&&t.code?[t.code,n.constants.errno[t.code]]:Number.isInteger(e)?[i.getSystemErrorName(-e),e]:[])(o,a),m=(({timedOut:t,timeout:e,signal:r,exitCodeName:n,exitCode:i,isCanceled:o})=>t?`timed out after ${e} milliseconds`:o?"was canceled":r?`was killed with ${r}`:void 0!==i?`failed with exit code ${i} (${n})`:"failed")({timedOut:u,timeout:h,signal:s,exitCodeName:p,exitCode:d,isCanceled:l}),g=`Command ${m}: ${c}`;return o instanceof Error?(o.originalMessage=o.message,o.message=`${g}\n${o.message}`):o=new Error(g),o.command=c,delete o.code,o.exitCode=d,o.exitCodeName=p,o.stdout=t,o.stderr=e,void 0!==r&&(o.all=r),"bufferedData"in o&&delete o.bufferedData,o.failed=!0,o.timedOut=Boolean(u),o.isCanceled=l,o.killed=f&&!u,o.signal=s||void 0,o}},5270:(t,e,r)=>{"use strict";const n=r(2037),i=r(5164),o=r(8664),s=(t,{forceKillAfterTimeout:e},r)=>a(t)&&!1!==e&&r,a=t=>t===n.constants.signals.SIGTERM||"string"==typeof t&&"SIGTERM"===t.toUpperCase(),c=({forceKillAfterTimeout:t=!0})=>{if(!0===t)return 5e3;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t};t.exports={spawnedKill:(t,e="SIGTERM",r={})=>{const n=t(e);return((t,e,r,n)=>{if(!s(e,r,n))return;const i=c(r);setTimeout((()=>{t("SIGKILL")}),i).unref()})(t,e,r,n),n},spawnedCancel:(t,e)=>{t.kill()&&(e.isCanceled=!0)},setupTimeout:(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(0===e||void 0===e)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i;const s=new Promise(((n,o)=>{i=setTimeout((()=>{((t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))})(t,r,o)}),e)})),a=o(n,(()=>{clearTimeout(i)}));return Promise.race([s,a])},setExitHandler:(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;const s=i((()=>{t.kill()}));return o(n,s)}}},4953:t=>{"use strict";const e=(t,e,r)=>{const n="function"==typeof e?(...t)=>e()[r](...t):e[r].bind(e);Object.defineProperty(t,r,{value:n,writable:!0,enumerable:!1,configurable:!0})};t.exports={mergePromise:(t,r)=>(e(t,r,"then"),e(t,r,"catch"),Promise.prototype.finally&&e(t,r,"finally"),t),getSpawnedPromise:t=>new Promise(((e,r)=>{t.on("exit",((t,r)=>{e({code:t,signal:r})})),t.on("error",(t=>{r(t)})),t.stdin&&t.stdin.on("error",(t=>{r(t)}))}))}},4933:t=>{"use strict";const e=["stdin","stdout","stderr"],r=t=>{if(!t)return;const{stdio:r}=t;if(void 0===r)return e.map((e=>t[e]));if((t=>e.some((e=>void 0!==t[e])))(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${e.map((t=>`\`${t}\``)).join(", ")}`);if("string"==typeof r)return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);const n=Math.max(r.length,e.length);return Array.from({length:n},((t,e)=>r[e]))};t.exports=r,t.exports.node=t=>{const e=r(t);return"ipc"===e?"ipc":void 0===e||"string"==typeof e?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}},2003:(t,e,r)=>{"use strict";const n=r(5206),i=r(1316),o=r(638),s=async(t,e)=>{if(t){t.destroy();try{return await e}catch(t){return t.bufferedData}}},a=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(t)return r?e?i(t,{encoding:e,maxBuffer:n}):i.buffer(t,{maxBuffer:n}):new Promise(((e,r)=>{t.once("end",e).once("error",r)}))};t.exports={handleInput:(t,e)=>{void 0!==e&&void 0!==t.stdin&&(n(e)?e.pipe(t.stdin):t.stdin.end(e))},makeAllStream:t=>{if(!t.stdout&&!t.stderr)return;const e=o();return t.stdout&&e.add(t.stdout),t.stderr&&e.add(t.stderr),e},getSpawnedResult:async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:o},c)=>{const u=a(t,{encoding:n,buffer:i,maxBuffer:o}),l=a(e,{encoding:n,buffer:i,maxBuffer:o}),f=a(r,{encoding:n,buffer:i,maxBuffer:2*o});try{return await Promise.all([c,u,l,f])}catch(n){return Promise.all([{error:n,code:n.code,signal:n.signal,timedOut:n.timedOut},s(t,u),s(e,l),s(r,f)])}},validateInputSync:({input:t})=>{if(n(t))throw new TypeError("The `input` option cannot be a stream in sync mode")}}},6548:(t,e,r)=>{"use strict";const n=r(1017),i=r(9384),o=t=>{let e;t={cwd:process.cwd(),path:process.env[i()],...t};let r=n.resolve(t.cwd);const o=[];for(;e!==r;)o.push(n.join(r,"node_modules/.bin")),e=r,r=n.resolve(r,"..");return o.push(n.dirname(process.execPath)),o.concat(t.path).join(n.delimiter)};t.exports=o,t.exports.default=o,t.exports.env=e=>{const r={...(e={env:process.env,...e}).env},n=i({env:r});return e.path=r[n],r[n]=t.exports(e),r}},8664:t=>{"use strict";t.exports=async(t,e=(()=>{}))=>{let r;try{r=await t}catch(t){throw await e(),t}return await e(),r}},8237:(t,e,r)=>{t.exports=l,l.realpath=l,l.sync=f,l.realpathSync=f,l.monkeypatch=function(){n.realpath=l,n.realpathSync=f},l.unmonkeypatch=function(){n.realpath=i,n.realpathSync=o};var n=r(7147),i=n.realpath,o=n.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=r(2868);function u(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function l(t,e,r){if(a)return i(t,e,r);"function"==typeof e&&(r=e,e=null),i(t,e,(function(n,i){u(n)?c.realpath(t,e,r):r(n,i)}))}function f(t,e){if(a)return o(t,e);try{return o(t,e)}catch(r){if(u(r))return c.realpathSync(t,e);throw r}}},2868:(t,e,r)=>{var n=r(1017),i="win32"===process.platform,o=r(7147),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(n.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;e.realpathSync=function(t,e){if(t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var r,s,u,l,f=t,h={},p={};function d(){var e=c.exec(t);r=e[0].length,s=e[0],u=e[0],l="",i&&!p[u]&&(o.lstatSync(u),p[u]=!0)}for(d();r<t.length;){a.lastIndex=r;var m=a.exec(t);if(l=s,s+=m[0],u=l+m[1],r=a.lastIndex,!(p[u]||e&&e[u]===u)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,u))g=e[u];else{var y=o.lstatSync(u);if(!y.isSymbolicLink()){p[u]=!0,e&&(e[u]=u);continue}var v=null;if(!i){var b=y.dev.toString(32)+":"+y.ino.toString(32);h.hasOwnProperty(b)&&(v=h[b])}null===v&&(o.statSync(u),v=o.readlinkSync(u)),g=n.resolve(l,v),e&&(e[u]=g),i||(h[b]=v)}t=n.resolve(g,t.slice(r)),d()}}return e&&(e[f]=t),t},e.realpath=function(t,e,r){if("function"!=typeof r&&(r=function(t){return"function"==typeof t?t:function(){var t;if(s){var e=new Error;t=function(t){t&&(e.message=t.message,r(t=e))}}else t=r;return t;function r(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}(e),e=null),t=n.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(r.bind(null,null,e[t]));var u,l,f,h,p=t,d={},m={};function g(){var e=c.exec(t);u=e[0].length,l=e[0],f=e[0],h="",i&&!m[f]?o.lstat(f,(function(t){if(t)return r(t);m[f]=!0,y()})):process.nextTick(y)}function y(){if(u>=t.length)return e&&(e[p]=t),r(null,t);a.lastIndex=u;var n=a.exec(t);return h=l,l+=n[0],f=h+n[1],u=a.lastIndex,m[f]||e&&e[f]===f?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,f)?w(e[f]):o.lstat(f,v)}function v(t,n){if(t)return r(t);if(!n.isSymbolicLink())return m[f]=!0,e&&(e[f]=f),process.nextTick(y);if(!i){var s=n.dev.toString(32)+":"+n.ino.toString(32);if(d.hasOwnProperty(s))return b(null,d[s],f)}o.stat(f,(function(t){if(t)return r(t);o.readlink(f,(function(t,e){i||(d[s]=e),b(t,e)}))}))}function b(t,i,o){if(t)return r(t);var s=n.resolve(h,i);e&&(e[o]=s),w(s)}function w(e){t=n.resolve(e,t.slice(u)),g()}g()}},5960:(t,e,r)=>{"use strict";const{PassThrough:n}=r(2781);t.exports=t=>{t={...t};const{array:e}=t;let{encoding:r}=t;const i="buffer"===r;let o=!1;e?o=!(r||i):r=r||"utf8",i&&(r=null);const s=new n({objectMode:o});r&&s.setEncoding(r);let a=0;const c=[];return s.on("data",(t=>{c.push(t),o?a=c.length:a+=t.length})),s.getBufferedValue=()=>e?c:i?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},1316:(t,e,r)=>{"use strict";const{constants:n}=r(4300),i=r(4820),o=r(5960);class s extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function a(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};const{maxBuffer:r}=e;let a;return await new Promise(((c,u)=>{const l=t=>{t&&a.getBufferedLength()<=n.MAX_LENGTH&&(t.bufferedData=a.getBufferedValue()),u(t)};a=i(t,o(e),(t=>{t?l(t):c()})),a.on("data",(()=>{a.getBufferedLength()>r&&l(new s)}))})),a.getBufferedValue()}t.exports=a,t.exports.default=a,t.exports.buffer=(t,e)=>a(t,{...e,encoding:"buffer"}),t.exports.array=(t,e)=>a(t,{...e,array:!0}),t.exports.MaxBufferError=s},865:(t,e,r)=>{function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.setopts=function(t,e,r){if(r||(r={}),r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=!1!==r.strict,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||i,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(l))}(t,r),t.changedCwd=!1;var s=process.cwd();n(r,"cwd")?(t.cwd=o.resolve(r.cwd),t.changedCwd=t.cwd!==s):t.cwd=s,t.root=r.root||o.resolve(t.cwd,"/"),t.root=o.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=a(t.cwd)?t.cwd:f(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new c(e,r),t.options=t.minimatch.options},e.ownProp=n,e.makeAbs=f,e.finish=function(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var o=t.matches[n];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);e?r.push.apply(r,s):s.forEach((function(t){r[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[n];e?r.push(a):r[a]=!0}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(u)),t.mark){for(n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter((function(e){var r=!/\/$/.test(e),n=t.cache[e]||t.cache[f(t,e)];return r&&n&&(r="DIR"!==n&&!Array.isArray(n)),r})))}t.ignore.length&&(r=r.filter((function(e){return!h(t,e)}))),t.found=r},e.mark=function(t,e){var r=f(t,e),n=t.cache[r],i=e;if(n){var o="DIR"===n||Array.isArray(n),s="/"===e.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=f(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i},e.isIgnored=h,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=r(7147),o=r(1017),s=r(2170),a=r(5854),c=s.Minimatch;function u(t,e){return t.localeCompare(e,"en")}function l(t){var e=null;if("/**"===t.slice(-3)){var r=t.replace(/(\/\*\*)+$/,"");e=new c(r,{dot:!0})}return{matcher:new c(t,{dot:!0}),gmatcher:e}}function f(t,e){var r=e;return r="/"===e.charAt(0)?o.join(t.root,e):a(e)||""===e?e:t.changedCwd?o.resolve(t.cwd,e):o.resolve(e),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function h(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},8130:(t,e,r)=>{t.exports=v;var n=r(8237),i=r(2170),o=(i.Minimatch,r(118)),s=r(2361).EventEmitter,a=r(1017),c=r(9491),u=r(5854),l=r(6807),f=r(865),h=f.setopts,p=f.ownProp,d=r(6704),m=(r(3837),f.childrenIgnored),g=f.isIgnored,y=r(2875);function v(t,e,r){if("function"==typeof e&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return l(t,e)}return new w(t,e,r)}v.sync=l;var b=v.GlobSync=l.GlobSync;function w(t,e,r){if("function"==typeof e&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new b(t,e)}if(!(this instanceof w))return new w(t,e,r);h(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(t){r(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return s();for(var o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}v.glob=v,v.hasMagic=function(t,e){var r=function(t,e){if(null===e||"object"!=typeof e)return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}({},e);r.noprocess=!0;var n=new w(t,r).minimatch.set;if(!t)return!1;if(n.length>1)return!0;for(var i=0;i<n[0].length;i++)if("string"!=typeof n[0][i])return!0;return!1},v.Glob=w,o(w,s),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n)}function n(){0==--t&&e._finish()}},w.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var i=Object.keys(r),o=this,s=i.length;if(0===s)return e();var a=this.matches[t]=Object.create(null);i.forEach((function(r,i){r=o._makeAbs(r),n.realpath(r,o.realpathCache,(function(n,i){n?"stat"===n.syscall?a[r]=!0:o.emit("error",n):a[i]=!0,0==--s&&(o.matches[t]=a,e())}))}))},w.prototype._mark=function(t){return f.mark(this,t)},w.prototype._makeAbs=function(t){return f.makeAbs(this,t)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);for(this._processQueue.length=0,e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(t,e,r,n){if(c(this instanceof w),c("function"==typeof n),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,r,n]);else{for(var o,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e,n);case 0:o=null;break;default:o=t.slice(0,s).join("/")}var a,l=t.slice(s);null===o?a=".":u(o)||u(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(o&&u(o)||(o="/"+o),a=o):a=o;var f=this._makeAbs(a);if(m(this,a))return n();l[0]===i.GLOBSTAR?this._processGlobStar(o,a,f,l,e,r,n):this._processReaddir(o,a,f,l,e,r,n)}},w.prototype._processReaddir=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,(function(c,u){return a._processReaddir2(t,e,r,n,i,o,u,s)}))},w.prototype._processReaddir2=function(t,e,r,n,i,o,s,c){if(!s)return c();for(var u=n[0],l=!!this.minimatch.negate,f=u._glob,h=this.dot||"."===f.charAt(0),p=[],d=0;d<s.length;d++)("."!==(g=s[d]).charAt(0)||h)&&(l&&!t?!g.match(u):g.match(u))&&p.push(g);var m=p.length;if(0===m)return c();if(1===n.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),d=0;d<m;d++){var g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}return c()}for(n.shift(),d=0;d<m;d++)g=p[d],t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(n),i,o,c);c()},w.prototype._emitMatch=function(t,e){if(!this.aborted&&!g(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var r=u(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}},w.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var r=this,n=d("lstat\0"+t,(function(n,i){if(n&&"ENOENT"===n.code)return e();var o=i&&i.isSymbolicLink();r.symlinks[t]=o,o||!i||i.isDirectory()?r._readdir(t,!1,e):(r.cache[t]="FILE",e())}));n&&r.fs.lstat(t,n)}},w.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d("readdir\0"+t+"\0"+e,r))){if(e&&!p(this.symlinks,t))return this._readdirInGlobStar(t,r);if(p(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return r();if(Array.isArray(n))return r(null,n)}this.fs.readdir(t,function(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}(this,t,r))}},w.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}},w.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return r()}},w.prototype._processGlobStar=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,(function(c,u){a._processGlobStar2(t,e,r,n,i,o,u,s)}))},w.prototype._processGlobStar2=function(t,e,r,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,a);var f=this.symlinks[r],h=s.length;if(f&&o)return a();for(var p=0;p<h;p++)if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],c);this._process(d,i,!0,a);var m=u.concat(s[p],n);this._process(m,i,!0,a)}a()},w.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,(function(i,o){n._processSimple2(t,e,i,o,r)}))},w.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&u(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},w.prototype._stat=function(t,e){var r=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&p(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return e(null,i);if(n&&"FILE"===i)return e()}var o=this.statCache[r];if(void 0!==o){if(!1===o)return e(null,o);var s=o.isDirectory()?"DIR":"FILE";return n&&"FILE"===s?e():e(null,s,o)}var a=this,c=d("stat\0"+r,(function(n,i){if(i&&i.isSymbolicLink())return a.fs.stat(r,(function(n,o){n?a._stat2(t,r,null,i,e):a._stat2(t,r,n,o,e)}));a._stat2(t,r,n,i,e)}));c&&a.fs.lstat(r,c)},w.prototype._stat2=function(t,e,r,n,i){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=n,"/"===e.slice(-1)&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&"FILE"===s?i():i(null,s,n)}},6807:(t,e,r)=>{t.exports=p,p.GlobSync=d;var n=r(8237),i=r(2170),o=(i.Minimatch,r(8130).Glob,r(3837),r(1017)),s=r(9491),a=r(5854),c=r(865),u=c.setopts,l=c.ownProp,f=c.childrenIgnored,h=c.isIgnored;function p(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new d(t,e).found}function d(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof d))return new d(t,e);if(u(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}d.prototype._finish=function(){if(s.ok(this instanceof d),this.realpath){var t=this;this.matches.forEach((function(e,r){var i=t.matches[r]=Object.create(null);for(var o in e)try{o=t._makeAbs(o),i[n.realpathSync(o,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;i[t._makeAbs(o)]=!0}}))}c.finish(this)},d.prototype._process=function(t,e,r){s.ok(this instanceof d);for(var n,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e);case 0:n=null;break;default:n=t.slice(0,o).join("/")}var c,u=t.slice(o);null===n?c=".":a(n)||a(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(n&&a(n)||(n="/"+n),c=n):c=n;var l=this._makeAbs(c);f(this,c)||(u[0]===i.GLOBSTAR?this._processGlobStar(n,c,l,u,e,r):this._processReaddir(n,c,l,u,e,r))},d.prototype._processReaddir=function(t,e,r,n,i,s){var a=this._readdir(r,s);if(a){for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,f=this.dot||"."===l.charAt(0),h=[],p=0;p<a.length;p++)("."!==(g=a[p]).charAt(0)||f)&&(u&&!t?!g.match(c):g.match(c))&&h.push(g);var d=h.length;if(0!==d)if(1!==n.length||this.mark||this.stat)for(n.shift(),p=0;p<d;p++){var m;g=h[p],m=t?[t,g]:[g],this._process(m.concat(n),i,s)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(p=0;p<d;p++){var g=h[p];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=o.join(this.root,g)),this._emitMatch(i,g)}}}},d.prototype._emitMatch=function(t,e){if(!h(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if("DIR"===n||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},d.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,n||!r||r.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},d.prototype._readdir=function(t,e){if(e&&!l(this.symlinks,t))return this._readdirInGlobStar(t);if(l(this.cache,t)){var r=this.cache[t];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},d.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];n="/"===t?t+n:t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e},d.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},d.prototype._processGlobStar=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[r]||!o)for(var f=0;f<l;f++)if("."!==s[f].charAt(0)||this.dot){var h=c.concat(s[f],a);this._process(h,i,!0);var p=c.concat(s[f],n);this._process(p,i,!0)}}},d.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),r){if(t&&a(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=o.join(this.root,t):(t=o.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},d.prototype._stat=function(t){var e=this._makeAbs(t),r="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,e)){var n=this.cache[e];if(Array.isArray(n)&&(n="DIR"),!r||"DIR"===n)return n;if(r&&"FILE"===n)return!1}var i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch(t){i=o}else i=o}return this.statCache[e]=i,n=!0,i&&(n=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||n,(!r||"FILE"!==n)&&n},d.prototype._mark=function(t){return c.mark(this,t)},d.prototype._makeAbs=function(t){return c.makeAbs(this,t)}},6704:(t,e,r)=>{var n=r(602),i=Object.create(null),o=r(2875);function s(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}t.exports=n((function(t,e){return i[t]?(i[t].push(e),null):(i[t]=[e],function(t){return o((function e(){var r=i[t],n=r.length,o=s(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,o)}finally{r.length>n?(r.splice(0,n),process.nextTick((function(){e.apply(null,o)}))):delete i[t]}}))}(t))}))},118:(t,e,r)=>{try{var n=r(3837);if("function"!=typeof n.inherits)throw"";t.exports=n.inherits}catch(e){t.exports=r(2400)}},2400:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},5206:t=>{"use strict";const e=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;e.writable=t=>e(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,e.readable=t=>e(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,e.duplex=t=>e.writable(t)&&e.readable(t),e.transform=t=>e.duplex(t)&&"function"==typeof t._transform,t.exports=e},8799:(t,e,r)=>{var n;function i(t,e,r){if("function"==typeof e&&(r=e,e={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,n){i(t,e||{},(function(t,e){t?n(t):r(e)}))}))}n(t,e||{},(function(t,n){t&&("EACCES"===t.code||e&&e.ignoreErrors)&&(t=null,n=!1),r(t,n)}))}r(7147),n="win32"===process.platform||global.TESTING_WINDOWS?r(4553):r(668),t.exports=i,i.sync=function(t,e){try{return n.sync(t,e||{})}catch(t){if(e&&e.ignoreErrors||"EACCES"===t.code)return!1;throw t}}},668:(t,e,r)=>{t.exports=i,i.sync=function(t,e){return o(n.statSync(t),e)};var n=r(7147);function i(t,e,r){n.stat(t,(function(t,n){r(t,!t&&o(n,e))}))}function o(t,e){return t.isFile()&&function(t,e){var r=t.mode,n=t.uid,i=t.gid,o=void 0!==e.uid?e.uid:process.getuid&&process.getuid(),s=void 0!==e.gid?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return r&parseInt("001",8)||r&c&&i===s||r&a&&n===o||r&(a|c)&&0===o}(t,e)}},4553:(t,e,r)=>{t.exports=o,o.sync=function(t,e){return i(n.statSync(t),t,e)};var n=r(7147);function i(t,e,r){return!(!t.isSymbolicLink()&&!t.isFile())&&function(t,e){var r=void 0!==e.pathExt?e.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}(e,r)}function o(t,e,r){n.stat(t,(function(n,o){r(n,!n&&i(o,t,e))}))}},638:(t,e,r)=>{"use strict";const{PassThrough:n}=r(2781);t.exports=function(){var t=[],e=new n({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=i,e.on("unpipe",o),Array.prototype.slice.call(arguments).forEach(r),e;function r(n){return Array.isArray(n)?(n.forEach(r),this):(t.push(n),n.once("end",o.bind(null,n)),n.once("error",e.emit.bind(e,"error")),n.pipe(e,{end:!1}),this)}function i(){return 0==t.length}function o(r){!(t=t.filter((function(t){return t!==r}))).length&&e.readable&&e.end()}}},927:t=>{"use strict";const e=(t,e)=>{for(const r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};t.exports=e,t.exports.default=e},2170:(t,e,r)=>{t.exports=h,h.Minimatch=p;var n=function(){try{return r(1017)}catch(t){}}()||{sep:"/"};h.sep=n.sep;var i=h.GLOBSTAR=p.GLOBSTAR={},o=r(2961),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{}),l=/\/+/;function f(t,e){e=e||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function h(t,e,r){return m(e),r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&new p(e,r).match(t)}function p(t,e){if(!(this instanceof p))return new p(t,e);m(t),e||(e={}),t=t.trim(),e.allowWindowsEscape||"/"===n.sep||(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}function d(t,e){return e||(e=this instanceof p?this.options:{}),t=void 0===t?this.pattern:t,m(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:o(t)}h.filter=function(t,e){return e=e||{},function(r,n,i){return h(r,t,e)}},h.defaults=function(t){if(!t||"object"!=typeof t||!Object.keys(t).length)return h;var e=h,r=function(r,n,i){return e(r,n,f(t,i))};return(r.Minimatch=function(r,n){return new e.Minimatch(r,f(t,n))}).defaults=function(r){return e.defaults(f(t,r)).Minimatch},r.filter=function(r,n){return e.filter(r,f(t,n))},r.defaults=function(r){return e.defaults(f(t,r))},r.makeRe=function(r,n){return e.makeRe(r,f(t,n))},r.braceExpand=function(r,n){return e.braceExpand(r,f(t,n))},r.match=function(r,n,i){return e.match(r,n,f(t,i))},r},p.defaults=function(t){return h.defaults(t).Minimatch},p.prototype.debug=function(){},p.prototype.make=function(){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map((function(t){return t.split(l)})),this.debug(this.pattern,r),r=r.map((function(t,e,r){return t.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0},p.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=0;if(!this.options.nonegate){for(var n=0,i=t.length;n<i&&"!"===t.charAt(n);n++)e=!e,r++;r&&(this.pattern=t.substr(r)),this.negate=e}},h.braceExpand=function(t,e){return d(t,e)},p.prototype.braceExpand=d;var m=function(t){if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};p.prototype.parse=function(t,e){m(t);var r=this.options;if("**"===t){if(!r.noglobstar)return i;t="*"}if(""===t)return"";var n,o="",l=!!r.nocase,f=!1,h=[],p=[],d=!1,y=-1,v=-1,b="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function x(){if(n){switch(n){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+n}w.debug("clearStateChar %j %j",n,o),n=!1}}for(var E,S=0,_=t.length;S<_&&(E=t.charAt(S));S++)if(this.debug("%s\t%s %s %j",t,S,o,E),f&&u[E])o+="\\"+E,f=!1;else switch(E){case"/":return!1;case"\\":x(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,S,o,E),d){this.debug("  in class"),"!"===E&&S===v+1&&(E="^"),o+=E;continue}w.debug("call clearStateChar %j",n),x(),n=E,r.noext&&x();continue;case"(":if(d){o+="(";continue}if(!n){o+="\\(";continue}h.push({type:n,start:S-1,reStart:o.length,open:s[n].open,close:s[n].close}),o+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,o),n=!1;continue;case")":if(d||!h.length){o+="\\)";continue}x(),l=!0;var O=h.pop();o+=O.close,"!"===O.type&&p.push(O),O.reEnd=o.length;continue;case"|":if(d||!h.length||f){o+="\\|",f=!1;continue}x(),o+="|";continue;case"[":if(x(),d){o+="\\"+E;continue}d=!0,v=S,y=o.length,o+=E;continue;case"]":if(S===v+1||!d){o+="\\"+E,f=!1;continue}var k=t.substring(v+1,S);try{RegExp("["+k+"]")}catch(t){var A=this.parse(k,g);o=o.substr(0,y)+"\\["+A[0]+"\\]",l=l||A[1],d=!1;continue}l=!0,d=!1,o+=E;continue;default:x(),f?f=!1:!u[E]||"^"===E&&d||(o+="\\"),o+=E}for(d&&(k=t.substr(v+1),A=this.parse(k,g),o=o.substr(0,y)+"\\["+A[0],l=l||A[1]),O=h.pop();O;O=h.pop()){var j=o.slice(O.reStart+O.open.length);this.debug("setting tail",o,O),j=j.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,r){return r||(r="\\"),e+e+r+"|"})),this.debug("tail=%j\n   %s",j,j,O,o);var T="*"===O.type?c:"?"===O.type?a:"\\"+O.type;l=!0,o=o.slice(0,O.reStart)+T+"\\("+j}x(),f&&(o+="\\\\");var I=!1;switch(o.charAt(0)){case"[":case".":case"(":I=!0}for(var C=p.length-1;C>-1;C--){var N=p[C],$=o.slice(0,N.reStart),P=o.slice(N.reStart,N.reEnd-8),R=o.slice(N.reEnd-8,N.reEnd),M=o.slice(N.reEnd);R+=M;var L=$.split("(").length-1,G=M;for(S=0;S<L;S++)G=G.replace(/\)[+*?]?/,"");var D="";""===(M=G)&&e!==g&&(D="$"),o=$+P+M+D+R}if(""!==o&&l&&(o="(?=.)"+o),I&&(o=b+o),e===g)return[o,l];if(!l)return t.replace(/\\(.)/g,"$1");var q=r.nocase?"i":"";try{var B=new RegExp("^"+o+"$",q)}catch(t){return new RegExp("$.")}return B._glob=t,B._src=o,B};var g={};h.makeRe=function(t,e){return new p(t,e||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?c:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===i?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(t){this.regexp=!1}return this.regexp},h.match=function(t,e,r){var n=new p(e,r=r||{});return t=t.filter((function(t){return n.match(t)})),n.options.nonull&&!t.length&&t.push(e),t},p.prototype.match=function(t,e){if(void 0===e&&(e=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/")),t=t.split(l),this.debug(this.pattern,"split",t);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=t;if(r.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},p.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,s=0,a=t.length,c=e.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=e[s],f=t[o];if(this.debug(e,l,f),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[e,l,f]);var h=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===t[o]||".."===t[o]||!n.dot&&"."===t[o].charAt(0))return!1;return!0}for(;h<a;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,p,d),this.matchOne(t.slice(h),e.slice(p),r))return this.debug("globstar found match!",h,a,d),!0;if("."===d||".."===d||!n.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",t,h,e,p),h!==a))}if("string"==typeof l?(u=f===l,this.debug("string match",l,f,u)):(u=f.match(l),this.debug("pattern match",l,f,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return r;if(s===c)return o===a-1&&""===t[o];throw new Error("wtf?")}},2961:(t,e,r)=>{var n=r(1261),i=r(7340);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),y(function(t){return t.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(t),!0).map(f)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function f(t){return t.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function h(t){if(!t)return[""];var e=[],r=i("{","}",t);if(!r)return t.split(",");var n=r.pre,o=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+o+"}";var c=h(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),e.push.apply(e,a),e}function p(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function m(t,e){return t<=e}function g(t,e){return t>=e}function y(t,e){var r=[],o=i("{","}",t);if(!o||/\$$/.test(o.pre))return[t];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),f=c||u,v=o.body.indexOf(",")>=0;if(!f&&!v)return o.post.match(/,.*\}/)?y(t=o.pre+"{"+o.body+a+o.post):[t];if(f)s=o.body.split(/\.\./);else if(1===(s=h(o.body)).length&&1===(s=y(s[0],!1).map(p)).length)return(x=o.post.length?y(o.post,!1):[""]).map((function(t){return o.pre+s[0]+t}));var b,w=o.pre,x=o.post.length?y(o.post,!1):[""];if(f){var E=l(s[0]),S=l(s[1]),_=Math.max(s[0].length,s[1].length),O=3==s.length?Math.abs(l(s[2])):1,k=m;S<E&&(O*=-1,k=g);var A=s.some(d);b=[];for(var j=E;k(j,S);j+=O){var T;if(u)"\\"===(T=String.fromCharCode(j))&&(T="");else if(T=String(j),A){var I=_-T.length;if(I>0){var C=new Array(I+1).join("0");T=j<0?"-"+C+T.slice(1):C+T}}b.push(T)}}else b=n(s,(function(t){return y(t,!1)}));for(var N=0;N<b.length;N++)for(var $=0;$<x.length;$++){var P=w+b[N]+x[$];(!e||f||P)&&r.push(P)}return r}},5548:(t,e,r)=>{var n=r(7147),i=r(1017);function o(t,e,r,s){var a=s;s||(a=r,r={});var c=process.cwd(),u=i.resolve(c,t),l=i.resolve(c,e),f=r.filter,h=r.rename,p=r.transform,d=!1!==r.clobber,m=r.modified,g=r.dereference,y=null,v=0,b=0,w=0,x=r.limit||o.limit||16;function E(t){if(v++,f)if(f instanceof RegExp){if(!f.test(t))return I(!0)}else if("function"==typeof f&&!f(t))return I(!0);return S(t)}function S(t){var e=g?n.stat:n.lstat;if(w>=x)return setImmediate((function(){S(t)}));w++,e(t,(function(e,r){var o,s,a={};return e?T(e):(a.name=t,a.mode=r.mode,a.mtime=r.mtime,a.atime=r.atime,r.isDirectory()?void j(s=(o=a).name.replace(u,l),(function(t){if(t)return function(t,e){n.mkdir(e,t.mode,(function(e){if(e)return T(e);k(t.name)}))}(o,s);k(o.name)})):r.isFile()?function(t){var e=t.name.replace(u,l);h&&(e=h(e)),j(e,(function(r){return r?_(t,e):(d&&O(e,(function(){_(t,e)})),m?void(g?n.stat:n.lstat)(e,(function(r,n){if(!(t.mtime.getTime()>n.mtime.getTime()))return I();_(t,e)})):I())}))}(a):r.isSymbolicLink()?function(t){var e=t.replace(u,l);n.readlink(t,(function(t,r){if(t)return T(t);!function(t,e){g&&(t=i.resolve(c,t)),j(e,(function(r){if(r)return A(t,e);n.readlink(e,(function(r,n){return r?T(r):(g&&(n=i.resolve(c,n)),n===t?I():O(e,(function(){A(t,e)})))}))}))}(r,e)}))}(t):void 0)}))}function _(t,e){var r=n.createReadStream(t.name),i=n.createWriteStream(e,{mode:t.mode});r.on("error",T),i.on("error",T),p?p(r,i,t):i.on("open",(function(){r.pipe(i)})),i.once("finish",(function(){m?(n.utimesSync(e,t.atime,t.mtime),I()):I()}))}function O(t,e){n.unlink(t,(function(t){return t?T(t):e()}))}function k(t){n.readdir(t,(function(e,r){return e?T(e):(r.forEach((function(e){E(i.join(t,e))})),I())}))}function A(t,e){n.symlink(t,e,(function(t){return t?T(t):I()}))}function j(t,e){n.lstat(t,(function(t){return t&&"ENOENT"===t.code?e(!0):e(!1)}))}function T(t){return r.stopOnError?a(t):(!y&&r.errs?y=n.createWriteStream(r.errs):y||(y=[]),void 0===y.write?y.push(t):y.write(t.stack+"\n\n"),I())}function I(t){if(t||w--,b++,v===b&&0===w&&void 0!==a)return a(y||null)}x=x<1?1:x>512?512:x,E(u)}t.exports=o,o.ncp=o},2875:(t,e,r)=>{var n=r(602);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}t.exports=n(i),t.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},900:(t,e,r)=>{"use strict";const n=r(927),i=new WeakMap,o=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let r,o=0;const s=t.displayName||t.name||"<anonymous>",a=function(...n){if(i.set(a,++o),1===o)r=t.apply(this,n),t=null;else if(!0===e.throw)throw new Error(`Function \`${s}\` can only be called once`);return r};return n(a,t),i.set(a,o),a};t.exports=o,t.exports.default=o,t.exports.callCount=t=>{if(!i.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return i.get(t)}},5854:t=>{"use strict";function e(t){return"/"===t.charAt(0)}function r(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),r=e[1]||"",n=Boolean(r&&":"!==r.charAt(1));return Boolean(e[2]||n)}t.exports="win32"===process.platform?r:e,t.exports.posix=e,t.exports.win32=r},9384:t=>{"use strict";const e=(t={})=>{const e=t.env||process.env;return"win32"!==(t.platform||process.platform)?"PATH":Object.keys(e).reverse().find((t=>"PATH"===t.toUpperCase()))||"Path"};t.exports=e,t.exports.default=e},4820:(t,e,r)=>{var n=r(2875),i=r(2179),o=r(7147),s=function(){},a=/^v?\.0/.test(process.version),c=function(t){return"function"==typeof t},u=function(t,e,r,u){u=n(u);var l=!1;t.on("close",(function(){l=!0})),i(t,{readable:e,writable:r},(function(t){if(t)return u(t);l=!0,u()}));var f=!1;return function(e){if(!l&&!f)return f=!0,function(t){return!!a&&!!o&&(t instanceof(o.ReadStream||s)||t instanceof(o.WriteStream||s))&&c(t.close)}(t)?t.close(s):function(t){return t.setHeader&&c(t.abort)}(t)?t.abort():c(t.destroy)?t.destroy():void u(e||new Error("stream was destroyed"))}},l=function(t){t()},f=function(t,e){return t.pipe(e)};t.exports=function(){var t,e=Array.prototype.slice.call(arguments),r=c(e[e.length-1]||s)&&e.pop()||s;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var n=e.map((function(i,o){var s=o<e.length-1;return u(i,s,o>0,(function(e){t||(t=e),e&&n.forEach(l),s||(n.forEach(l),r(t))}))}));return e.reduce(f)}},6496:(t,e,r)=>{const n=r(9491),i=r(1017),o=r(7147);let s;try{s=r(8130)}catch(t){}const a={nosort:!0,silent:!0};let c=0;const u="win32"===process.platform,l=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((e=>{t[e]=t[e]||o[e],t[e+="Sync"]=t[e]||o[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||a},f=(t,e,r)=>{"function"==typeof e&&(r=e,e={}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n.equal(typeof r,"function","rimraf: callback function required"),n(e,"rimraf: invalid options argument provided"),n.equal(typeof e,"object","rimraf: options should be object"),l(e);let i=0,o=null,a=0;const u=(t,n)=>t?r(t):(a=n.length,0===a?r():void n.forEach((t=>{const n=s=>{if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<e.maxBusyTries)return i++,setTimeout((()=>h(t,e,n)),100*i);if("EMFILE"===s.code&&c<e.emfileWait)return setTimeout((()=>h(t,e,n)),c++);"ENOENT"===s.code&&(s=null)}c=0,(t=>{o=o||t,0==--a&&r(o)})(s)};h(t,e,n)})));if(e.disableGlob||!s.hasMagic(t))return u(null,[t]);e.lstat(t,((r,n)=>{if(!r)return u(null,[t]);s(t,e.glob,u)}))},h=(t,e,r)=>{n(t),n(e),n("function"==typeof r),e.lstat(t,((n,i)=>n&&"ENOENT"===n.code?r(null):(n&&"EPERM"===n.code&&u&&p(t,e,n,r),i&&i.isDirectory()?m(t,e,n,r):void e.unlink(t,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return u?p(t,e,n,r):m(t,e,n,r);if("EISDIR"===n.code)return m(t,e,n,r)}return r(n)})))))},p=(t,e,r,i)=>{n(t),n(e),n("function"==typeof i),e.chmod(t,438,(n=>{n?i("ENOENT"===n.code?null:r):e.stat(t,((n,o)=>{n?i("ENOENT"===n.code?null:r):o.isDirectory()?m(t,e,r,i):e.unlink(t,i)}))}))},d=(t,e,r)=>{n(t),n(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw r}let i;try{i=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw r}i.isDirectory()?v(t,e,r):e.unlinkSync(t)},m=(t,e,r,i)=>{n(t),n(e),n("function"==typeof i),e.rmdir(t,(n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?n&&"ENOTDIR"===n.code?i(r):i(n):g(t,e,i)}))},g=(t,e,r)=>{n(t),n(e),n("function"==typeof r),e.readdir(t,((n,o)=>{if(n)return r(n);let s,a=o.length;if(0===a)return e.rmdir(t,r);o.forEach((n=>{f(i.join(t,n),e,(n=>{if(!s)return n?r(s=n):void(0==--a&&e.rmdir(t,r))}))}))}))},y=(t,e)=>{let r;if(l(e=e||{}),n(t,"rimraf: missing path"),n.equal(typeof t,"string","rimraf: path should be a string"),n(e,"rimraf: missing options"),n.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!s.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch(n){r=s.sync(t,e.glob)}if(r.length)for(let t=0;t<r.length;t++){const n=r[t];let i;try{i=e.lstatSync(n)}catch(t){if("ENOENT"===t.code)return;"EPERM"===t.code&&u&&d(n,e,t)}try{i&&i.isDirectory()?v(n,e,null):e.unlinkSync(n)}catch(t){if("ENOENT"===t.code)return;if("EPERM"===t.code)return u?d(n,e,t):v(n,e,t);if("EISDIR"!==t.code)throw t;v(n,e,t)}}},v=(t,e,r)=>{n(t),n(e);try{e.rmdirSync(t)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code)throw r;"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code||b(t,e)}},b=(t,e)=>{n(t),n(e),e.readdirSync(t).forEach((r=>y(i.join(t,r),e)));const r=u?100:1;let o=0;for(;;){let n=!0;try{const i=e.rmdirSync(t,e);return n=!1,i}finally{if(++o<r&&n)continue}}};t.exports=f,f.sync=y},5164:(t,e,r)=>{var n=global.process;const i=function(t){return t&&"object"==typeof t&&"function"==typeof t.removeListener&&"function"==typeof t.emit&&"function"==typeof t.reallyExit&&"function"==typeof t.listeners&&"function"==typeof t.kill&&"number"==typeof t.pid&&"function"==typeof t.on};if(i(n)){var o,s=r(9491),a=r(5475),c=/^win/i.test(n.platform),u=r(2361);"function"!=typeof u&&(u=u.EventEmitter),n.__signal_exit_emitter__?o=n.__signal_exit_emitter__:((o=n.__signal_exit_emitter__=new u).count=0,o.emitted={}),o.infinite||(o.setMaxListeners(1/0),o.infinite=!0),t.exports=function(t,e){if(!i(global.process))return function(){};s.equal(typeof t,"function","a callback must be provided for exit handler"),!1===p&&d();var r="exit";return e&&e.alwaysLast&&(r="afterexit"),o.on(r,t),function(){o.removeListener(r,t),0===o.listeners("exit").length&&0===o.listeners("afterexit").length&&l()}};var l=function(){p&&i(global.process)&&(p=!1,a.forEach((function(t){try{n.removeListener(t,h[t])}catch(t){}})),n.emit=y,n.reallyExit=m,o.count-=1)};t.exports.unload=l;var f=function(t,e,r){o.emitted[t]||(o.emitted[t]=!0,o.emit(t,e,r))},h={};a.forEach((function(t){h[t]=function(){i(global.process)&&n.listeners(t).length===o.count&&(l(),f("exit",null,t),f("afterexit",null,t),c&&"SIGHUP"===t&&(t="SIGINT"),n.kill(n.pid,t))}})),t.exports.signals=function(){return a};var p=!1,d=function(){!p&&i(global.process)&&(p=!0,o.count+=1,a=a.filter((function(t){try{return n.on(t,h[t]),!0}catch(t){return!1}})),n.emit=v,n.reallyExit=g)};t.exports.load=d;var m=n.reallyExit,g=function(t){i(global.process)&&(n.exitCode=t||0,f("exit",n.exitCode,null),f("afterexit",n.exitCode,null),m.call(n,n.exitCode))},y=n.emit,v=function(t,e){if("exit"===t&&i(global.process)){void 0!==e&&(n.exitCode=e);var r=y.apply(this,arguments);return f("exit",n.exitCode,null),f("afterexit",n.exitCode,null),r}return y.apply(this,arguments)}}else t.exports=function(){return function(){}}},5475:t=>{t.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&t.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&t.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},9709:t=>{"use strict";t.exports=t=>{const e="string"==typeof t?"\n":"\n".charCodeAt(),r="string"==typeof t?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}},602:t=>{t.exports=function t(e,r){if(e&&r)return t(e)(r);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){n[t]=e[t]})),n;function n(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];var n=e.apply(this,t),i=t[t.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(t){n[t]=i[t]})),n}}},9491:t=>{"use strict";t.exports=require("assert")},4300:t=>{"use strict";t.exports=require("buffer")},2081:t=>{"use strict";t.exports=require("child_process")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},3837:t=>{"use strict";t.exports=require("util")}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{Runner:()=>y});var t=r(7723),e=r.n(t),i=r(7147),o=r(5548),s=r(1017),a=r(6496),c=r.n(a),u=r(3837);const l="C:\\Program Files\\Unowhy\\HiSqool Manager",f=`${l}\\sqoolctl`,h=`${f}.old.${Math.round(1e5*Math.random())}`,p=`${f}\\sqoolctl.exe`,d="sqoolctl.exe",m=(0,u.promisify)(o.ncp),g=(0,u.promisify)(c());class y{constructor(t){this.context=t}get installVersion(){return this.context.metadata.packageVersion}log(t){return this.context.logger.log(t)}debug(t){return this.context.logger.debug(t)}error(t){return this.context.logger.error(t)}async getCurrentVersion(){let t=null;try{this.debug(`Querying ${p} version...`);const{stdout:r,stderr:n,exitCode:i}=await e()(p,["--version"],{reject:!1});this.debug(`return code is ${i}`),0===i?t=r:this.debug(`Got an error code ${i}: ${n}`)}catch(t){this.error(`Error while getting reg key current sqoolctl version: ${t}`)}return t}parseVersion(t){try{return t?.split(".").map((t=>parseInt(t,10)))??[]}catch(e){this.error(`Error while parsing version ${t}: ${e}`)}}shouldUpdate(t,e){const r=this.parseVersion(t),n=this.parseVersion(e),i=Math.min(r.length,n.length);for(let t=0;t<i;t++){const e=r[t],i=n[t];if(i>e)return!0;if(i<e)return!1}return n.length>r.length}async check(t){this.log("Checking that the unit needs to be performed");let r=!0;if(0!==(await e()("sc.exe",["query","Unowhy Task Scheduler"],{reject:!1})).exitCode)return!0;if("win32"===this.context.platform&&this.context.versionCode>19120948){if((0,i.existsSync)(p)){const t=await this.getCurrentVersion();this.log(`Current version is ${t}.`),r=this.shouldUpdate(t,this.installVersion)}}else this.log("Not running on Windows or device manager is too old!"),r=!1;return r}async deleteOldDir(){(0,i.existsSync)(h)&&(this.log(`Removing old directory ${h}...`),await g(h))}async cleanTempFiles(){const t=(0,i.readdirSync)(l),e=/^sqoolctl\.old.*$/;for(const r of t)if(e.test(r))try{await g((0,s.join)(l,r))}catch{}}async perform(t){this.log(`Installing sqoolctl ${this.installVersion}...`);let r=!1,n=!1,o=!1;try{await e()("sc.exe",["stop","Unowhy Task Scheduler"],{reject:!1}),await e()("sc.exe",["delete","Unowhy Task Scheduler"],{reject:!1}),await e()("taskkill.exe",["/F","/IM","sqool*"],{reject:!1}),await e()("timeout.exe",["/T","3","/NOBREAK"],{reject:!1}),await this.cleanTempFiles(),(0,i.existsSync)(f)&&(await this.deleteOldDir(),n=!0,this.log(`Moving existing directory ${f} to ${h}`),await i.promises.rename(f,h));const t=(0,s.join)(__dirname,"sqoolctl");this.log(`Copying ${t} to ${f}...`),await m(t,f),o=!0;const a=(0,s.join)(l,d);this.debug(`Creating destination shim ${a}...`),(0,i.existsSync)(a)||await i.promises.copyFile((0,s.join)(__dirname,d),a);const c=(0,s.join)(l,"sqoolctl.shim"),u=`path = ${p}\n`;this.debug(`Creating [${c}] with content [${u}]`),await i.promises.writeFile(c,u),this.log("Initialization of sqoolctl...");const g=await e()(a,["init"],{reject:!1});this.log(`Result: ${g.exitCode}`),this.log(`Stdout: ${g.stdout}`),this.log(`Stderr: ${g.stderr}`);const y=(0,s.join)(l,"sqoolctl","sqooltsk.exe"),v=await e()("sc.exe",["create","Unowhy Task Scheduler","start=","auto","depend=","HiSqoolManager","binpath=",y],{reject:!1});this.log(`Result: ${v.exitCode}`),this.log(`Stdout: ${v.stdout}`),this.log(`Stderr: ${v.stderr}`);const b=await e()("sc.exe",["start","Unowhy Task Scheduler"],{reject:!1});this.log(`Result: ${b.exitCode}`),this.log(`Stdout: ${b.stdout}`),this.log(`Stderr: ${b.stderr}`),r=0===g.exitCode&&0===v.exitCode&&0===b.exitCode}catch(t){this.log(`Error while installing application: ${t}`)}finally{if(n)try{o?await this.deleteOldDir():(this.log("Old version present. Restoring..."),await i.promises.rename(h,f))}catch(t){this.log(`Error while deleting old directory application: ${t}`)}}return r}}})(),n})()));