!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";const r=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};e.exports=r,e.exports.default=r},function(e,t){e.exports=require("os")},function(e,t,n){var r=n(38);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};const o=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(8)),i=n(0);e.exports=class{constructor(e){this.context=e}log(e){return this.context.logger.log(e)}warn(e){return this.context.logger.warn(e)}get installationPpkg(){return i.join(__dirname,"RecoveryDisable_1.0.0.ppkg")}check(){return r(this,void 0,void 0,(function*(){if(this.log("Checking that the unit needs to be performed"),"win32"!==this.context.platform)return this.warn("Not running on Windows !"),!1;try{const{stdout:e}=yield o.default("powershell.exe",[`(Get-ProvisioningPackage -PackagePath '${this.installationPpkg}').packageId.Guid`]);this.GUID=e,this.log("GUID package: "+this.GUID)}catch(e){this.warn("Error while processing installation GUID: "+e)}if(this.GUID){try{const{stdout:e}=yield o.default("powershell.exe",[`(Get-ProvisioningPackage -PackageId '${this.GUID}').version`]);this.current=e,this.log("Version of current package: "+this.current)}catch(e){this.warn("Error while processing current version: "+e)}if(this.current){try{const{stdout:e}=yield o.default("powershell.exe",[`(Get-ProvisioningPackage -PackagePath '${this.installationPpkg}').version`]);this.update=e,this.log("Version of update package: "+this.update)}catch(e){this.warn("Error while processing update version: "+e)}return parseFloat(this.current)>=parseFloat(this.update)?(this.log("Your package is up to date"),!1):(this.log("Upgrading the package ..."),this.STATUS="upgrade",!0)}return this.log("Installing the package ..."),this.STATUS="install",!0}}))}perform(){return r(this,void 0,void 0,(function*(){let e=!1;if("install"===this.STATUS)try{this.log(`Running ${this.installationPpkg}, args=${["-QuietInstall"]}...`);const{stdout:t,stderr:n,exitCode:r}=yield o.default("powershell.exe",[`Install-ProvisioningPackage -PackagePath '${this.installationPpkg}' ${["-QuietInstall"]}`]);this.log("Install Result: "+r),this.log("Install Stdout: "+t),this.log("Install Stderr: "+n),e=0===r,this.log("Finishing Installation")}catch(e){this.warn("Error while installing the application: "+e)}else if("upgrade"===this.STATUS){try{this.log(`Removing package, GUID=${this.GUID}...`),yield o.default("powershell.exe",[`Remove-ProvisioningPackage -PackageId '${this.GUID}'`])}catch(e){this.warn("Error while removing the package: "+e)}try{this.log(`Running ${this.installationPpkg}, args=${["-QuietInstall"]}...`);const{stdout:t,stderr:n,exitCode:r}=yield o.default("powershell.exe",[`Install-ProvisioningPackage -PackagePath '${this.installationPpkg}' ${["-QuietInstall"]}`]);this.log("Install Result: "+r),this.log("Install Stdout: "+t),this.log("Install Stderr: "+n),e=0===r,this.log("Finishing Installation")}catch(e){this.warn("Error while installing the application: "+e)}}return e}))}}},function(e,t,n){"use strict";const r=n(0),o=n(2),i=n(9),s=n(21),c=n(22),a=n(23),u=n(25),l=n(27),{spawnedKill:f,spawnedCancel:d,setupTimeout:p,setExitHandler:h}=n(28),{handleInput:m,getSpawnedResult:g,makeAllStream:x,validateInputSync:y}=n(34),{mergePromise:w,getSpawnedPromise:v}=n(42),{joinCommand:E,parseCommand:b}=n(43),S=(e,t,n={})=>{const o=i._parse(e,t,n);return e=o.command,t=o.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=o.options).cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0,...n,windowsHide:!0}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r})=>{const o=t?{...process.env,...e}:e;return n?c.env({env:o,cwd:r}):o})(n),n.stdio=l(n),"win32"===process.platform&&"cmd"===r.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:o}},P=(e,t,n)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?s(t):t:void 0===n?void 0:"",I=(e,t,n)=>{const r=S(e,t,n),s=E(e,t);let c;try{c=o.spawn(r.file,r.args,r.options)}catch(e){const t=new o.ChildProcess,n=Promise.reject(u({error:e,stdout:"",stderr:"",all:"",command:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return w(t,n)}const l=v(c),y=p(c,r.options,l),b=h(c,r.options,y),I={isCanceled:!1};c.kill=f.bind(null,c.kill.bind(c)),c.cancel=d.bind(null,c,I);const T=a(async()=>{const[{error:e,code:t,signal:n,timedOut:o},i,a,l]=await g(c,r.options,b),f=P(r.options,i),d=P(r.options,a),p=P(r.options,l);if(e||0!==t||null!==n){const i=u({error:e,code:t,signal:n,stdout:f,stderr:d,all:p,command:s,parsed:r,timedOut:o,isCanceled:I.isCanceled,killed:c.killed});if(!r.options.reject)return i;throw i}return{command:s,exitCode:0,exitCodeName:"SUCCESS",stdout:f,stderr:d,all:p,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return i._enoent.hookChildProcess(c,r.parsed),m(c,r.options.input),c.all=x(c),w(c,T)};e.exports=I,e.exports.sync=(e,t,n)=>{const r=S(e,t,n),i=E(e,t);let s;y(r.options);try{s=o.spawnSync(r.file,r.args,r.options)}catch(e){throw u({error:e,stdout:"",stderr:"",all:"",command:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}if(s.stdout=P(r.options,s.stdout,s.error),s.stderr=P(r.options,s.stderr,s.error),s.error||0!==s.status||null!==s.signal){const e=u({...s,code:s.status,command:i,parsed:r,timedOut:s.error&&"ETIMEDOUT"===s.error.code,isCanceled:!1,killed:null!==s.signal});if(!r.options.reject)return e;throw e}return{command:i,exitCode:0,exitCodeName:"SUCCESS",stdout:s.stdout,stderr:s.stderr,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},e.exports.command=(e,t)=>{const[n,...r]=b(e);return I(n,r,t)},e.exports.commandSync=(e,t)=>{const[n,...r]=b(e);return I.sync(n,r,t)},e.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(n=t,t=[]);const r=l.node(n),{nodePath:o=process.execPath,nodeOptions:i=process.execArgv}=n;return I(o,[...i,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}},function(e,t,n){"use strict";const r=n(2),o=n(10),i=n(20);function s(e,t,n){const s=o(e,t,n),c=r.spawn(s.command,s.args,s.options);return i.hookChildProcess(c,s),c}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,n){const s=o(e,t,n),c=r.spawnSync(s.command,s.args,s.options);return c.error=c.error||i.verifyENOENTSync(c.status,s),c},e.exports._parse=o,e.exports._enoent=i},function(e,t,n){"use strict";const r=n(0),o=n(11),i=n(16),s=n(17),c="win32"===process.platform,a=/\.(?:com|exe)$/i,u=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function l(e){if(!c)return e;const t=function(e){e.file=o(e);const t=e.file&&s(e.file);return t?(e.args.unshift(e.file),e.command=t,o(e)):e.file}(e),n=!a.test(t);if(e.options.forceShell||n){const n=u.test(t);e.command=r.normalize(e.command),e.command=i.command(e.command),e.args=e.args.map(e=>i.argument(e,n));const o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}e.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:l(r)}},function(e,t,n){"use strict";const r=n(0),o=n(12),i=n(3)();function s(e,t){const n=process.cwd(),s=null!=e.options.cwd,c=s&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=o.sync(e.command,{path:(e.options.env||process.env)[i],pathExt:t?r.delimiter:void 0})}catch(e){}finally{c&&process.chdir(n)}return a&&(a=r.resolve(s?e.options.cwd:"",a)),a}e.exports=function(e){return s(e)||s(e,!0)}},function(e,t,n){const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,o=n(0),i=r?";":":",s=n(13),c=e=>Object.assign(new Error("not found: "+e),{code:"ENOENT"}),a=(e,t)=>{const n=t.colon||i,o=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",c=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==c[0]&&c.unshift(""),{pathEnv:o,pathExt:c,pathExtExe:s}},u=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:i,pathExtExe:u}=a(e,t),l=[],f=n=>new Promise((i,s)=>{if(n===r.length)return t.all&&l.length?i(l):s(c(e));const a=r[n],u=/^".*"$/.test(a)?a.slice(1,-1):a,f=o.join(u,e),p=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;i(d(p,n,0))}),d=(e,n,r)=>new Promise((o,c)=>{if(r===i.length)return o(f(n+1));const a=i[r];s(e+a,{pathExt:u},(i,s)=>{if(!i&&s){if(!t.all)return o(e+a);l.push(e+a)}return o(d(e,n,r+1))})});return n?f(0).then(e=>n(null,e),n):f(0)};e.exports=u,u.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:i}=a(e,t),u=[];for(let c=0;c<n.length;c++){const a=n[c],l=/^".*"$/.test(a)?a.slice(1,-1):a,f=o.join(l,e),d=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let e=0;e<r.length;e++){const n=d+r[e];try{if(s.sync(n,{pathExt:i})){if(!t.all)return n;u.push(n)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw c(e)}},function(e,t,n){var r;n(1);function o(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){o(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}r="win32"===process.platform||global.TESTING_WINDOWS?n(14):n(15),e.exports=o,o.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,n){e.exports=i,i.sync=function(e,t){return o(r.statSync(e),e,t)};var r=n(1);function o(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var o=n[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,n)}function i(e,t,n){r.stat(e,(function(r,i){n(r,!r&&o(i,e,t))}))}},function(e,t,n){e.exports=o,o.sync=function(e,t){return i(r.statSync(e),t)};var r=n(1);function o(e,t,n){r.stat(e,(function(e,r){n(e,!e&&i(r,t))}))}function i(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),a=parseInt("010",8),u=parseInt("001",8),l=c|a;return n&u||n&a&&o===s||n&c&&r===i||n&l&&0===i}(e,t)}},function(e,t,n){"use strict";const r=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e=e.replace(r,"^$1")},e.exports.argument=function(e,t){return e=(e=`"${e=(e=(e=""+e).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(r,"^$1"),t&&(e=e.replace(r,"^$1")),e}},function(e,t,n){"use strict";const r=n(1),o=n(18);e.exports=function(e){const t=Buffer.alloc(150);let n;try{n=r.openSync(e,"r"),r.readSync(n,t,0,150,0),r.closeSync(n)}catch(e){}return o(t.toString())}},function(e,t,n){"use strict";const r=n(19);e.exports=(e="")=>{const t=e.match(r);if(!t)return null;const[n,o]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return"env"===i?o:o?`${i} ${o}`:i}},function(e,t,n){"use strict";e.exports=/^#!(.*)/},function(e,t,n){"use strict";const r="win32"===process.platform;function o(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function i(e,t){return r&&1===e&&!t.file?o(t.original,"spawn"):null}e.exports={hookChildProcess:function(e,t){if(!r)return;const n=e.emit;e.emit=function(r,o){if("exit"===r){const r=i(o,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:i,verifyENOENTSync:function(e,t){return r&&1===e&&!t.file?o(t.original,"spawnSync"):null},notFoundError:o}},function(e,t,n){"use strict";e.exports=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}},function(e,t,n){"use strict";const r=n(0),o=n(3),i=e=>{let t;e={cwd:process.cwd(),path:process.env[o()],...e};let n=r.resolve(e.cwd);const i=[];for(;t!==n;)i.push(r.join(n,"node_modules/.bin")),t=n,n=r.resolve(n,"..");return i.push(r.dirname(process.execPath)),i.concat(e.path).join(r.delimiter)};e.exports=i,e.exports.default=i,e.exports.env=t=>{const n={...(t={env:process.env,...t}).env},r=o({env:n});return t.path=n[r],n[r]=e.exports(t),n}},function(e,t,n){"use strict";const r=n(24),o=new WeakMap,i=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,i=!1,s=0;const c=e.displayName||e.name||"<anonymous>",a=function(...r){if(o.set(a,++s),i){if(!0===t.throw)throw new Error(`Function \`${c}\` can only be called once`);return n}return i=!0,n=e.apply(this,r),e=null,n};return r(a,e),o.set(a,s),a};e.exports=i,e.exports.default=i,e.exports.callCount=e=>{if(!o.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return o.get(e)}},function(e,t,n){"use strict";const r=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=n(4),o=n(26);e.exports=({stdout:e,stderr:t,all:n,error:i,signal:s,code:c,command:a,timedOut:u,isCanceled:l,killed:f,parsed:{options:{timeout:d}}})=>{const[p,h]=((e,t)=>e&&e.code?[e.code,r.constants.errno[e.code]]:Number.isInteger(t)?[o.getSystemErrorName(-t),t]:[])(i,c),m=`Command ${(({timedOut:e,timeout:t,signal:n,exitCodeName:r,exitCode:o,isCanceled:i})=>e?`timed out after ${t} milliseconds`:i?"was canceled":n?"was killed with "+n:void 0!==o?`failed with exit code ${o} (${r})`:"failed")({timedOut:u,timeout:d,signal:s,exitCodeName:p,exitCode:h,isCanceled:l})}: ${a}`;return i instanceof Error?(i.originalMessage=i.message,i.message=`${m}\n${i.message}`):i=new Error(m),i.command=a,delete i.code,i.exitCode=h,i.exitCodeName=p,i.stdout=e,i.stderr=t,void 0!==n&&(i.all=n),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(u),i.isCanceled=l,i.killed=f&&!u,i.signal=s||void 0,i}},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";const r=["stdin","stdout","stderr"],o=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return r.map(t=>e[t]);if((e=>r.some(t=>void 0!==e[t]))(e))throw new Error("It's not possible to provide `stdio` in combination with one of "+r.map(e=>`\`${e}\``).join(", "));if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,r.length);return Array.from({length:n},(e,n)=>t[n])};e.exports=o,e.exports.node=e=>{const t=o(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}},function(e,t,n){"use strict";const r=n(4),o=n(29),i=n(33),s=(e,t,n,r)=>{if(!c(t,n,r))return;const o=u(n);setTimeout(()=>{e("SIGKILL")},o).unref()},c=(e,{forceKillAfterTimeout:t},n)=>a(e)&&!1!==t&&n,a=e=>e===r.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),u=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};e.exports={spawnedKill:(e,t="SIGTERM",n={})=>{const r=e(t);return s(e,t,n,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let o;const s=new Promise((r,i)=>{o=setTimeout(()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,i)},t)}),c=i(r,()=>{clearTimeout(o)});return Promise.race([s,c])},setExitHandler:(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const s=o(()=>{e.kill()});return i(r,s)}}},function(e,t,n){var r,o=n(30),i=n(31),s=/^win/i.test(process.platform),c=n(32);function a(){f&&(f=!1,i.forEach((function(e){try{process.removeListener(e,l[e])}catch(e){}})),process.emit=m,process.reallyExit=p,r.count-=1)}function u(e,t,n){r.emitted[e]||(r.emitted[e]=!0,r.emit(e,t,n))}"function"!=typeof c&&(c=c.EventEmitter),process.__signal_exit_emitter__?r=process.__signal_exit_emitter__:((r=process.__signal_exit_emitter__=new c).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===f&&d();var n="exit";t&&t.alwaysLast&&(n="afterexit");return r.on(n,e),function(){r.removeListener(n,e),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&a()}},e.exports.unload=a;var l={};i.forEach((function(e){l[e]=function(){process.listeners(e).length===r.count&&(a(),u("exit",null,e),u("afterexit",null,e),s&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),e.exports.signals=function(){return i},e.exports.load=d;var f=!1;function d(){f||(f=!0,r.count+=1,i=i.filter((function(e){try{return process.on(e,l[e]),!0}catch(e){return!1}})),process.emit=g,process.reallyExit=h)}var p=process.reallyExit;function h(e){process.exitCode=e||0,u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var m=process.emit;function g(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=m.apply(this,arguments);return u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),n}return m.apply(this,arguments)}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";e.exports=async(e,t=(()=>{}))=>{let n;try{n=await e}catch(e){throw await t(),e}return await t(),n}},function(e,t,n){"use strict";const r=n(35),o=n(36),i=n(41),s=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},c=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e)return n?t?o(e,{encoding:t,maxBuffer:r}):o.buffer(e,{maxBuffer:r}):new Promise((t,n)=>{e.once("end",t).once("error",n)})};e.exports={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(r(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:e=>{if(!e.stdout&&!e.stderr)return;const t=i();return e.stdout&&t.add(e.stdout),e.stderr&&t.add(e.stderr),t},getSpawnedResult:async({stdout:e,stderr:t,all:n},{encoding:r,buffer:o,maxBuffer:i},a)=>{const u=c(e,{encoding:r,buffer:o,maxBuffer:i}),l=c(t,{encoding:r,buffer:o,maxBuffer:i}),f=c(n,{encoding:r,buffer:o,maxBuffer:2*i});try{return await Promise.all([a,u,l,f])}catch(r){return Promise.all([{error:r,code:r.code,signal:r.signal,timedOut:r.timedOut},s(e,u),s(t,l),s(n,f)])}},validateInputSync:({input:e})=>{if(r(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}}},function(e,t,n){"use strict";const r=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;r.writable=e=>r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,r.readable=e=>r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,r.duplex=e=>r.writable(e)&&r.readable(e),r.transform=e=>r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=r},function(e,t,n){"use strict";const r=n(37),o=n(40);class i extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function s(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:n}=t;let s;return await new Promise((c,a)=>{const u=e=>{e&&(e.bufferedData=s.getBufferedValue()),a(e)};s=r(e,o(t),e=>{e?u(e):c()}),s.on("data",()=>{s.getBufferedLength()>n&&u(new i)})}),s.getBufferedValue()}e.exports=s,e.exports.default=s,e.exports.buffer=(e,t)=>s(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>s(e,{...t,array:!0}),e.exports.MaxBufferError=i},function(e,t,n){var r=n(5),o=n(39),i=n(1),s=function(){},c=/^v?\.0/.test(process.version),a=function(e){return"function"==typeof e},u=function(e,t,n,u){u=r(u);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:n},(function(e){if(e)return u(e);l=!0,u()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!c&&(!!i&&((e instanceof(i.ReadStream||s)||e instanceof(i.WriteStream||s))&&a(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&a(e.abort)}(e)?e.abort():a(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},l=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=a(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(o,i){var s=i<t.length-1;return u(o,s,i>0,(function(t){e||(e=t),t&&r.forEach(l),s||(r.forEach(l),n(e))}))}));return t.reduce(f)}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach((function(e){r[e]=o[e]})),r}}},function(e,t,n){var r=n(5),o=function(){},i=function(e,t,n){if("function"==typeof t)return i(e,null,t);t||(t={}),n=r(n||o);var s=e._writableState,c=e._readableState,a=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=!1,f=function(){e.writable||d()},d=function(){u=!1,a||n.call(e)},p=function(){a=!1,u||n.call(e)},h=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){n.call(e,t)},g=function(){process.nextTick(x)},x=function(){if(!l)return(!a||c&&c.ended&&!c.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:n.call(e,new Error("premature close"))},y=function(){e.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!s&&(e.on("end",f),e.on("close",f)):(e.on("complete",d),e.on("abort",g),e.req?y():e.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",h),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",m),e.on("close",g),function(){l=!0,e.removeListener("complete",d),e.removeListener("abort",g),e.removeListener("request",y),e.req&&e.req.removeListener("finish",d),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("exit",h),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=i},function(e,t,n){"use strict";const{PassThrough:r}=n(6);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const o="buffer"===n;let i=!1;t?i=!(n||o):n=n||"utf8",o&&(n=null);const s=new r({objectMode:i});n&&s.setEncoding(n);let c=0;const a=[];return s.on("data",e=>{a.push(e),i?c=a.length:c+=e.length}),s.getBufferedValue=()=>t?a:o?Buffer.concat(a,c):a.join(""),s.getBufferedLength=()=>c,s}},function(e,t,n){"use strict";const{PassThrough:r}=n(6);e.exports=function(){var e=[],t=new r({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=o,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(r){return Array.isArray(r)?(r.forEach(n),this):(e.push(r),r.once("end",i.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function o(){return 0==e.length}function i(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}}},function(e,t,n){"use strict";const r=(e,t,n)=>{const r="function"==typeof t?(...e)=>t()[n](...e):t[n].bind(t);Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1,configurable:!0})};e.exports={mergePromise:(e,t)=>(r(e,t,"then"),r(e,t,"catch"),Promise.prototype.finally&&r(e,t,"finally"),e),getSpawnedPromise:e=>new Promise((t,n)=>{e.on("exit",(e,n)=>{t({code:e,signal:n})}),e.on("error",e=>{n(e)}),e.stdin&&e.stdin.on("error",e=>{n(e)})})}},function(e,t,n){"use strict";const r=/ +/g,o=(e,t,n)=>{if(0===n)return[t];const r=e[e.length-1];return r.endsWith("\\")?[...e.slice(0,-1),`${r.slice(0,-1)} ${t}`]:[...e,t]};e.exports={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>e.trim().split(r).reduce(o,[])}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBuPXQoKTtmb3IodmFyIHIgaW4gbikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtyXT1uW3JdfX0oZ2xvYmFsLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgbz10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpbi5kKHIsbyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLG8pKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTcpfShbZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcInBhdGhcIil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXJlcXVpcmUoXCJmc1wiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPShlPXt9KT0+e2NvbnN0IHQ9ZS5lbnZ8fHByb2Nlc3MuZW52O3JldHVyblwid2luMzJcIiE9PShlLnBsYXRmb3JtfHxwcm9jZXNzLnBsYXRmb3JtKT9cIlBBVEhcIjpPYmplY3Qua2V5cyh0KS5yZXZlcnNlKCkuZmluZChlPT5cIlBBVEhcIj09PWUudG9VcHBlckNhc2UoKSl8fFwiUGF0aFwifTtlLmV4cG9ydHM9cixlLmV4cG9ydHMuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwib3NcIil9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM4KTtmdW5jdGlvbiBvKGUpe3ZhciB0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbGVkP3QudmFsdWU6KHQuY2FsbGVkPSEwLHQudmFsdWU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtyZXR1cm4gdC5jYWxsZWQ9ITEsdH1mdW5jdGlvbiBpKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYodC5jYWxsZWQpdGhyb3cgbmV3IEVycm9yKHQub25jZUVycm9yKTtyZXR1cm4gdC5jYWxsZWQ9ITAsdC52YWx1ZT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbj1lLm5hbWV8fFwiRnVuY3Rpb24gd3JhcHBlZCB3aXRoIGBvbmNlYFwiO3JldHVybiB0Lm9uY2VFcnJvcj1uK1wiIHNob3VsZG4ndCBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2VcIix0LmNhbGxlZD0hMSx0fWUuZXhwb3J0cz1yKG8pLGUuZXhwb3J0cy5zdHJpY3Q9cihpKSxvLnByb3RvPW8oKGZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VTdHJpY3RcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSl9KSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXJlcXVpcmUoXCJzdHJlYW1cIil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gcyhlKXt0cnl7YShyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dHJ5e2Eoci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYShlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxjKX1hKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NvbnN0IG89KHRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KShuKDgpKSxpPW4oMCk7ZS5leHBvcnRzPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuY29udGV4dD1lfWxvZyhlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmxvZ2dlci5sb2coZSl9d2FybihlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmxvZ2dlci53YXJuKGUpfWdldCBpbnN0YWxsYXRpb25QcGtnKCl7cmV0dXJuIGkuam9pbihfX2Rpcm5hbWUsXCJSZWNvdmVyeURpc2FibGVfMS4wLjAucHBrZ1wiKX1jaGVjaygpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYodGhpcy5sb2coXCJDaGVja2luZyB0aGF0IHRoZSB1bml0IG5lZWRzIHRvIGJlIHBlcmZvcm1lZFwiKSxcIndpbjMyXCIhPT10aGlzLmNvbnRleHQucGxhdGZvcm0pcmV0dXJuIHRoaXMud2FybihcIk5vdCBydW5uaW5nIG9uIFdpbmRvd3MgIVwiKSwhMTt0cnl7Y29uc3R7c3Rkb3V0OmV9PXlpZWxkIG8uZGVmYXVsdChcInBvd2Vyc2hlbGwuZXhlXCIsW2AoR2V0LVByb3Zpc2lvbmluZ1BhY2thZ2UgLVBhY2thZ2VQYXRoICcke3RoaXMuaW5zdGFsbGF0aW9uUHBrZ30nKS5wYWNrYWdlSWQuR3VpZGBdKTt0aGlzLkdVSUQ9ZSx0aGlzLmxvZyhcIkdVSUQgcGFja2FnZTogXCIrdGhpcy5HVUlEKX1jYXRjaChlKXt0aGlzLndhcm4oXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGluc3RhbGxhdGlvbiBHVUlEOiBcIitlKX1pZih0aGlzLkdVSUQpe3RyeXtjb25zdHtzdGRvdXQ6ZX09eWllbGQgby5kZWZhdWx0KFwicG93ZXJzaGVsbC5leGVcIixbYChHZXQtUHJvdmlzaW9uaW5nUGFja2FnZSAtUGFja2FnZUlkICcke3RoaXMuR1VJRH0nKS52ZXJzaW9uYF0pO3RoaXMuY3VycmVudD1lLHRoaXMubG9nKFwiVmVyc2lvbiBvZiBjdXJyZW50IHBhY2thZ2U6IFwiK3RoaXMuY3VycmVudCl9Y2F0Y2goZSl7dGhpcy53YXJuKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBjdXJyZW50IHZlcnNpb246IFwiK2UpfWlmKHRoaXMuY3VycmVudCl7dHJ5e2NvbnN0e3N0ZG91dDplfT15aWVsZCBvLmRlZmF1bHQoXCJwb3dlcnNoZWxsLmV4ZVwiLFtgKEdldC1Qcm92aXNpb25pbmdQYWNrYWdlIC1QYWNrYWdlUGF0aCAnJHt0aGlzLmluc3RhbGxhdGlvblBwa2d9JykudmVyc2lvbmBdKTt0aGlzLnVwZGF0ZT1lLHRoaXMubG9nKFwiVmVyc2lvbiBvZiB1cGRhdGUgcGFja2FnZTogXCIrdGhpcy51cGRhdGUpfWNhdGNoKGUpe3RoaXMud2FybihcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgdXBkYXRlIHZlcnNpb246IFwiK2UpfXJldHVybiBwYXJzZUZsb2F0KHRoaXMuY3VycmVudCk+PXBhcnNlRmxvYXQodGhpcy51cGRhdGUpPyh0aGlzLmxvZyhcIllvdXIgcGFja2FnZSBpcyB1cCB0byBkYXRlXCIpLCExKToodGhpcy5sb2coXCJVcGdyYWRpbmcgdGhlIHBhY2thZ2UgLi4uXCIpLHRoaXMuU1RBVFVTPVwidXBncmFkZVwiLCEwKX1yZXR1cm4gdGhpcy5sb2coXCJJbnN0YWxsaW5nIHRoZSBwYWNrYWdlIC4uLlwiKSx0aGlzLlNUQVRVUz1cImluc3RhbGxcIiwhMH19KSl9cGVyZm9ybSgpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7bGV0IGU9ITE7aWYoXCJpbnN0YWxsXCI9PT10aGlzLlNUQVRVUyl0cnl7dGhpcy5sb2coYFJ1bm5pbmcgJHt0aGlzLmluc3RhbGxhdGlvblBwa2d9LCBhcmdzPSR7W1wiLVF1aWV0SW5zdGFsbFwiXX0uLi5gKTtjb25zdHtzdGRvdXQ6dCxzdGRlcnI6bixleGl0Q29kZTpyfT15aWVsZCBvLmRlZmF1bHQoXCJwb3dlcnNoZWxsLmV4ZVwiLFtgSW5zdGFsbC1Qcm92aXNpb25pbmdQYWNrYWdlIC1QYWNrYWdlUGF0aCAnJHt0aGlzLmluc3RhbGxhdGlvblBwa2d9JyAke1tcIi1RdWlldEluc3RhbGxcIl19YF0pO3RoaXMubG9nKFwiSW5zdGFsbCBSZXN1bHQ6IFwiK3IpLHRoaXMubG9nKFwiSW5zdGFsbCBTdGRvdXQ6IFwiK3QpLHRoaXMubG9nKFwiSW5zdGFsbCBTdGRlcnI6IFwiK24pLGU9MD09PXIsdGhpcy5sb2coXCJGaW5pc2hpbmcgSW5zdGFsbGF0aW9uXCIpfWNhdGNoKGUpe3RoaXMud2FybihcIkVycm9yIHdoaWxlIGluc3RhbGxpbmcgdGhlIGFwcGxpY2F0aW9uOiBcIitlKX1lbHNlIGlmKFwidXBncmFkZVwiPT09dGhpcy5TVEFUVVMpe3RyeXt0aGlzLmxvZyhgUmVtb3ZpbmcgcGFja2FnZSwgR1VJRD0ke3RoaXMuR1VJRH0uLi5gKSx5aWVsZCBvLmRlZmF1bHQoXCJwb3dlcnNoZWxsLmV4ZVwiLFtgUmVtb3ZlLVByb3Zpc2lvbmluZ1BhY2thZ2UgLVBhY2thZ2VJZCAnJHt0aGlzLkdVSUR9J2BdKX1jYXRjaChlKXt0aGlzLndhcm4oXCJFcnJvciB3aGlsZSByZW1vdmluZyB0aGUgcGFja2FnZTogXCIrZSl9dHJ5e3RoaXMubG9nKGBSdW5uaW5nICR7dGhpcy5pbnN0YWxsYXRpb25QcGtnfSwgYXJncz0ke1tcIi1RdWlldEluc3RhbGxcIl19Li4uYCk7Y29uc3R7c3Rkb3V0OnQsc3RkZXJyOm4sZXhpdENvZGU6cn09eWllbGQgby5kZWZhdWx0KFwicG93ZXJzaGVsbC5leGVcIixbYEluc3RhbGwtUHJvdmlzaW9uaW5nUGFja2FnZSAtUGFja2FnZVBhdGggJyR7dGhpcy5pbnN0YWxsYXRpb25QcGtnfScgJHtbXCItUXVpZXRJbnN0YWxsXCJdfWBdKTt0aGlzLmxvZyhcIkluc3RhbGwgUmVzdWx0OiBcIityKSx0aGlzLmxvZyhcIkluc3RhbGwgU3Rkb3V0OiBcIit0KSx0aGlzLmxvZyhcIkluc3RhbGwgU3RkZXJyOiBcIituKSxlPTA9PT1yLHRoaXMubG9nKFwiRmluaXNoaW5nIEluc3RhbGxhdGlvblwiKX1jYXRjaChlKXt0aGlzLndhcm4oXCJFcnJvciB3aGlsZSBpbnN0YWxsaW5nIHRoZSBhcHBsaWNhdGlvbjogXCIrZSl9fXJldHVybiBlfSkpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMCksbz1uKDIpLGk9big5KSxzPW4oMjEpLGM9bigyMiksYT1uKDIzKSx1PW4oMjUpLGw9bigyNykse3NwYXduZWRLaWxsOmYsc3Bhd25lZENhbmNlbDpkLHNldHVwVGltZW91dDpwLHNldEV4aXRIYW5kbGVyOmh9PW4oMjgpLHtoYW5kbGVJbnB1dDptLGdldFNwYXduZWRSZXN1bHQ6ZyxtYWtlQWxsU3RyZWFtOngsdmFsaWRhdGVJbnB1dFN5bmM6eX09bigzNCkse21lcmdlUHJvbWlzZTp3LGdldFNwYXduZWRQcm9taXNlOnZ9PW4oNDIpLHtqb2luQ29tbWFuZDpFLHBhcnNlQ29tbWFuZDpifT1uKDQzKSxTPShlLHQsbj17fSk9Pntjb25zdCBvPWkuX3BhcnNlKGUsdCxuKTtyZXR1cm4gZT1vLmNvbW1hbmQsdD1vLmFyZ3MsKG49e21heEJ1ZmZlcjoxZTgsYnVmZmVyOiEwLHN0cmlwRmluYWxOZXdsaW5lOiEwLGV4dGVuZEVudjohMCxwcmVmZXJMb2NhbDohMSxsb2NhbERpcjoobj1vLm9wdGlvbnMpLmN3ZHx8cHJvY2Vzcy5jd2QoKSxlbmNvZGluZzpcInV0ZjhcIixyZWplY3Q6ITAsY2xlYW51cDohMCwuLi5uLHdpbmRvd3NIaWRlOiEwfSkuZW52PSgoe2VudjplLGV4dGVuZEVudjp0LHByZWZlckxvY2FsOm4sbG9jYWxEaXI6cn0pPT57Y29uc3Qgbz10P3suLi5wcm9jZXNzLmVudiwuLi5lfTplO3JldHVybiBuP2MuZW52KHtlbnY6byxjd2Q6cn0pOm99KShuKSxuLnN0ZGlvPWwobiksXCJ3aW4zMlwiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmXCJjbWRcIj09PXIuYmFzZW5hbWUoZSxcIi5leGVcIikmJnQudW5zaGlmdChcIi9xXCIpLHtmaWxlOmUsYXJnczp0LG9wdGlvbnM6bixwYXJzZWQ6b319LFA9KGUsdCxuKT0+XCJzdHJpbmdcIj09dHlwZW9mIHR8fEJ1ZmZlci5pc0J1ZmZlcih0KT9lLnN0cmlwRmluYWxOZXdsaW5lP3ModCk6dDp2b2lkIDA9PT1uP3ZvaWQgMDpcIlwiLEk9KGUsdCxuKT0+e2NvbnN0IHI9UyhlLHQsbikscz1FKGUsdCk7bGV0IGM7dHJ5e2M9by5zcGF3bihyLmZpbGUsci5hcmdzLHIub3B0aW9ucyl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgby5DaGlsZFByb2Nlc3Msbj1Qcm9taXNlLnJlamVjdCh1KHtlcnJvcjplLHN0ZG91dDpcIlwiLHN0ZGVycjpcIlwiLGFsbDpcIlwiLGNvbW1hbmQ6cyxwYXJzZWQ6cix0aW1lZE91dDohMSxpc0NhbmNlbGVkOiExLGtpbGxlZDohMX0pKTtyZXR1cm4gdyh0LG4pfWNvbnN0IGw9dihjKSx5PXAoYyxyLm9wdGlvbnMsbCksYj1oKGMsci5vcHRpb25zLHkpLEk9e2lzQ2FuY2VsZWQ6ITF9O2Mua2lsbD1mLmJpbmQobnVsbCxjLmtpbGwuYmluZChjKSksYy5jYW5jZWw9ZC5iaW5kKG51bGwsYyxJKTtjb25zdCBUPWEoYXN5bmMoKT0+e2NvbnN0W3tlcnJvcjplLGNvZGU6dCxzaWduYWw6bix0aW1lZE91dDpvfSxpLGEsbF09YXdhaXQgZyhjLHIub3B0aW9ucyxiKSxmPVAoci5vcHRpb25zLGkpLGQ9UChyLm9wdGlvbnMsYSkscD1QKHIub3B0aW9ucyxsKTtpZihlfHwwIT09dHx8bnVsbCE9PW4pe2NvbnN0IGk9dSh7ZXJyb3I6ZSxjb2RlOnQsc2lnbmFsOm4sc3Rkb3V0OmYsc3RkZXJyOmQsYWxsOnAsY29tbWFuZDpzLHBhcnNlZDpyLHRpbWVkT3V0Om8saXNDYW5jZWxlZDpJLmlzQ2FuY2VsZWQsa2lsbGVkOmMua2lsbGVkfSk7aWYoIXIub3B0aW9ucy5yZWplY3QpcmV0dXJuIGk7dGhyb3cgaX1yZXR1cm57Y29tbWFuZDpzLGV4aXRDb2RlOjAsZXhpdENvZGVOYW1lOlwiU1VDQ0VTU1wiLHN0ZG91dDpmLHN0ZGVycjpkLGFsbDpwLGZhaWxlZDohMSx0aW1lZE91dDohMSxpc0NhbmNlbGVkOiExLGtpbGxlZDohMX19KTtyZXR1cm4gaS5fZW5vZW50Lmhvb2tDaGlsZFByb2Nlc3MoYyxyLnBhcnNlZCksbShjLHIub3B0aW9ucy5pbnB1dCksYy5hbGw9eChjKSx3KGMsVCl9O2UuZXhwb3J0cz1JLGUuZXhwb3J0cy5zeW5jPShlLHQsbik9Pntjb25zdCByPVMoZSx0LG4pLGk9RShlLHQpO2xldCBzO3koci5vcHRpb25zKTt0cnl7cz1vLnNwYXduU3luYyhyLmZpbGUsci5hcmdzLHIub3B0aW9ucyl9Y2F0Y2goZSl7dGhyb3cgdSh7ZXJyb3I6ZSxzdGRvdXQ6XCJcIixzdGRlcnI6XCJcIixhbGw6XCJcIixjb21tYW5kOmkscGFyc2VkOnIsdGltZWRPdXQ6ITEsaXNDYW5jZWxlZDohMSxraWxsZWQ6ITF9KX1pZihzLnN0ZG91dD1QKHIub3B0aW9ucyxzLnN0ZG91dCxzLmVycm9yKSxzLnN0ZGVycj1QKHIub3B0aW9ucyxzLnN0ZGVycixzLmVycm9yKSxzLmVycm9yfHwwIT09cy5zdGF0dXN8fG51bGwhPT1zLnNpZ25hbCl7Y29uc3QgZT11KHsuLi5zLGNvZGU6cy5zdGF0dXMsY29tbWFuZDppLHBhcnNlZDpyLHRpbWVkT3V0OnMuZXJyb3ImJlwiRVRJTUVET1VUXCI9PT1zLmVycm9yLmNvZGUsaXNDYW5jZWxlZDohMSxraWxsZWQ6bnVsbCE9PXMuc2lnbmFsfSk7aWYoIXIub3B0aW9ucy5yZWplY3QpcmV0dXJuIGU7dGhyb3cgZX1yZXR1cm57Y29tbWFuZDppLGV4aXRDb2RlOjAsZXhpdENvZGVOYW1lOlwiU1VDQ0VTU1wiLHN0ZG91dDpzLnN0ZG91dCxzdGRlcnI6cy5zdGRlcnIsZmFpbGVkOiExLHRpbWVkT3V0OiExLGlzQ2FuY2VsZWQ6ITEsa2lsbGVkOiExfX0sZS5leHBvcnRzLmNvbW1hbmQ9KGUsdCk9Pntjb25zdFtuLC4uLnJdPWIoZSk7cmV0dXJuIEkobixyLHQpfSxlLmV4cG9ydHMuY29tbWFuZFN5bmM9KGUsdCk9Pntjb25zdFtuLC4uLnJdPWIoZSk7cmV0dXJuIEkuc3luYyhuLHIsdCl9LGUuZXhwb3J0cy5ub2RlPShlLHQsbj17fSk9Pnt0JiYhQXJyYXkuaXNBcnJheSh0KSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihuPXQsdD1bXSk7Y29uc3Qgcj1sLm5vZGUobikse25vZGVQYXRoOm89cHJvY2Vzcy5leGVjUGF0aCxub2RlT3B0aW9uczppPXByb2Nlc3MuZXhlY0FyZ3Z9PW47cmV0dXJuIEkobyxbLi4uaSxlLC4uLkFycmF5LmlzQXJyYXkodCk/dDpbXV0sey4uLm4sc3RkaW46dm9pZCAwLHN0ZG91dDp2b2lkIDAsc3RkZXJyOnZvaWQgMCxzdGRpbzpyLHNoZWxsOiExfSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDIpLG89bigxMCksaT1uKDIwKTtmdW5jdGlvbiBzKGUsdCxuKXtjb25zdCBzPW8oZSx0LG4pLGM9ci5zcGF3bihzLmNvbW1hbmQscy5hcmdzLHMub3B0aW9ucyk7cmV0dXJuIGkuaG9va0NoaWxkUHJvY2VzcyhjLHMpLGN9ZS5leHBvcnRzPXMsZS5leHBvcnRzLnNwYXduPXMsZS5leHBvcnRzLnN5bmM9ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHM9byhlLHQsbiksYz1yLnNwYXduU3luYyhzLmNvbW1hbmQscy5hcmdzLHMub3B0aW9ucyk7cmV0dXJuIGMuZXJyb3I9Yy5lcnJvcnx8aS52ZXJpZnlFTk9FTlRTeW5jKGMuc3RhdHVzLHMpLGN9LGUuZXhwb3J0cy5fcGFyc2U9byxlLmV4cG9ydHMuX2Vub2VudD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDApLG89bigxMSksaT1uKDE2KSxzPW4oMTcpLGM9XCJ3aW4zMlwiPT09cHJvY2Vzcy5wbGF0Zm9ybSxhPS9cXC4oPzpjb218ZXhlKSQvaSx1PS9ub2RlX21vZHVsZXNbXFxcXC9dLmJpbltcXFxcL11bXlxcXFwvXStcXC5jbWQkL2k7ZnVuY3Rpb24gbChlKXtpZighYylyZXR1cm4gZTtjb25zdCB0PWZ1bmN0aW9uKGUpe2UuZmlsZT1vKGUpO2NvbnN0IHQ9ZS5maWxlJiZzKGUuZmlsZSk7cmV0dXJuIHQ/KGUuYXJncy51bnNoaWZ0KGUuZmlsZSksZS5jb21tYW5kPXQsbyhlKSk6ZS5maWxlfShlKSxuPSFhLnRlc3QodCk7aWYoZS5vcHRpb25zLmZvcmNlU2hlbGx8fG4pe2NvbnN0IG49dS50ZXN0KHQpO2UuY29tbWFuZD1yLm5vcm1hbGl6ZShlLmNvbW1hbmQpLGUuY29tbWFuZD1pLmNvbW1hbmQoZS5jb21tYW5kKSxlLmFyZ3M9ZS5hcmdzLm1hcChlPT5pLmFyZ3VtZW50KGUsbikpO2NvbnN0IG89W2UuY29tbWFuZF0uY29uY2F0KGUuYXJncykuam9pbihcIiBcIik7ZS5hcmdzPVtcIi9kXCIsXCIvc1wiLFwiL2NcIixgXCIke299XCJgXSxlLmNvbW1hbmQ9cHJvY2Vzcy5lbnYuY29tc3BlY3x8XCJjbWQuZXhlXCIsZS5vcHRpb25zLndpbmRvd3NWZXJiYXRpbUFyZ3VtZW50cz0hMH1yZXR1cm4gZX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3QmJiFBcnJheS5pc0FycmF5KHQpJiYobj10LHQ9bnVsbCk7Y29uc3Qgcj17Y29tbWFuZDplLGFyZ3M6dD10P3Quc2xpY2UoMCk6W10sb3B0aW9uczpuPU9iamVjdC5hc3NpZ24oe30sbiksZmlsZTp2b2lkIDAsb3JpZ2luYWw6e2NvbW1hbmQ6ZSxhcmdzOnR9fTtyZXR1cm4gbi5zaGVsbD9yOmwocil9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDApLG89bigxMiksaT1uKDMpKCk7ZnVuY3Rpb24gcyhlLHQpe2NvbnN0IG49cHJvY2Vzcy5jd2QoKSxzPW51bGwhPWUub3B0aW9ucy5jd2QsYz1zJiZ2b2lkIDAhPT1wcm9jZXNzLmNoZGlyJiYhcHJvY2Vzcy5jaGRpci5kaXNhYmxlZDtpZihjKXRyeXtwcm9jZXNzLmNoZGlyKGUub3B0aW9ucy5jd2QpfWNhdGNoKGUpe31sZXQgYTt0cnl7YT1vLnN5bmMoZS5jb21tYW5kLHtwYXRoOihlLm9wdGlvbnMuZW52fHxwcm9jZXNzLmVudilbaV0scGF0aEV4dDp0P3IuZGVsaW1pdGVyOnZvaWQgMH0pfWNhdGNoKGUpe31maW5hbGx5e2MmJnByb2Nlc3MuY2hkaXIobil9cmV0dXJuIGEmJihhPXIucmVzb2x2ZShzP2Uub3B0aW9ucy5jd2Q6XCJcIixhKSksYX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSl8fHMoZSwhMCl9fSxmdW5jdGlvbihlLHQsbil7Y29uc3Qgcj1cIndpbjMyXCI9PT1wcm9jZXNzLnBsYXRmb3JtfHxcImN5Z3dpblwiPT09cHJvY2Vzcy5lbnYuT1NUWVBFfHxcIm1zeXNcIj09PXByb2Nlc3MuZW52Lk9TVFlQRSxvPW4oMCksaT1yP1wiO1wiOlwiOlwiLHM9bigxMyksYz1lPT5PYmplY3QuYXNzaWduKG5ldyBFcnJvcihcIm5vdCBmb3VuZDogXCIrZSkse2NvZGU6XCJFTk9FTlRcIn0pLGE9KGUsdCk9Pntjb25zdCBuPXQuY29sb258fGksbz1lLm1hdGNoKC9cXC8vKXx8ciYmZS5tYXRjaCgvXFxcXC8pP1tcIlwiXTpbLi4ucj9bcHJvY2Vzcy5jd2QoKV06W10sLi4uKHQucGF0aHx8cHJvY2Vzcy5lbnYuUEFUSHx8XCJcIikuc3BsaXQobildLHM9cj90LnBhdGhFeHR8fHByb2Nlc3MuZW52LlBBVEhFWFR8fFwiLkVYRTsuQ01EOy5CQVQ7LkNPTVwiOlwiXCIsYz1yP3Muc3BsaXQobik6W1wiXCJdO3JldHVybiByJiYtMSE9PWUuaW5kZXhPZihcIi5cIikmJlwiXCIhPT1jWzBdJiZjLnVuc2hpZnQoXCJcIikse3BhdGhFbnY6byxwYXRoRXh0OmMscGF0aEV4dEV4ZTpzfX0sdT0oZSx0LG4pPT57XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0fHwodD17fSk7Y29uc3R7cGF0aEVudjpyLHBhdGhFeHQ6aSxwYXRoRXh0RXhlOnV9PWEoZSx0KSxsPVtdLGY9bj0+bmV3IFByb21pc2UoKGkscyk9PntpZihuPT09ci5sZW5ndGgpcmV0dXJuIHQuYWxsJiZsLmxlbmd0aD9pKGwpOnMoYyhlKSk7Y29uc3QgYT1yW25dLHU9L15cIi4qXCIkLy50ZXN0KGEpP2Euc2xpY2UoMSwtMSk6YSxmPW8uam9pbih1LGUpLHA9IXUmJi9eXFwuW1xcXFxcXC9dLy50ZXN0KGUpP2Uuc2xpY2UoMCwyKStmOmY7aShkKHAsbiwwKSl9KSxkPShlLG4scik9Pm5ldyBQcm9taXNlKChvLGMpPT57aWYocj09PWkubGVuZ3RoKXJldHVybiBvKGYobisxKSk7Y29uc3QgYT1pW3JdO3MoZSthLHtwYXRoRXh0OnV9LChpLHMpPT57aWYoIWkmJnMpe2lmKCF0LmFsbClyZXR1cm4gbyhlK2EpO2wucHVzaChlK2EpfXJldHVybiBvKGQoZSxuLHIrMSkpfSl9KTtyZXR1cm4gbj9mKDApLnRoZW4oZT0+bihudWxsLGUpLG4pOmYoMCl9O2UuZXhwb3J0cz11LHUuc3luYz0oZSx0KT0+e3Q9dHx8e307Y29uc3R7cGF0aEVudjpuLHBhdGhFeHQ6cixwYXRoRXh0RXhlOml9PWEoZSx0KSx1PVtdO2ZvcihsZXQgYz0wO2M8bi5sZW5ndGg7YysrKXtjb25zdCBhPW5bY10sbD0vXlwiLipcIiQvLnRlc3QoYSk/YS5zbGljZSgxLC0xKTphLGY9by5qb2luKGwsZSksZD0hbCYmL15cXC5bXFxcXFxcL10vLnRlc3QoZSk/ZS5zbGljZSgwLDIpK2Y6Zjtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3Qgbj1kK3JbZV07dHJ5e2lmKHMuc3luYyhuLHtwYXRoRXh0Oml9KSl7aWYoIXQuYWxsKXJldHVybiBuO3UucHVzaChuKX19Y2F0Y2goZSl7fX19aWYodC5hbGwmJnUubGVuZ3RoKXJldHVybiB1O2lmKHQubm90aHJvdylyZXR1cm4gbnVsbDt0aHJvdyBjKGUpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByO24oMSk7ZnVuY3Rpb24gbyhlLHQsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49dCx0PXt9KSwhbil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgUHJvbWlzZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgbm90IHByb3ZpZGVkXCIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixyKXtvKGUsdHx8e30sKGZ1bmN0aW9uKGUsdCl7ZT9yKGUpOm4odCl9KSl9KSl9cihlLHR8fHt9LChmdW5jdGlvbihlLHIpe2UmJihcIkVBQ0NFU1wiPT09ZS5jb2RlfHx0JiZ0Lmlnbm9yZUVycm9ycykmJihlPW51bGwscj0hMSksbihlLHIpfSkpfXI9XCJ3aW4zMlwiPT09cHJvY2Vzcy5wbGF0Zm9ybXx8Z2xvYmFsLlRFU1RJTkdfV0lORE9XUz9uKDE0KTpuKDE1KSxlLmV4cG9ydHM9byxvLnN5bmM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIHIuc3luYyhlLHR8fHt9KX1jYXRjaChlKXtpZih0JiZ0Lmlnbm9yZUVycm9yc3x8XCJFQUNDRVNcIj09PWUuY29kZSlyZXR1cm4hMTt0aHJvdyBlfX19LGZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9aSxpLnN5bmM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhyLnN0YXRTeW5jKGUpLGUsdCl9O3ZhciByPW4oMSk7ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuISghZS5pc1N5bWJvbGljTGluaygpJiYhZS5pc0ZpbGUoKSkmJmZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwIT09dC5wYXRoRXh0P3QucGF0aEV4dDpwcm9jZXNzLmVudi5QQVRIRVhUO2lmKCFuKXJldHVybiEwO2lmKC0xIT09KG49bi5zcGxpdChcIjtcIikpLmluZGV4T2YoXCJcIikpcmV0dXJuITA7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl0udG9Mb3dlckNhc2UoKTtpZihvJiZlLnN1YnN0cigtby5sZW5ndGgpLnRvTG93ZXJDYXNlKCk9PT1vKXJldHVybiEwfXJldHVybiExfSh0LG4pfWZ1bmN0aW9uIGkoZSx0LG4pe3Iuc3RhdChlLChmdW5jdGlvbihyLGkpe24ociwhciYmbyhpLGUsdCkpfSkpfX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1vLG8uc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBpKHIuc3RhdFN5bmMoZSksdCl9O3ZhciByPW4oMSk7ZnVuY3Rpb24gbyhlLHQsbil7ci5zdGF0KGUsKGZ1bmN0aW9uKGUscil7bihlLCFlJiZpKHIsdCkpfSkpfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZS5pc0ZpbGUoKSYmZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm1vZGUscj1lLnVpZCxvPWUuZ2lkLGk9dm9pZCAwIT09dC51aWQ/dC51aWQ6cHJvY2Vzcy5nZXR1aWQmJnByb2Nlc3MuZ2V0dWlkKCkscz12b2lkIDAhPT10LmdpZD90LmdpZDpwcm9jZXNzLmdldGdpZCYmcHJvY2Vzcy5nZXRnaWQoKSxjPXBhcnNlSW50KFwiMTAwXCIsOCksYT1wYXJzZUludChcIjAxMFwiLDgpLHU9cGFyc2VJbnQoXCIwMDFcIiw4KSxsPWN8YTtyZXR1cm4gbiZ1fHxuJmEmJm89PT1zfHxuJmMmJnI9PT1pfHxuJmwmJjA9PT1pfShlLHQpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9LyhbKClcXF1bJSFeXCJgPD4mfDssICo/XSkvZztlLmV4cG9ydHMuY29tbWFuZD1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UocixcIl4kMVwiKX0sZS5leHBvcnRzLmFyZ3VtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9KGU9YFwiJHtlPShlPShlPVwiXCIrZSkucmVwbGFjZSgvKFxcXFwqKVwiL2csJyQxJDFcXFxcXCInKSkucmVwbGFjZSgvKFxcXFwqKSQvLFwiJDEkMVwiKX1cImApLnJlcGxhY2UocixcIl4kMVwiKSx0JiYoZT1lLnJlcGxhY2UocixcIl4kMVwiKSksZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMSksbz1uKDE4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Y29uc3QgdD1CdWZmZXIuYWxsb2MoMTUwKTtsZXQgbjt0cnl7bj1yLm9wZW5TeW5jKGUsXCJyXCIpLHIucmVhZFN5bmMobix0LDAsMTUwLDApLHIuY2xvc2VTeW5jKG4pfWNhdGNoKGUpe31yZXR1cm4gbyh0LnRvU3RyaW5nKCkpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9bigxOSk7ZS5leHBvcnRzPShlPVwiXCIpPT57Y29uc3QgdD1lLm1hdGNoKHIpO2lmKCF0KXJldHVybiBudWxsO2NvbnN0W24sb109dFswXS5yZXBsYWNlKC8jISA/LyxcIlwiKS5zcGxpdChcIiBcIiksaT1uLnNwbGl0KFwiL1wiKS5wb3AoKTtyZXR1cm5cImVudlwiPT09aT9vOm8/YCR7aX0gJHtvfWA6aX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9L14jISguKikvfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1cIndpbjMyXCI9PT1wcm9jZXNzLnBsYXRmb3JtO2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoYCR7dH0gJHtlLmNvbW1hbmR9IEVOT0VOVGApLHtjb2RlOlwiRU5PRU5UXCIsZXJybm86XCJFTk9FTlRcIixzeXNjYWxsOmAke3R9ICR7ZS5jb21tYW5kfWAscGF0aDplLmNvbW1hbmQsc3Bhd25hcmdzOmUuYXJnc30pfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gciYmMT09PWUmJiF0LmZpbGU/byh0Lm9yaWdpbmFsLFwic3Bhd25cIik6bnVsbH1lLmV4cG9ydHM9e2hvb2tDaGlsZFByb2Nlc3M6ZnVuY3Rpb24oZSx0KXtpZighcilyZXR1cm47Y29uc3Qgbj1lLmVtaXQ7ZS5lbWl0PWZ1bmN0aW9uKHIsbyl7aWYoXCJleGl0XCI9PT1yKXtjb25zdCByPWkobyx0KTtpZihyKXJldHVybiBuLmNhbGwoZSxcImVycm9yXCIscil9cmV0dXJuIG4uYXBwbHkoZSxhcmd1bWVudHMpfX0sdmVyaWZ5RU5PRU5UOmksdmVyaWZ5RU5PRU5UU3luYzpmdW5jdGlvbihlLHQpe3JldHVybiByJiYxPT09ZSYmIXQuZmlsZT9vKHQub3JpZ2luYWwsXCJzcGF3blN5bmNcIik6bnVsbH0sbm90Rm91bmRFcnJvcjpvfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1lPT57Y29uc3QgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9cIlxcblwiOlwiXFxuXCIuY2hhckNvZGVBdCgpLG49XCJzdHJpbmdcIj09dHlwZW9mIGU/XCJcXHJcIjpcIlxcclwiLmNoYXJDb2RlQXQoKTtyZXR1cm4gZVtlLmxlbmd0aC0xXT09PXQmJihlPWUuc2xpY2UoMCxlLmxlbmd0aC0xKSksZVtlLmxlbmd0aC0xXT09PW4mJihlPWUuc2xpY2UoMCxlLmxlbmd0aC0xKSksZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMCksbz1uKDMpLGk9ZT0+e2xldCB0O2U9e2N3ZDpwcm9jZXNzLmN3ZCgpLHBhdGg6cHJvY2Vzcy5lbnZbbygpXSwuLi5lfTtsZXQgbj1yLnJlc29sdmUoZS5jd2QpO2NvbnN0IGk9W107Zm9yKDt0IT09bjspaS5wdXNoKHIuam9pbihuLFwibm9kZV9tb2R1bGVzLy5iaW5cIikpLHQ9bixuPXIucmVzb2x2ZShuLFwiLi5cIik7cmV0dXJuIGkucHVzaChyLmRpcm5hbWUocHJvY2Vzcy5leGVjUGF0aCkpLGkuY29uY2F0KGUucGF0aCkuam9pbihyLmRlbGltaXRlcil9O2UuZXhwb3J0cz1pLGUuZXhwb3J0cy5kZWZhdWx0PWksZS5leHBvcnRzLmVudj10PT57Y29uc3Qgbj17Li4uKHQ9e2Vudjpwcm9jZXNzLmVudiwuLi50fSkuZW52fSxyPW8oe2VudjpufSk7cmV0dXJuIHQucGF0aD1uW3JdLG5bcl09ZS5leHBvcnRzKHQpLG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDI0KSxvPW5ldyBXZWFrTWFwLGk9KGUsdD17fSk9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO2xldCBuLGk9ITEscz0wO2NvbnN0IGM9ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIjxhbm9ueW1vdXM+XCIsYT1mdW5jdGlvbiguLi5yKXtpZihvLnNldChhLCsrcyksaSl7aWYoITA9PT10LnRocm93KXRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gXFxgJHtjfVxcYCBjYW4gb25seSBiZSBjYWxsZWQgb25jZWApO3JldHVybiBufXJldHVybiBpPSEwLG49ZS5hcHBseSh0aGlzLHIpLGU9bnVsbCxufTtyZXR1cm4gcihhLGUpLG8uc2V0KGEscyksYX07ZS5leHBvcnRzPWksZS5leHBvcnRzLmRlZmF1bHQ9aSxlLmV4cG9ydHMuY2FsbENvdW50PWU9PntpZighby5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKGBUaGUgZ2l2ZW4gZnVuY3Rpb24gXFxgJHtlLm5hbWV9XFxgIGlzIG5vdCB3cmFwcGVkIGJ5IHRoZSBcXGBvbmV0aW1lXFxgIHBhY2thZ2VgKTtyZXR1cm4gby5nZXQoZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj0oZSx0KT0+e2Zvcihjb25zdCBuIG9mIFJlZmxlY3Qub3duS2V5cyh0KSlPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxuKSk7cmV0dXJuIGV9O2UuZXhwb3J0cz1yLGUuZXhwb3J0cy5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oNCksbz1uKDI2KTtlLmV4cG9ydHM9KHtzdGRvdXQ6ZSxzdGRlcnI6dCxhbGw6bixlcnJvcjppLHNpZ25hbDpzLGNvZGU6Yyxjb21tYW5kOmEsdGltZWRPdXQ6dSxpc0NhbmNlbGVkOmwsa2lsbGVkOmYscGFyc2VkOntvcHRpb25zOnt0aW1lb3V0OmR9fX0pPT57Y29uc3RbcCxoXT0oKGUsdCk9PmUmJmUuY29kZT9bZS5jb2RlLHIuY29uc3RhbnRzLmVycm5vW2UuY29kZV1dOk51bWJlci5pc0ludGVnZXIodCk/W28uZ2V0U3lzdGVtRXJyb3JOYW1lKC10KSx0XTpbXSkoaSxjKSxtPWBDb21tYW5kICR7KCh7dGltZWRPdXQ6ZSx0aW1lb3V0OnQsc2lnbmFsOm4sZXhpdENvZGVOYW1lOnIsZXhpdENvZGU6byxpc0NhbmNlbGVkOml9KT0+ZT9gdGltZWQgb3V0IGFmdGVyICR7dH0gbWlsbGlzZWNvbmRzYDppP1wid2FzIGNhbmNlbGVkXCI6bj9cIndhcyBraWxsZWQgd2l0aCBcIituOnZvaWQgMCE9PW8/YGZhaWxlZCB3aXRoIGV4aXQgY29kZSAke299ICgke3J9KWA6XCJmYWlsZWRcIikoe3RpbWVkT3V0OnUsdGltZW91dDpkLHNpZ25hbDpzLGV4aXRDb2RlTmFtZTpwLGV4aXRDb2RlOmgsaXNDYW5jZWxlZDpsfSl9OiAke2F9YDtyZXR1cm4gaSBpbnN0YW5jZW9mIEVycm9yPyhpLm9yaWdpbmFsTWVzc2FnZT1pLm1lc3NhZ2UsaS5tZXNzYWdlPWAke219XFxuJHtpLm1lc3NhZ2V9YCk6aT1uZXcgRXJyb3IobSksaS5jb21tYW5kPWEsZGVsZXRlIGkuY29kZSxpLmV4aXRDb2RlPWgsaS5leGl0Q29kZU5hbWU9cCxpLnN0ZG91dD1lLGkuc3RkZXJyPXQsdm9pZCAwIT09biYmKGkuYWxsPW4pLFwiYnVmZmVyZWREYXRhXCJpbiBpJiZkZWxldGUgaS5idWZmZXJlZERhdGEsaS5mYWlsZWQ9ITAsaS50aW1lZE91dD1Cb29sZWFuKHUpLGkuaXNDYW5jZWxlZD1sLGkua2lsbGVkPWYmJiF1LGkuc2lnbmFsPXN8fHZvaWQgMCxpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcInV0aWxcIil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPVtcInN0ZGluXCIsXCJzdGRvdXRcIixcInN0ZGVyclwiXSxvPWU9PntpZighZSlyZXR1cm47Y29uc3R7c3RkaW86dH09ZTtpZih2b2lkIDA9PT10KXJldHVybiByLm1hcCh0PT5lW3RdKTtpZigoZT0+ci5zb21lKHQ9PnZvaWQgMCE9PWVbdF0pKShlKSl0aHJvdyBuZXcgRXJyb3IoXCJJdCdzIG5vdCBwb3NzaWJsZSB0byBwcm92aWRlIGBzdGRpb2AgaW4gY29tYmluYXRpb24gd2l0aCBvbmUgb2YgXCIrci5tYXAoZT0+YFxcYCR7ZX1cXGBgKS5qb2luKFwiLCBcIikpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0O2lmKCFBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIFxcYHN0ZGlvXFxgIHRvIGJlIG9mIHR5cGUgXFxgc3RyaW5nXFxgIG9yIFxcYEFycmF5XFxgLCBnb3QgXFxgJHt0eXBlb2YgdH1cXGBgKTtjb25zdCBuPU1hdGgubWF4KHQubGVuZ3RoLHIubGVuZ3RoKTtyZXR1cm4gQXJyYXkuZnJvbSh7bGVuZ3RoOm59LChlLG4pPT50W25dKX07ZS5leHBvcnRzPW8sZS5leHBvcnRzLm5vZGU9ZT0+e2NvbnN0IHQ9byhlKTtyZXR1cm5cImlwY1wiPT09dD9cImlwY1wiOnZvaWQgMD09PXR8fFwic3RyaW5nXCI9PXR5cGVvZiB0P1t0LHQsdCxcImlwY1wiXTp0LmluY2x1ZGVzKFwiaXBjXCIpP3Q6Wy4uLnQsXCJpcGNcIl19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDQpLG89bigyOSksaT1uKDMzKSxzPShlLHQsbixyKT0+e2lmKCFjKHQsbixyKSlyZXR1cm47Y29uc3Qgbz11KG4pO3NldFRpbWVvdXQoKCk9PntlKFwiU0lHS0lMTFwiKX0sbykudW5yZWYoKX0sYz0oZSx7Zm9yY2VLaWxsQWZ0ZXJUaW1lb3V0OnR9LG4pPT5hKGUpJiYhMSE9PXQmJm4sYT1lPT5lPT09ci5jb25zdGFudHMuc2lnbmFscy5TSUdURVJNfHxcInN0cmluZ1wiPT10eXBlb2YgZSYmXCJTSUdURVJNXCI9PT1lLnRvVXBwZXJDYXNlKCksdT0oe2ZvcmNlS2lsbEFmdGVyVGltZW91dDplPSEwfSk9PntpZighMD09PWUpcmV0dXJuIDVlMztpZighTnVtYmVyLmlzSW50ZWdlcihlKXx8ZTwwKXRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIHRoZSBcXGBmb3JjZUtpbGxBZnRlclRpbWVvdXRcXGAgb3B0aW9uIHRvIGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIsIGdvdCBcXGAke2V9XFxgICgke3R5cGVvZiBlfSlgKTtyZXR1cm4gZX07ZS5leHBvcnRzPXtzcGF3bmVkS2lsbDooZSx0PVwiU0lHVEVSTVwiLG49e30pPT57Y29uc3Qgcj1lKHQpO3JldHVybiBzKGUsdCxuLHIpLHJ9LHNwYXduZWRDYW5jZWw6KGUsdCk9PntlLmtpbGwoKSYmKHQuaXNDYW5jZWxlZD0hMCl9LHNldHVwVGltZW91dDooZSx7dGltZW91dDp0LGtpbGxTaWduYWw6bj1cIlNJR1RFUk1cIn0scik9PntpZigwPT09dHx8dm9pZCAwPT09dClyZXR1cm4gcjtpZighTnVtYmVyLmlzSW50ZWdlcih0KXx8dDwwKXRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIHRoZSBcXGB0aW1lb3V0XFxgIG9wdGlvbiB0byBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBnb3QgXFxgJHt0fVxcYCAoJHt0eXBlb2YgdH0pYCk7bGV0IG87Y29uc3Qgcz1uZXcgUHJvbWlzZSgocixpKT0+e289c2V0VGltZW91dCgoKT0+eygoZSx0LG4pPT57ZS5raWxsKHQpLG4oT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoXCJUaW1lZCBvdXRcIikse3RpbWVkT3V0OiEwLHNpZ25hbDp0fSkpfSkoZSxuLGkpfSx0KX0pLGM9aShyLCgpPT57Y2xlYXJUaW1lb3V0KG8pfSk7cmV0dXJuIFByb21pc2UucmFjZShbcyxjXSl9LHNldEV4aXRIYW5kbGVyOihlLHtjbGVhbnVwOnQsZGV0YWNoZWQ6bn0scik9PntpZighdHx8bilyZXR1cm4gcjtjb25zdCBzPW8oKCk9PntlLmtpbGwoKX0pO3JldHVybiBpKHIscyl9fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89bigzMCksaT1uKDMxKSxzPS9ed2luL2kudGVzdChwcm9jZXNzLnBsYXRmb3JtKSxjPW4oMzIpO2Z1bmN0aW9uIGEoKXtmJiYoZj0hMSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RyeXtwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKGUsbFtlXSl9Y2F0Y2goZSl7fX0pKSxwcm9jZXNzLmVtaXQ9bSxwcm9jZXNzLnJlYWxseUV4aXQ9cCxyLmNvdW50LT0xKX1mdW5jdGlvbiB1KGUsdCxuKXtyLmVtaXR0ZWRbZV18fChyLmVtaXR0ZWRbZV09ITAsci5lbWl0KGUsdCxuKSl9XCJmdW5jdGlvblwiIT10eXBlb2YgYyYmKGM9Yy5FdmVudEVtaXR0ZXIpLHByb2Nlc3MuX19zaWduYWxfZXhpdF9lbWl0dGVyX18/cj1wcm9jZXNzLl9fc2lnbmFsX2V4aXRfZW1pdHRlcl9fOigocj1wcm9jZXNzLl9fc2lnbmFsX2V4aXRfZW1pdHRlcl9fPW5ldyBjKS5jb3VudD0wLHIuZW1pdHRlZD17fSksci5pbmZpbml0ZXx8KHIuc2V0TWF4TGlzdGVuZXJzKDEvMCksci5pbmZpbml0ZT0hMCksZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7by5lcXVhbCh0eXBlb2YgZSxcImZ1bmN0aW9uXCIsXCJhIGNhbGxiYWNrIG11c3QgYmUgcHJvdmlkZWQgZm9yIGV4aXQgaGFuZGxlclwiKSwhMT09PWYmJmQoKTt2YXIgbj1cImV4aXRcIjt0JiZ0LmFsd2F5c0xhc3QmJihuPVwiYWZ0ZXJleGl0XCIpO3JldHVybiByLm9uKG4sZSksZnVuY3Rpb24oKXtyLnJlbW92ZUxpc3RlbmVyKG4sZSksMD09PXIubGlzdGVuZXJzKFwiZXhpdFwiKS5sZW5ndGgmJjA9PT1yLmxpc3RlbmVycyhcImFmdGVyZXhpdFwiKS5sZW5ndGgmJmEoKX19LGUuZXhwb3J0cy51bmxvYWQ9YTt2YXIgbD17fTtpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2xbZV09ZnVuY3Rpb24oKXtwcm9jZXNzLmxpc3RlbmVycyhlKS5sZW5ndGg9PT1yLmNvdW50JiYoYSgpLHUoXCJleGl0XCIsbnVsbCxlKSx1KFwiYWZ0ZXJleGl0XCIsbnVsbCxlKSxzJiZcIlNJR0hVUFwiPT09ZSYmKGU9XCJTSUdJTlRcIikscHJvY2Vzcy5raWxsKHByb2Nlc3MucGlkLGUpKX19KSksZS5leHBvcnRzLnNpZ25hbHM9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sZS5leHBvcnRzLmxvYWQ9ZDt2YXIgZj0hMTtmdW5jdGlvbiBkKCl7Znx8KGY9ITAsci5jb3VudCs9MSxpPWkuZmlsdGVyKChmdW5jdGlvbihlKXt0cnl7cmV0dXJuIHByb2Nlc3Mub24oZSxsW2VdKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19KSkscHJvY2Vzcy5lbWl0PWcscHJvY2Vzcy5yZWFsbHlFeGl0PWgpfXZhciBwPXByb2Nlc3MucmVhbGx5RXhpdDtmdW5jdGlvbiBoKGUpe3Byb2Nlc3MuZXhpdENvZGU9ZXx8MCx1KFwiZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCksdShcImFmdGVyZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCkscC5jYWxsKHByb2Nlc3MscHJvY2Vzcy5leGl0Q29kZSl9dmFyIG09cHJvY2Vzcy5lbWl0O2Z1bmN0aW9uIGcoZSx0KXtpZihcImV4aXRcIj09PWUpe3ZvaWQgMCE9PXQmJihwcm9jZXNzLmV4aXRDb2RlPXQpO3ZhciBuPW0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1KFwiZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCksdShcImFmdGVyZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCksbn1yZXR1cm4gbS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwiYXNzZXJ0XCIpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1bXCJTSUdBQlJUXCIsXCJTSUdBTFJNXCIsXCJTSUdIVVBcIixcIlNJR0lOVFwiLFwiU0lHVEVSTVwiXSxcIndpbjMyXCIhPT1wcm9jZXNzLnBsYXRmb3JtJiZlLmV4cG9ydHMucHVzaChcIlNJR1ZUQUxSTVwiLFwiU0lHWENQVVwiLFwiU0lHWEZTWlwiLFwiU0lHVVNSMlwiLFwiU0lHVFJBUFwiLFwiU0lHU1lTXCIsXCJTSUdRVUlUXCIsXCJTSUdJT1RcIiksXCJsaW51eFwiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmZS5leHBvcnRzLnB1c2goXCJTSUdJT1wiLFwiU0lHUE9MTFwiLFwiU0lHUFdSXCIsXCJTSUdTVEtGTFRcIixcIlNJR1VOVVNFRFwiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcImV2ZW50c1wiKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1hc3luYyhlLHQ9KCgpPT57fSkpPT57bGV0IG47dHJ5e249YXdhaXQgZX1jYXRjaChlKXt0aHJvdyBhd2FpdCB0KCksZX1yZXR1cm4gYXdhaXQgdCgpLG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDM1KSxvPW4oMzYpLGk9big0MSkscz1hc3luYyhlLHQpPT57aWYoZSl7ZS5kZXN0cm95KCk7dHJ5e3JldHVybiBhd2FpdCB0fWNhdGNoKGUpe3JldHVybiBlLmJ1ZmZlcmVkRGF0YX19fSxjPShlLHtlbmNvZGluZzp0LGJ1ZmZlcjpuLG1heEJ1ZmZlcjpyfSk9PntpZihlKXJldHVybiBuP3Q/byhlLHtlbmNvZGluZzp0LG1heEJ1ZmZlcjpyfSk6by5idWZmZXIoZSx7bWF4QnVmZmVyOnJ9KTpuZXcgUHJvbWlzZSgodCxuKT0+e2Uub25jZShcImVuZFwiLHQpLm9uY2UoXCJlcnJvclwiLG4pfSl9O2UuZXhwb3J0cz17aGFuZGxlSW5wdXQ6KGUsdCk9Pnt2b2lkIDAhPT10JiZ2b2lkIDAhPT1lLnN0ZGluJiYocih0KT90LnBpcGUoZS5zdGRpbik6ZS5zdGRpbi5lbmQodCkpfSxtYWtlQWxsU3RyZWFtOmU9PntpZighZS5zdGRvdXQmJiFlLnN0ZGVycilyZXR1cm47Y29uc3QgdD1pKCk7cmV0dXJuIGUuc3Rkb3V0JiZ0LmFkZChlLnN0ZG91dCksZS5zdGRlcnImJnQuYWRkKGUuc3RkZXJyKSx0fSxnZXRTcGF3bmVkUmVzdWx0OmFzeW5jKHtzdGRvdXQ6ZSxzdGRlcnI6dCxhbGw6bn0se2VuY29kaW5nOnIsYnVmZmVyOm8sbWF4QnVmZmVyOml9LGEpPT57Y29uc3QgdT1jKGUse2VuY29kaW5nOnIsYnVmZmVyOm8sbWF4QnVmZmVyOml9KSxsPWModCx7ZW5jb2Rpbmc6cixidWZmZXI6byxtYXhCdWZmZXI6aX0pLGY9YyhuLHtlbmNvZGluZzpyLGJ1ZmZlcjpvLG1heEJ1ZmZlcjoyKml9KTt0cnl7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFthLHUsbCxmXSl9Y2F0Y2gocil7cmV0dXJuIFByb21pc2UuYWxsKFt7ZXJyb3I6cixjb2RlOnIuY29kZSxzaWduYWw6ci5zaWduYWwsdGltZWRPdXQ6ci50aW1lZE91dH0scyhlLHUpLHModCxsKSxzKG4sZildKX19LHZhbGlkYXRlSW5wdXRTeW5jOih7aW5wdXQ6ZX0pPT57aWYocihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGBpbnB1dGAgb3B0aW9uIGNhbm5vdCBiZSBhIHN0cmVhbSBpbiBzeW5jIG1vZGVcIil9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9ZT0+bnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnBpcGU7ci53cml0YWJsZT1lPT5yKGUpJiYhMSE9PWUud3JpdGFibGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuX3dyaXRlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fd3JpdGFibGVTdGF0ZSxyLnJlYWRhYmxlPWU9PnIoZSkmJiExIT09ZS5yZWFkYWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fcmVhZCYmXCJvYmplY3RcIj09dHlwZW9mIGUuX3JlYWRhYmxlU3RhdGUsci5kdXBsZXg9ZT0+ci53cml0YWJsZShlKSYmci5yZWFkYWJsZShlKSxyLnRyYW5zZm9ybT1lPT5yLmR1cGxleChlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fdHJhbnNmb3JtJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fdHJhbnNmb3JtU3RhdGUsZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMzcpLG89big0MCk7Y2xhc3MgaSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXhCdWZmZXIgZXhjZWVkZWRcIiksdGhpcy5uYW1lPVwiTWF4QnVmZmVyRXJyb3JcIn19YXN5bmMgZnVuY3Rpb24gcyhlLHQpe2lmKCFlKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJFeHBlY3RlZCBhIHN0cmVhbVwiKSk7dD17bWF4QnVmZmVyOjEvMCwuLi50fTtjb25zdHttYXhCdWZmZXI6bn09dDtsZXQgcztyZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKGMsYSk9Pntjb25zdCB1PWU9PntlJiYoZS5idWZmZXJlZERhdGE9cy5nZXRCdWZmZXJlZFZhbHVlKCkpLGEoZSl9O3M9cihlLG8odCksZT0+e2U/dShlKTpjKCl9KSxzLm9uKFwiZGF0YVwiLCgpPT57cy5nZXRCdWZmZXJlZExlbmd0aCgpPm4mJnUobmV3IGkpfSl9KSxzLmdldEJ1ZmZlcmVkVmFsdWUoKX1lLmV4cG9ydHM9cyxlLmV4cG9ydHMuZGVmYXVsdD1zLGUuZXhwb3J0cy5idWZmZXI9KGUsdCk9PnMoZSx7Li4udCxlbmNvZGluZzpcImJ1ZmZlclwifSksZS5leHBvcnRzLmFycmF5PShlLHQpPT5zKGUsey4uLnQsYXJyYXk6ITB9KSxlLmV4cG9ydHMuTWF4QnVmZmVyRXJyb3I9aX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNSksbz1uKDM5KSxpPW4oMSkscz1mdW5jdGlvbigpe30sYz0vXnY/XFwuMC8udGVzdChwcm9jZXNzLnZlcnNpb24pLGE9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX0sdT1mdW5jdGlvbihlLHQsbix1KXt1PXIodSk7dmFyIGw9ITE7ZS5vbihcImNsb3NlXCIsKGZ1bmN0aW9uKCl7bD0hMH0pKSxvKGUse3JlYWRhYmxlOnQsd3JpdGFibGU6bn0sKGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHUoZSk7bD0hMCx1KCl9KSk7dmFyIGY9ITE7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCFsJiYhZilyZXR1cm4gZj0hMCxmdW5jdGlvbihlKXtyZXR1cm4hIWMmJighIWkmJigoZSBpbnN0YW5jZW9mKGkuUmVhZFN0cmVhbXx8cyl8fGUgaW5zdGFuY2VvZihpLldyaXRlU3RyZWFtfHxzKSkmJmEoZS5jbG9zZSkpKX0oZSk/ZS5jbG9zZShzKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zZXRIZWFkZXImJmEoZS5hYm9ydCl9KGUpP2UuYWJvcnQoKTphKGUuZGVzdHJveSk/ZS5kZXN0cm95KCk6dm9pZCB1KHR8fG5ldyBFcnJvcihcInN0cmVhbSB3YXMgZGVzdHJveWVkXCIpKX19LGw9ZnVuY3Rpb24oZSl7ZSgpfSxmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucGlwZSh0KX07ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGUsdD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLG49YSh0W3QubGVuZ3RoLTFdfHxzKSYmdC5wb3AoKXx8cztpZihBcnJheS5pc0FycmF5KHRbMF0pJiYodD10WzBdKSx0Lmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcihcInB1bXAgcmVxdWlyZXMgdHdvIHN0cmVhbXMgcGVyIG1pbmltdW1cIik7dmFyIHI9dC5tYXAoKGZ1bmN0aW9uKG8saSl7dmFyIHM9aTx0Lmxlbmd0aC0xO3JldHVybiB1KG8scyxpPjAsKGZ1bmN0aW9uKHQpe2V8fChlPXQpLHQmJnIuZm9yRWFjaChsKSxzfHwoci5mb3JFYWNoKGwpLG4oZSkpfSkpfSkpO3JldHVybiB0LnJlZHVjZShmKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCxuKXtpZih0JiZuKXJldHVybiBlKHQpKG4pO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5lZWQgd3JhcHBlciBmdW5jdGlvblwiKTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlXT10W2VdfSkpLHI7ZnVuY3Rpb24gcigpe2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksbj0wO248ZS5sZW5ndGg7bisrKWVbbl09YXJndW1lbnRzW25dO3ZhciByPXQuYXBwbHkodGhpcyxlKSxvPWVbZS5sZW5ndGgtMV07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgciYmciE9PW8mJk9iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZV09b1tlXX0pKSxyfX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUpLG89ZnVuY3Rpb24oKXt9LGk9ZnVuY3Rpb24oZSx0LG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIGkoZSxudWxsLHQpO3R8fCh0PXt9KSxuPXIobnx8byk7dmFyIHM9ZS5fd3JpdGFibGVTdGF0ZSxjPWUuX3JlYWRhYmxlU3RhdGUsYT10LnJlYWRhYmxlfHwhMSE9PXQucmVhZGFibGUmJmUucmVhZGFibGUsdT10LndyaXRhYmxlfHwhMSE9PXQud3JpdGFibGUmJmUud3JpdGFibGUsbD0hMSxmPWZ1bmN0aW9uKCl7ZS53cml0YWJsZXx8ZCgpfSxkPWZ1bmN0aW9uKCl7dT0hMSxhfHxuLmNhbGwoZSl9LHA9ZnVuY3Rpb24oKXthPSExLHV8fG4uY2FsbChlKX0saD1mdW5jdGlvbih0KXtuLmNhbGwoZSx0P25ldyBFcnJvcihcImV4aXRlZCB3aXRoIGVycm9yIGNvZGU6IFwiK3QpOm51bGwpfSxtPWZ1bmN0aW9uKHQpe24uY2FsbChlLHQpfSxnPWZ1bmN0aW9uKCl7cHJvY2Vzcy5uZXh0VGljayh4KX0seD1mdW5jdGlvbigpe2lmKCFsKXJldHVybighYXx8YyYmYy5lbmRlZCYmIWMuZGVzdHJveWVkKSYmKCF1fHxzJiZzLmVuZGVkJiYhcy5kZXN0cm95ZWQpP3ZvaWQgMDpuLmNhbGwoZSxuZXcgRXJyb3IoXCJwcmVtYXR1cmUgY2xvc2VcIikpfSx5PWZ1bmN0aW9uKCl7ZS5yZXEub24oXCJmaW5pc2hcIixkKX07cmV0dXJuIWZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhlYWRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5hYm9ydH0oZSk/dSYmIXMmJihlLm9uKFwiZW5kXCIsZiksZS5vbihcImNsb3NlXCIsZikpOihlLm9uKFwiY29tcGxldGVcIixkKSxlLm9uKFwiYWJvcnRcIixnKSxlLnJlcT95KCk6ZS5vbihcInJlcXVlc3RcIix5KSksZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RkaW8mJkFycmF5LmlzQXJyYXkoZS5zdGRpbykmJjM9PT1lLnN0ZGlvLmxlbmd0aH0oZSkmJmUub24oXCJleGl0XCIsaCksZS5vbihcImVuZFwiLHApLGUub24oXCJmaW5pc2hcIixkKSwhMSE9PXQuZXJyb3ImJmUub24oXCJlcnJvclwiLG0pLGUub24oXCJjbG9zZVwiLGcpLGZ1bmN0aW9uKCl7bD0hMCxlLnJlbW92ZUxpc3RlbmVyKFwiY29tcGxldGVcIixkKSxlLnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRcIixnKSxlLnJlbW92ZUxpc3RlbmVyKFwicmVxdWVzdFwiLHkpLGUucmVxJiZlLnJlcS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGQpLGUucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixmKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixmKSxlLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZCksZS5yZW1vdmVMaXN0ZW5lcihcImV4aXRcIixoKSxlLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIscCksZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsbSksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsZyl9fTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0e1Bhc3NUaHJvdWdoOnJ9PW4oNik7ZS5leHBvcnRzPWU9PntlPXsuLi5lfTtjb25zdHthcnJheTp0fT1lO2xldHtlbmNvZGluZzpufT1lO2NvbnN0IG89XCJidWZmZXJcIj09PW47bGV0IGk9ITE7dD9pPSEobnx8byk6bj1ufHxcInV0ZjhcIixvJiYobj1udWxsKTtjb25zdCBzPW5ldyByKHtvYmplY3RNb2RlOml9KTtuJiZzLnNldEVuY29kaW5nKG4pO2xldCBjPTA7Y29uc3QgYT1bXTtyZXR1cm4gcy5vbihcImRhdGFcIixlPT57YS5wdXNoKGUpLGk/Yz1hLmxlbmd0aDpjKz1lLmxlbmd0aH0pLHMuZ2V0QnVmZmVyZWRWYWx1ZT0oKT0+dD9hOm8/QnVmZmVyLmNvbmNhdChhLGMpOmEuam9pbihcIlwiKSxzLmdldEJ1ZmZlcmVkTGVuZ3RoPSgpPT5jLHN9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3R7UGFzc1Rocm91Z2g6cn09big2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PW5ldyByKHtvYmplY3RNb2RlOiEwfSk7cmV0dXJuIHQuc2V0TWF4TGlzdGVuZXJzKDApLHQuYWRkPW4sdC5pc0VtcHR5PW8sdC5vbihcInVucGlwZVwiLGkpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuZm9yRWFjaChuKSx0O2Z1bmN0aW9uIG4ocil7cmV0dXJuIEFycmF5LmlzQXJyYXkocik/KHIuZm9yRWFjaChuKSx0aGlzKTooZS5wdXNoKHIpLHIub25jZShcImVuZFwiLGkuYmluZChudWxsLHIpKSxyLm9uY2UoXCJlcnJvclwiLHQuZW1pdC5iaW5kKHQsXCJlcnJvclwiKSksci5waXBlKHQse2VuZDohMX0pLHRoaXMpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gMD09ZS5sZW5ndGh9ZnVuY3Rpb24gaShuKXshKGU9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09bn0pKSkubGVuZ3RoJiZ0LnJlYWRhYmxlJiZ0LmVuZCgpfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPShlLHQsbik9Pntjb25zdCByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KC4uLmUpPT50KClbbl0oLi4uZSk6dFtuXS5iaW5kKHQpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se3ZhbHVlOnIsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KX07ZS5leHBvcnRzPXttZXJnZVByb21pc2U6KGUsdCk9PihyKGUsdCxcInRoZW5cIikscihlLHQsXCJjYXRjaFwiKSxQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5JiZyKGUsdCxcImZpbmFsbHlcIiksZSksZ2V0U3Bhd25lZFByb21pc2U6ZT0+bmV3IFByb21pc2UoKHQsbik9PntlLm9uKFwiZXhpdFwiLChlLG4pPT57dCh7Y29kZTplLHNpZ25hbDpufSl9KSxlLm9uKFwiZXJyb3JcIixlPT57bihlKX0pLGUuc3RkaW4mJmUuc3RkaW4ub24oXCJlcnJvclwiLGU9PntuKGUpfSl9KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPS8gKy9nLG89KGUsdCxuKT0+e2lmKDA9PT1uKXJldHVyblt0XTtjb25zdCByPWVbZS5sZW5ndGgtMV07cmV0dXJuIHIuZW5kc1dpdGgoXCJcXFxcXCIpP1suLi5lLnNsaWNlKDAsLTEpLGAke3Iuc2xpY2UoMCwtMSl9ICR7dH1gXTpbLi4uZSx0XX07ZS5leHBvcnRzPXtqb2luQ29tbWFuZDooZSx0PVtdKT0+QXJyYXkuaXNBcnJheSh0KT9bZSwuLi50XS5qb2luKFwiIFwiKTplLHBhcnNlQ29tbWFuZDplPT5lLnRyaW0oKS5zcGxpdChyKS5yZWR1Y2UobyxbXSl9fV0pfSkpOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=