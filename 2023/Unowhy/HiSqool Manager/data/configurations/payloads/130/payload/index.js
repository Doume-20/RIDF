!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(global,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("child_process")},function(e,t){e.exports=require("os")},function(e,t,r){var n=r(41);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){e.exports=require("stream")},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(0),s=o(r(7));t.Runner=class{constructor(e){this.context=e}log(e){return this.context.logger.log(e)}warn(e){return this.context.logger.warn(e)}updateGPO(){return n(this,void 0,void 0,function*(){this.log("Updating GPO version...");try{yield s.default("wmic",["UserAccount","set","PasswordExpires=False"])}catch(e){this.log(`Error while updating GPO version: ${e}`)}this.log(`Modifying ${process.env.WINDIR}\\version_gpo.txt`);try{yield i.promises.writeFile(`${process.env.WINDIR}\\version_gpo.txt`,"1.5","utf8")}catch(e){this.log(`Error while modifying ${process.env.WINDIR}\\version_gpo.txt: ${e}`)}})}check(e){return n(this,void 0,void 0,function*(){if(this.log("Checking that the unit needs to be performed"),"win32"===this.context.platform){let e=0;if(i.existsSync(`${process.env.WINDIR}\\version_gpo.txt`)){this.log("Getting GPO version...");try{const t=yield i.promises.readFile(`${process.env.WINDIR}\\version_gpo.txt`,"utf8");e=parseFloat(t)}catch(e){this.log(`Error while getting GPO version from ${process.env.WINDIR}\\version_gpo.txt: ${e}`)}this.log(`Current GPO version: ${e.toString().trim()}`)}if(e<1.5)return!0}else this.log("Not running on Windows !")})}perform(e){return n(this,void 0,void 0,function*(){let e=!1;try{this.log("Performing unit operation..."),yield s.default(`${process.env.WINDIR}\\system32\\reg.exe`,["ADD","HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","/v","EnableUA","/t","REG_DWORD","/d","0","/f"]),this.log("Finishing uacEnable"),yield s.default(`${process.env.WINDIR}\\system32\\reg.exe`,["ADD","HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","/v","FilterAdministratorToken","/t","REG_DWORD","/d","0","/f"]),this.log("Finishing uacEnable"),yield s.default(`${process.env.WINDIR}\\system32\\reg.exe`,["ADD","HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","/v","EnableInstallerDetection","/t","REG_DWORD","/d","0","/f"]),this.log("Finishing enableInstallerDetection"),yield this.updateGPO(),yield s.default(`${process.env.WINDIR}\\system32\\reg.exe`,["ADD","HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","/v","EnableUA","/t","REG_DWORD","/d","1","/f"]),this.log("Finishing uacDisable"),yield s.default(`${process.env.WINDIR}\\system32\\reg.exe`,["ADD","HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","/v","FilterAdministratorToken","/t","REG_DWORD","/d","1","/f"]),this.log("Finishing AdminUacDisable"),yield s.default(`${process.env.WINDIR}\\system32\\reg.exe`,["ADD","HKLM\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System","/v","EnableInstallerDetection","/t","REG_DWORD","/d","1","/f"]),this.log("Finishing disableInstallerDetection"),this.log("Finishing AdminUacDisable"),e=!0}catch(e){this.warn(`Error while performing change: ${e}`)}return e})}callback(e,t,r){this.log(`Result for ${e} for ${t}: ${r||"ok"}`)}}},function(e,t,r){"use strict";const n=r(1),o=r(2),i=r(8),s=r(23),a=r(24),c=r(26),u=r(28),l=r(30),{spawnedKill:f,spawnedCancel:p,setupTimeout:d,setExitHandler:h}=r(31),{handleInput:m,getSpawnedResult:v,makeAllStream:g,validateInputSync:y}=r(37),{mergePromise:w,getSpawnedPromise:x}=r(45),{joinCommand:E,parseCommand:b}=r(46),S=(e,t,r={})=>{const o=i._parse(e,t,r);return e=o.command,t=o.args,(r={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(r=o.options).cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0,...r,windowsHide:!0}).env=(({env:e,extendEnv:t,preferLocal:r,localDir:n})=>{const o=t?{...process.env,...e}:e;return r?a.env({env:o,cwd:n}):o})(r),r.stdio=l(r),"win32"===process.platform&&"cmd"===n.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:r,parsed:o}},I=(e,t,r)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?s(t):t:void 0===r?void 0:"",j=(e,t,r)=>{const n=S(e,t,r),s=E(e,t);let a;try{a=o.spawn(n.file,n.args,n.options)}catch(e){const t=new o.ChildProcess,r=Promise.reject(u({error:e,stdout:"",stderr:"",all:"",command:s,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return w(t,r)}const l=x(a),y=d(a,n.options,l),b=h(a,n.options,y),j={isCanceled:!1};a.kill=f.bind(null,a.kill.bind(a)),a.cancel=p.bind(null,a,j);const P=c(async()=>{const[{error:e,code:t,signal:r,timedOut:o},i,c,l]=await v(a,n.options,b),f=I(n.options,i),p=I(n.options,c),d=I(n.options,l);if(e||0!==t||null!==r){const i=u({error:e,code:t,signal:r,stdout:f,stderr:p,all:d,command:s,parsed:n,timedOut:o,isCanceled:j.isCanceled,killed:a.killed});if(!n.options.reject)return i;throw i}return{command:s,exitCode:0,exitCodeName:"SUCCESS",stdout:f,stderr:p,all:d,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return i._enoent.hookChildProcess(a,n.parsed),m(a,n.options.input),a.all=g(a),w(a,P)};e.exports=j,e.exports.sync=(e,t,r)=>{const n=S(e,t,r),i=E(e,t);let s;y(n.options);try{s=o.spawnSync(n.file,n.args,n.options)}catch(e){throw u({error:e,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}if(s.stdout=I(n.options,s.stdout,s.error),s.stderr=I(n.options,s.stderr,s.error),s.error||0!==s.status||null!==s.signal){const e=u({...s,code:s.status,command:i,parsed:n,timedOut:s.error&&"ETIMEDOUT"===s.error.errno,isCanceled:!1,killed:null!==s.signal});if(!n.options.reject)return e;throw e}return{command:i,exitCode:0,exitCodeName:"SUCCESS",stdout:s.stdout,stderr:s.stderr,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},e.exports.command=(e,t)=>{const[r,...n]=b(e);return j(r,n,t)},e.exports.commandSync=(e,t)=>{const[r,...n]=b(e);return j.sync(r,n,t)},e.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=[]);const n=l.node(r),{nodePath:o=process.execPath,nodeOptions:i=process.execArgv}=r;return j(o,[...i,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}},function(e,t,r){"use strict";const n=r(2),o=r(9),i=r(22);function s(e,t,r){const s=o(e,t,r),a=n.spawn(s.command,s.args,s.options);return i.hookChildProcess(a,s),a}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,r){const s=o(e,t,r),a=n.spawnSync(s.command,s.args,s.options);return a.error=a.error||i.verifyENOENTSync(a.status,s),a},e.exports._parse=o,e.exports._enoent=i},function(e,t,r){"use strict";const n=r(1),o=r(10),i=r(11),s=r(17),a=r(18),c=r(21),u="win32"===process.platform,l=/\.(?:com|exe)$/i,f=/node_modules[\\\/].bin[\\\/][^\\\/]+\.cmd$/i,p=o(()=>c.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function d(e){if(!u)return e;const t=function(e){e.file=i(e);const t=e.file&&a(e.file);return t?(e.args.unshift(e.file),e.command=t,i(e)):e.file}(e),r=!l.test(t);if(e.options.forceShell||r){const r=f.test(t);e.command=n.normalize(e.command),e.command=s.command(e.command),e.args=e.args.map(e=>s.argument(e,r));const o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}e.exports=function(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null);const n={command:e,args:t=t?t.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:e,args:t}};return r.shell?function(e){if(p)return e;const t=[e.command].concat(e.args).join(" ");return u?(e.command="string"==typeof e.options.shell?e.options.shell:process.env.comspec||"cmd.exe",e.args=["/d","/s","/c",`"${t}"`],e.options.windowsVerbatimArguments=!0):("string"==typeof e.options.shell?e.command=e.options.shell:"android"===process.platform?e.command="/system/bin/sh":e.command="/bin/sh",e.args=["-c",t]),e}(n):d(n)}},function(e,t,r){"use strict";e.exports=function(e){try{return e()}catch(e){}}},function(e,t,r){"use strict";const n=r(1),o=r(12),i=r(16)();function s(e,t){const r=process.cwd(),s=null!=e.options.cwd;if(s)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=o.sync(e.command,{path:(e.options.env||process.env)[i],pathExt:t?n.delimiter:void 0})}catch(e){}finally{process.chdir(r)}return a&&(a=n.resolve(s?e.options.cwd:"",a)),a}e.exports=function(e){return s(e)||s(e,!0)}},function(e,t,r){e.exports=u,u.sync=function(e,t){for(var r=c(e,t=t||{}),n=r.env,i=r.ext,u=r.extExe,l=[],f=0,p=n.length;f<p;f++){var d=n[f];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var h=o.join(d,e);!d&&/^\.[\\\/]/.test(e)&&(h=e.slice(0,2)+h);for(var m=0,v=i.length;m<v;m++){var g=h+i[m];try{if(s.sync(g,{pathExt:u})){if(!t.all)return g;l.push(g)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)};var n="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,o=r(1),i=n?";":":",s=r(13);function a(e){var t=new Error("not found: "+e);return t.code="ENOENT",t}function c(e,t){var r=t.colon||i,o=t.path||process.env.PATH||"",s=[""];o=o.split(r);var a="";return n&&(o.unshift(process.cwd()),s=(a=t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(r),-1!==e.indexOf(".")&&""!==s[0]&&s.unshift("")),(e.match(/\//)||n&&e.match(/\\/))&&(o=[""]),{env:o,ext:s,extExe:a}}function u(e,t,r){"function"==typeof t&&(r=t,t={});var n=c(e,t),i=n.env,u=n.ext,l=n.extExe,f=[];!function n(c,p){if(c===p)return t.all&&f.length?r(null,f):r(a(e));var d=i[c];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var h=o.join(d,e);!d&&/^\.[\\\/]/.test(e)&&(h=e.slice(0,2)+h),function e(o,i){if(o===i)return n(c+1,p);var a=u[o];s(h+a,{pathExt:l},function(n,s){if(!n&&s){if(!t.all)return r(null,h+a);f.push(h+a)}return e(o+1,i)})}(0,u.length)}(0,i.length)}},function(e,t,r){var n;r(0);function o(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(r,n){o(e,t||{},function(e,t){e?n(e):r(t)})})}n(e,t||{},function(e,n){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,n=!1),r(e,n)})}n="win32"===process.platform||global.TESTING_WINDOWS?r(14):r(15),e.exports=o,o.sync=function(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,r){e.exports=i,i.sync=function(e,t){return o(n.statSync(e),e,t)};var n=r(0);function o(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,r)}function i(e,t,r){n.stat(e,function(n,i){r(n,!n&&o(i,e,t))})}},function(e,t,r){e.exports=o,o.sync=function(e,t){return i(n.statSync(e),t)};var n=r(0);function o(e,t,r){n.stat(e,function(e,n){r(e,!e&&i(n,t))})}function i(e,t){return e.isFile()&&function(e,t){var r=e.mode,n=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c;return r&u||r&c&&o===s||r&a&&n===i||r&l&&0===i}(e,t)}},function(e,t,r){"use strict";e.exports=e=>{const t=(e=e||{}).env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).find(e=>"PATH"===e.toUpperCase())||"Path"}},function(e,t,r){"use strict";const n=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e=e.replace(n,"^$1")},e.exports.argument=function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(n,"^$1"),t&&(e=e.replace(n,"^$1")),e}},function(e,t,r){"use strict";const n=r(0),o=r(19);e.exports=function(e){let t,r;Buffer.alloc?t=Buffer.alloc(150):(t=new Buffer(150)).fill(0);try{r=n.openSync(e,"r"),n.readSync(r,t,0,150,0),n.closeSync(r)}catch(e){}return o(t.toString())}},function(e,t,r){"use strict";var n=r(20);e.exports=function(e){var t=e.match(n);if(!t)return null;var r=t[0].replace(/#! ?/,"").split(" "),o=r[0].split("/").pop(),i=r[1];return"env"===o?i:o+(i?" "+i:"")}},function(e,t,r){"use strict";e.exports=/^#!.*/},function(e,t){var r;t=e.exports=K,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],s=t.src=[],a=0,c=a++;s[c]="0|[1-9]\\d*";var u=a++;s[u]="[0-9]+";var l=a++;s[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=a++;s[f]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var p=a++;s[p]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var d=a++;s[d]="(?:"+s[c]+"|"+s[l]+")";var h=a++;s[h]="(?:"+s[u]+"|"+s[l]+")";var m=a++;s[m]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var v=a++;s[v]="(?:-?("+s[h]+"(?:\\."+s[h]+")*))";var g=a++;s[g]="[0-9A-Za-z-]+";var y=a++;s[y]="(?:\\+("+s[g]+"(?:\\."+s[g]+")*))";var w=a++,x="v?"+s[f]+s[m]+"?"+s[y]+"?";s[w]="^"+x+"$";var E="[v=\\s]*"+s[p]+s[v]+"?"+s[y]+"?",b=a++;s[b]="^"+E+"$";var S=a++;s[S]="((?:<|>)?=?)";var I=a++;s[I]=s[u]+"|x|X|\\*";var j=a++;s[j]=s[c]+"|x|X|\\*";var P=a++;s[P]="[v=\\s]*("+s[j]+")(?:\\.("+s[j]+")(?:\\.("+s[j]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var T=a++;s[T]="[v=\\s]*("+s[I]+")(?:\\.("+s[I]+")(?:\\.("+s[I]+")(?:"+s[v]+")?"+s[y]+"?)?)?";var $=a++;s[$]="^"+s[S]+"\\s*"+s[P]+"$";var C=a++;s[C]="^"+s[S]+"\\s*"+s[T]+"$";var O=a++;s[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var A=a++;s[A]="(?:~>?)";var _=a++;s[_]="(\\s*)"+s[A]+"\\s+",i[_]=new RegExp(s[_],"g");var R=a++;s[R]="^"+s[A]+s[P]+"$";var D=a++;s[D]="^"+s[A]+s[T]+"$";var N=a++;s[N]="(?:\\^)";var k=a++;s[k]="(\\s*)"+s[N]+"\\s+",i[k]=new RegExp(s[k],"g");var M=a++;s[M]="^"+s[N]+s[P]+"$";var G=a++;s[G]="^"+s[N]+s[T]+"$";var L=a++;s[L]="^"+s[S]+"\\s*("+E+")$|^$";var W=a++;s[W]="^"+s[S]+"\\s*("+x+")$|^$";var F=a++;s[F]="(\\s*)"+s[S]+"\\s*("+E+"|"+s[P]+")",i[F]=new RegExp(s[F],"g");var B=a++;s[B]="^\\s*("+s[P]+")\\s+-\\s+("+s[P]+")\\s*$";var V=a++;s[V]="^\\s*("+s[T]+")\\s+-\\s+("+s[T]+")\\s*$";var q=a++;s[q]="(<|>)?=?\\s*\\*";for(var U=0;U<35;U++)r(U,s[U]),i[U]||(i[U]=new RegExp(s[U]));function H(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?i[b]:i[w]).test(e))return null;try{return new K(e,t)}catch(e){return null}}function K(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof K){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof K))return new K(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?i[b]:i[w]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var r=H(e,t);return r?r.version:null},t.clean=function(e,t){var r=H(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=K,K.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},K.prototype.toString=function(){return this.version},K.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof K||(e=new K(e,this.options)),this.compareMain(e)||this.comparePre(e)},K.prototype.compareMain=function(e){return e instanceof K||(e=new K(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},K.prototype.comparePre=function(e){if(e instanceof K||(e=new K(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return z(n,o)}while(++t)},K.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new K(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(J(e,t))return null;var r=H(e),n=H(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==n[s])return o+s;return i},t.compareIdentifiers=z;var X=/^[0-9]+$/;function z(e,t){var r=X.test(e),n=X.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function Z(e,t,r){return new K(e,r).compare(new K(t,r))}function Y(e,t,r){return Z(e,t,r)>0}function Q(e,t,r){return Z(e,t,r)<0}function J(e,t,r){return 0===Z(e,t,r)}function ee(e,t,r){return 0!==Z(e,t,r)}function te(e,t,r){return Z(e,t,r)>=0}function re(e,t,r){return Z(e,t,r)<=0}function ne(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return J(e,r,n);case"!=":return ee(e,r,n);case">":return Y(e,r,n);case">=":return te(e,r,n);case"<":return Q(e,r,n);case"<=":return re(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return z(t,e)},t.major=function(e,t){return new K(e,t).major},t.minor=function(e,t){return new K(e,t).minor},t.patch=function(e,t){return new K(e,t).patch},t.compare=Z,t.compareLoose=function(e,t){return Z(e,t,!0)},t.rcompare=function(e,t,r){return Z(t,e,r)},t.sort=function(e,r){return e.sort(function(e,n){return t.compare(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.rcompare(e,n,r)})},t.gt=Y,t.lt=Q,t.eq=J,t.neq=ee,t.gte=te,t.lte=re,t.cmp=ne,t.Comparator=oe;var ie={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof oe)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function ce(e,t,r,n,o,i,s,a,c,u,l,f,p){return((t=ae(r)?"":ae(n)?">="+r+".0.0":ae(o)?">="+r+"."+n+".0":">="+t)+" "+(a=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(l)?"<"+c+"."+(+u+1)+".0":f?"<="+c+"."+u+"."+l+"-"+f:"<="+a)).trim()}function ue(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==ie&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function fe(e,t,r,n){var o,i,s,a,c;switch(e=new K(e,n),t=new se(t,n),r){case">":o=Y,i=re,s=Q,a=">",c=">=";break;case"<":o=Q,i=te,s=Y,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],f=null,p=null;if(l.forEach(function(e){e.semver===ie&&(e=new oe(">=0.0.0")),f=f||e,p=p||e,o(e.semver,f.semver,n)?f=e:s(e.semver,p.semver,n)&&(p=e)}),f.operator===a||f.operator===c)return!1;if((!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?i[L]:i[W],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new K(r[2],this.options.loose):this.semver=ie},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new K(e,this.options)),ne(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),le(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),le(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?i[V]:i[B];e=e.replace(n,ce),r("hyphen replace",e),e=e.replace(i[F],"$1$2$3"),r("comparator trim",e,i[F]),e=(e=(e=e.replace(i[_],"$1~")).replace(i[k],"$1^")).split(/\s+/).join(" ");var o=t?i[L]:i[W],s=e.split(" ").map(function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){r("caret",e,t);var n=t.loose?i[G]:i[M];return e.replace(n,function(t,n,o,i,s){var a;return r("caret",e,t,n,o,i,s),ae(n)?a="":ae(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(r("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(r("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",a),a})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var n=t.loose?i[D]:i[R];return e.replace(n,function(t,n,o,i,s){var a;return r("tilde",e,t,n,o,i,s),ae(n)?a="":ae(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":ae(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(r("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",a),a})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var n=t.loose?i[C]:i[$];return e.replace(n,function(t,n,o,i,s,a){r("xRange",e,t,n,o,i,s,a);var c=ae(o),u=c||ae(i),l=u||ae(s);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),t=n+o+"."+i+"."+s):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(i[q],"")}(e,t),r("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(e){return!!e.match(o)})),s=s.map(function(e){return new oe(e,this.options)},this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return e.set.some(function(e){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new K(e,this.options));for(var t=0;t<this.set.length;t++)if(ue(this.set[t],e,this.options))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new se(t,r)}catch(e){return null}return e.forEach(function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new K(n=e,r)))}),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new se(t,r)}catch(e){return null}return e.forEach(function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new K(n=e,r)))}),n},t.minVersion=function(e,t){e=new se(e,t);var r=new K("0.0.0");if(e.test(r))return r;if(r=new K("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach(function(e){var t=new K(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!Y(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}})}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,t.prerelease=function(e,t){var r=H(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof K)return e;if("string"!=typeof e)return null;var t=e.match(i[O]);if(null==t)return null;return H(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){"use strict";const n="win32"===process.platform;function o(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function i(e,t){return n&&1===e&&!t.file?o(t.original,"spawn"):null}e.exports={hookChildProcess:function(e,t){if(!n)return;const r=e.emit;e.emit=function(n,o){if("exit"===n){const n=i(o,t);if(n)return r.call(e,"error",n)}return r.apply(e,arguments)}},verifyENOENT:i,verifyENOENTSync:function(e,t){return n&&1===e&&!t.file?o(t.original,"spawnSync"):null},notFoundError:o}},function(e,t,r){"use strict";e.exports=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}},function(e,t,r){"use strict";const n=r(1),o=r(25),i=e=>{let t;e={cwd:process.cwd(),path:process.env[o()],...e};let r=n.resolve(e.cwd);const i=[];for(;t!==r;)i.push(n.join(r,"node_modules/.bin")),t=r,r=n.resolve(r,"..");return i.push(n.dirname(process.execPath)),i.concat(e.path).join(n.delimiter)};e.exports=i,e.exports.default=i,e.exports.env=t=>{const r={...(t={env:process.env,...t}).env},n=o({env:r});return t.path=r[n],r[n]=e.exports(t),r}},function(e,t,r){"use strict";const n=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).find(e=>"PATH"===e.toUpperCase())||"Path"};e.exports=n,e.exports.default=n},function(e,t,r){"use strict";const n=r(27),o=new WeakMap,i=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,i=!1,s=0;const a=e.displayName||e.name||"<anonymous>",c=function(...n){if(o.set(c,++s),i){if(!0===t.throw)throw new Error(`Function \`${a}\` can only be called once`);return r}return i=!0,r=e.apply(this,n),e=null,r};return n(c,e),o.set(c,s),c};e.exports=i,e.exports.default=i,e.exports.callCount=e=>{if(!o.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return o.get(e)}},function(e,t,r){"use strict";const n=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};e.exports=n,e.exports.default=n},function(e,t,r){"use strict";const n=r(3),o=r(29);e.exports=({stdout:e,stderr:t,all:r,error:i,signal:s,code:a,command:c,timedOut:u,isCanceled:l,killed:f,parsed:{options:{timeout:p}}})=>{const[d,h]=((e,t)=>e&&e.code?[e.code,n.constants.errno[e.code]]:Number.isInteger(t)?[o.getSystemErrorName(-t),t]:[])(i,a),m=`Command ${(({timedOut:e,timeout:t,signal:r,exitCodeName:n,exitCode:o,isCanceled:i})=>e?`timed out after ${t} milliseconds`:i?"was canceled":r?`was killed with ${r}`:void 0!==o?`failed with exit code ${o} (${n})`:"failed")({timedOut:u,timeout:p,signal:s,exitCodeName:d,exitCode:h,isCanceled:l})}: ${c}`;return i instanceof Error?i.message=`${m}\n${i.message}`:i=new Error(m),i.command=c,delete i.code,i.exitCode=h,i.exitCodeName=d,i.stdout=e,i.stderr=t,void 0!==r&&(i.all=r),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(u),i.isCanceled=l,i.killed=f&&!u,i.signal=s||void 0,i}},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";const n=["stdin","stdout","stderr"],o=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return n.map(t=>e[t]);if((e=>n.some(t=>void 0!==e[t]))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${n.map(e=>`\`${e}\``).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,n.length);return Array.from({length:r},(e,r)=>t[r])};e.exports=o,e.exports.node=e=>{const t=o(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}},function(e,t,r){"use strict";const n=r(3),o=r(32),i=r(36),s=(e,t,r,n)=>{if(!a(t,r,n))return;const o=u(r);setTimeout(()=>{e("SIGKILL")},o).unref()},a=(e,{forceKillAfterTimeout:t},r)=>c(e)&&!1!==t&&r,c=e=>e===n.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),u=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};e.exports={spawnedKill:(e,t="SIGTERM",r={})=>{const n=e(t);return s(e,t,r,n),n},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(0===t||void 0===t)return n;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let o;const s=new Promise((n,i)=>{o=setTimeout(()=>{((e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,r,i)},t)}),a=i(n,()=>{clearTimeout(o)});return Promise.race([s,a])},setExitHandler:(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const s=o(()=>{e.kill()});return i(n,s)}}},function(e,t,r){var n,o=r(33),i=r(34),s=r(35);function a(){l&&(l=!1,i.forEach(function(e){try{process.removeListener(e,u[e])}catch(e){}}),process.emit=h,process.reallyExit=p,n.count-=1)}function c(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof s&&(s=s.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new s).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===l&&f();var r="exit";t&&t.alwaysLast&&(r="afterexit");return n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&a()}},e.exports.unload=a;var u={};i.forEach(function(e){u[e]=function(){process.listeners(e).length===n.count&&(a(),c("exit",null,e),c("afterexit",null,e),process.kill(process.pid,e))}}),e.exports.signals=function(){return i},e.exports.load=f;var l=!1;function f(){l||(l=!0,n.count+=1,i=i.filter(function(e){try{return process.on(e,u[e]),!0}catch(e){return!1}}),process.emit=m,process.reallyExit=d)}var p=process.reallyExit;function d(e){process.exitCode=e||0,c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var h=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=h.apply(this,arguments);return c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),r}return h.apply(this,arguments)}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";e.exports=async(e,t=(()=>{}))=>{let r;try{r=await e}catch(e){throw await t(),e}return await t(),r}},function(e,t,r){"use strict";const n=r(38),o=r(39),i=r(44),s=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},a=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(e)return r?t?o(e,{encoding:t,maxBuffer:n}):o.buffer(e,{maxBuffer:n}):new Promise((t,r)=>{e.once("end",t).once("error",r)})};e.exports={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(n(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:e=>{if(!e.stdout&&!e.stderr)return;const t=i();return e.stdout&&t.add(e.stdout),e.stderr&&t.add(e.stderr),t},getSpawnedResult:async({stdout:e,stderr:t,all:r},{encoding:n,buffer:o,maxBuffer:i},c)=>{const u=a(e,{encoding:n,buffer:o,maxBuffer:i}),l=a(t,{encoding:n,buffer:o,maxBuffer:i}),f=a(r,{encoding:n,buffer:o,maxBuffer:2*i});try{return await Promise.all([c,u,l,f])}catch(n){return Promise.all([{error:n,code:n.code,signal:n.signal,timedOut:n.timedOut},s(e,u),s(t,l),s(r,f)])}},validateInputSync:({input:e})=>{if(n(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}}},function(e,t,r){"use strict";const n=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;n.writable=e=>n(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,n.readable=e=>n(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,n.duplex=e=>n.writable(e)&&n.readable(e),n.transform=e=>n.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=n},function(e,t,r){"use strict";const n=r(40),o=r(43);class i extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function s(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:r}=t;let s;return await new Promise((a,c)=>{const u=e=>{e&&(e.bufferedData=s.getBufferedValue()),c(e)};(s=n(e,o(t),e=>{e?u(e):a()})).on("data",()=>{s.getBufferedLength()>r&&u(new i)})}),s.getBufferedValue()}e.exports=s,e.exports.default=s,e.exports.buffer=(e,t)=>s(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>s(e,{...t,array:!0}),e.exports.MaxBufferError=i},function(e,t,r){var n=r(4),o=r(42),i=r(0),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},u=function(e,t,r,u){u=n(u);var l=!1;e.on("close",function(){l=!0}),o(e,{readable:t,writable:r},function(e){if(e)return u(e);l=!0,u()});var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!a&&(!!i&&((e instanceof(i.ReadStream||s)||e instanceof(i.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},l=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map(function(o,i){var s=i<t.length-1;return u(o,s,i>0,function(t){e||(e=t),t&&n.forEach(l),s||(n.forEach(l),r(e))})});return t.reduce(f)}},function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){n[e]=t[e]});return n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach(function(e){n[e]=o[e]}),n}}},function(e,t,r){var n=r(4),o=function(){},i=function(e,t,r){if("function"==typeof t)return i(e,null,t);t||(t={}),r=n(r||o);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=function(){e.writable||f()},f=function(){u=!1,c||r.call(e)},p=function(){c=!1,u||r.call(e)},d=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},h=function(t){r.call(e,t)},m=function(){return(!c||a&&a.ended)&&(!u||s&&s.ended)?void 0:r.call(e,new Error("premature close"))},v=function(){e.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!s&&(e.on("end",l),e.on("close",l)):(e.on("complete",f),e.on("abort",m),e.req?v():e.on("request",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",d),e.on("end",p),e.on("finish",f),!1!==t.error&&e.on("error",h),e.on("close",m),function(){e.removeListener("complete",f),e.removeListener("abort",m),e.removeListener("request",v),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("exit",d),e.removeListener("end",p),e.removeListener("error",h),e.removeListener("close",m)}};e.exports=i},function(e,t,r){"use strict";const{PassThrough:n}=r(5);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const o="buffer"===r;let i=!1;t?i=!(r||o):r=r||"utf8",o&&(r=null);const s=new n({objectMode:i});r&&s.setEncoding(r);let a=0;const c=[];return s.on("data",e=>{c.push(e),i?a=c.length:a+=e.length}),s.getBufferedValue=()=>t?c:o?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},function(e,t,r){"use strict";const{PassThrough:n}=r(5);e.exports=function(){var e=[],t=new n({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=o,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(n){return Array.isArray(n)?(n.forEach(r),this):(e.push(n),n.once("end",i.bind(null,n)),n.once("error",t.emit.bind(t,"error")),n.pipe(t,{end:!1}),this)}function o(){return 0==e.length}function i(r){!(e=e.filter(function(e){return e!==r})).length&&t.readable&&t.end()}}},function(e,t,r){"use strict";const n=(e,t,r)=>{const n="function"==typeof t?(...e)=>t()[r](...e):t[r].bind(t);Object.defineProperty(e,r,{value:n,writable:!0,enumerable:!1,configurable:!0})};e.exports={mergePromise:(e,t)=>(n(e,t,"then"),n(e,t,"catch"),Promise.prototype.finally&&n(e,t,"finally"),e),getSpawnedPromise:e=>new Promise((t,r)=>{e.on("exit",(e,r)=>{t({code:e,signal:r})}),e.on("error",e=>{r(e)}),e.stdin&&e.stdin.on("error",e=>{r(e)})})}},function(e,t,r){"use strict";const n=/ +/g,o=(e,t,r)=>{if(0===r)return[t];const n=e[e.length-1];return n.endsWith("\\")?[...e.slice(0,-1),`${n.slice(0,-1)} ${t}`]:[...e,t]};e.exports={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>e.trim().split(n).reduce(o,[])}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciByPXQoKTtmb3IodmFyIG4gaW4gcikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtuXT1yW25dfX0oZ2xvYmFsLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIHIobil7aWYodFtuXSlyZXR1cm4gdFtuXS5leHBvcnRzO3ZhciBvPXRbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW25dLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLHIpLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIHIubT1lLHIuYz10LHIuZD1mdW5jdGlvbihlLHQsbil7ci5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2VudW1lcmFibGU6ITAsZ2V0Om59KX0sci5yPWZ1bmN0aW9uKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LHIudD1mdW5jdGlvbihlLHQpe2lmKDEmdCYmKGU9cihlKSksOCZ0KXJldHVybiBlO2lmKDQmdCYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTplfSksMiZ0JiZcInN0cmluZ1wiIT10eXBlb2YgZSlmb3IodmFyIG8gaW4gZSlyLmQobixvLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfS5iaW5kKG51bGwsbykpO3JldHVybiBufSxyLm49ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIHIuZCh0LFwiYVwiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPVwiXCIscihyLnM9Nil9KFtmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwiZnNcIil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXJlcXVpcmUoXCJwYXRoXCIpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcIm9zXCIpfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig0MSk7ZnVuY3Rpb24gbyhlKXt2YXIgdD1mdW5jdGlvbigpe3JldHVybiB0LmNhbGxlZD90LnZhbHVlOih0LmNhbGxlZD0hMCx0LnZhbHVlPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX07cmV0dXJuIHQuY2FsbGVkPSExLHR9ZnVuY3Rpb24gaShlKXt2YXIgdD1mdW5jdGlvbigpe2lmKHQuY2FsbGVkKXRocm93IG5ldyBFcnJvcih0Lm9uY2VFcnJvcik7cmV0dXJuIHQuY2FsbGVkPSEwLHQudmFsdWU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHI9ZS5uYW1lfHxcIkZ1bmN0aW9uIHdyYXBwZWQgd2l0aCBgb25jZWBcIjtyZXR1cm4gdC5vbmNlRXJyb3I9citcIiBzaG91bGRuJ3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXCIsdC5jYWxsZWQ9ITEsdH1lLmV4cG9ydHM9bihvKSxlLmV4cG9ydHMuc3RyaWN0PW4oaSksby5wcm90bz1vKGZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VTdHJpY3RcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSl9KX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcInN0cmVhbVwiKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3KHJ8fChyPVByb21pc2UpKShmdW5jdGlvbihvLGkpe2Z1bmN0aW9uIHMoZSl7dHJ5e2Mobi5uZXh0KGUpKX1jYXRjaChlKXtpKGUpfX1mdW5jdGlvbiBhKGUpe3RyeXtjKG4udGhyb3coZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ7ZS5kb25lP28oZS52YWx1ZSk6KHQ9ZS52YWx1ZSx0IGluc3RhbmNlb2Ygcj90Om5ldyByKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihzLGEpfWMoKG49bi5hcHBseShlLHR8fFtdKSkubmV4dCgpKX0pfSxvPXRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2NvbnN0IGk9cigwKSxzPW8ocig3KSk7dC5SdW5uZXI9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5jb250ZXh0PWV9bG9nKGUpe3JldHVybiB0aGlzLmNvbnRleHQubG9nZ2VyLmxvZyhlKX13YXJuKGUpe3JldHVybiB0aGlzLmNvbnRleHQubG9nZ2VyLndhcm4oZSl9dXBkYXRlR1BPKCl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe3RoaXMubG9nKFwiVXBkYXRpbmcgR1BPIHZlcnNpb24uLi5cIik7dHJ5e3lpZWxkIHMuZGVmYXVsdChcIndtaWNcIixbXCJVc2VyQWNjb3VudFwiLFwic2V0XCIsXCJQYXNzd29yZEV4cGlyZXM9RmFsc2VcIl0pfWNhdGNoKGUpe3RoaXMubG9nKGBFcnJvciB3aGlsZSB1cGRhdGluZyBHUE8gdmVyc2lvbjogJHtlfWApfXRoaXMubG9nKGBNb2RpZnlpbmcgJHtwcm9jZXNzLmVudi5XSU5ESVJ9XFxcXHZlcnNpb25fZ3BvLnR4dGApO3RyeXt5aWVsZCBpLnByb21pc2VzLndyaXRlRmlsZShgJHtwcm9jZXNzLmVudi5XSU5ESVJ9XFxcXHZlcnNpb25fZ3BvLnR4dGAsXCIxLjVcIixcInV0ZjhcIil9Y2F0Y2goZSl7dGhpcy5sb2coYEVycm9yIHdoaWxlIG1vZGlmeWluZyAke3Byb2Nlc3MuZW52LldJTkRJUn1cXFxcdmVyc2lvbl9ncG8udHh0OiAke2V9YCl9fSl9Y2hlY2soZSl7cmV0dXJuIG4odGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKigpe2lmKHRoaXMubG9nKFwiQ2hlY2tpbmcgdGhhdCB0aGUgdW5pdCBuZWVkcyB0byBiZSBwZXJmb3JtZWRcIiksXCJ3aW4zMlwiPT09dGhpcy5jb250ZXh0LnBsYXRmb3JtKXtsZXQgZT0wO2lmKGkuZXhpc3RzU3luYyhgJHtwcm9jZXNzLmVudi5XSU5ESVJ9XFxcXHZlcnNpb25fZ3BvLnR4dGApKXt0aGlzLmxvZyhcIkdldHRpbmcgR1BPIHZlcnNpb24uLi5cIik7dHJ5e2NvbnN0IHQ9eWllbGQgaS5wcm9taXNlcy5yZWFkRmlsZShgJHtwcm9jZXNzLmVudi5XSU5ESVJ9XFxcXHZlcnNpb25fZ3BvLnR4dGAsXCJ1dGY4XCIpO2U9cGFyc2VGbG9hdCh0KX1jYXRjaChlKXt0aGlzLmxvZyhgRXJyb3Igd2hpbGUgZ2V0dGluZyBHUE8gdmVyc2lvbiBmcm9tICR7cHJvY2Vzcy5lbnYuV0lORElSfVxcXFx2ZXJzaW9uX2dwby50eHQ6ICR7ZX1gKX10aGlzLmxvZyhgQ3VycmVudCBHUE8gdmVyc2lvbjogJHtlLnRvU3RyaW5nKCkudHJpbSgpfWApfWlmKGU8MS41KXJldHVybiEwfWVsc2UgdGhpcy5sb2coXCJOb3QgcnVubmluZyBvbiBXaW5kb3dzICFcIil9KX1wZXJmb3JtKGUpe3JldHVybiBuKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbiooKXtsZXQgZT0hMTt0cnl7dGhpcy5sb2coXCJQZXJmb3JtaW5nIHVuaXQgb3BlcmF0aW9uLi4uXCIpLHlpZWxkIHMuZGVmYXVsdChgJHtwcm9jZXNzLmVudi5XSU5ESVJ9XFxcXHN5c3RlbTMyXFxcXHJlZy5leGVgLFtcIkFERFwiLFwiSEtMTVxcXFxTT0ZUV0FSRVxcXFxNaWNyb3NvZnRcXFxcV2luZG93c1xcXFxDdXJyZW50VmVyc2lvblxcXFxQb2xpY2llc1xcXFxTeXN0ZW1cIixcIi92XCIsXCJFbmFibGVVQVwiLFwiL3RcIixcIlJFR19EV09SRFwiLFwiL2RcIixcIjBcIixcIi9mXCJdKSx0aGlzLmxvZyhcIkZpbmlzaGluZyB1YWNFbmFibGVcIikseWllbGQgcy5kZWZhdWx0KGAke3Byb2Nlc3MuZW52LldJTkRJUn1cXFxcc3lzdGVtMzJcXFxccmVnLmV4ZWAsW1wiQUREXCIsXCJIS0xNXFxcXFNPRlRXQVJFXFxcXE1pY3Jvc29mdFxcXFxXaW5kb3dzXFxcXEN1cnJlbnRWZXJzaW9uXFxcXFBvbGljaWVzXFxcXFN5c3RlbVwiLFwiL3ZcIixcIkZpbHRlckFkbWluaXN0cmF0b3JUb2tlblwiLFwiL3RcIixcIlJFR19EV09SRFwiLFwiL2RcIixcIjBcIixcIi9mXCJdKSx0aGlzLmxvZyhcIkZpbmlzaGluZyB1YWNFbmFibGVcIikseWllbGQgcy5kZWZhdWx0KGAke3Byb2Nlc3MuZW52LldJTkRJUn1cXFxcc3lzdGVtMzJcXFxccmVnLmV4ZWAsW1wiQUREXCIsXCJIS0xNXFxcXFNPRlRXQVJFXFxcXE1pY3Jvc29mdFxcXFxXaW5kb3dzXFxcXEN1cnJlbnRWZXJzaW9uXFxcXFBvbGljaWVzXFxcXFN5c3RlbVwiLFwiL3ZcIixcIkVuYWJsZUluc3RhbGxlckRldGVjdGlvblwiLFwiL3RcIixcIlJFR19EV09SRFwiLFwiL2RcIixcIjBcIixcIi9mXCJdKSx0aGlzLmxvZyhcIkZpbmlzaGluZyBlbmFibGVJbnN0YWxsZXJEZXRlY3Rpb25cIikseWllbGQgdGhpcy51cGRhdGVHUE8oKSx5aWVsZCBzLmRlZmF1bHQoYCR7cHJvY2Vzcy5lbnYuV0lORElSfVxcXFxzeXN0ZW0zMlxcXFxyZWcuZXhlYCxbXCJBRERcIixcIkhLTE1cXFxcU09GVFdBUkVcXFxcTWljcm9zb2Z0XFxcXFdpbmRvd3NcXFxcQ3VycmVudFZlcnNpb25cXFxcUG9saWNpZXNcXFxcU3lzdGVtXCIsXCIvdlwiLFwiRW5hYmxlVUFcIixcIi90XCIsXCJSRUdfRFdPUkRcIixcIi9kXCIsXCIxXCIsXCIvZlwiXSksdGhpcy5sb2coXCJGaW5pc2hpbmcgdWFjRGlzYWJsZVwiKSx5aWVsZCBzLmRlZmF1bHQoYCR7cHJvY2Vzcy5lbnYuV0lORElSfVxcXFxzeXN0ZW0zMlxcXFxyZWcuZXhlYCxbXCJBRERcIixcIkhLTE1cXFxcU09GVFdBUkVcXFxcTWljcm9zb2Z0XFxcXFdpbmRvd3NcXFxcQ3VycmVudFZlcnNpb25cXFxcUG9saWNpZXNcXFxcU3lzdGVtXCIsXCIvdlwiLFwiRmlsdGVyQWRtaW5pc3RyYXRvclRva2VuXCIsXCIvdFwiLFwiUkVHX0RXT1JEXCIsXCIvZFwiLFwiMVwiLFwiL2ZcIl0pLHRoaXMubG9nKFwiRmluaXNoaW5nIEFkbWluVWFjRGlzYWJsZVwiKSx5aWVsZCBzLmRlZmF1bHQoYCR7cHJvY2Vzcy5lbnYuV0lORElSfVxcXFxzeXN0ZW0zMlxcXFxyZWcuZXhlYCxbXCJBRERcIixcIkhLTE1cXFxcU09GVFdBUkVcXFxcTWljcm9zb2Z0XFxcXFdpbmRvd3NcXFxcQ3VycmVudFZlcnNpb25cXFxcUG9saWNpZXNcXFxcU3lzdGVtXCIsXCIvdlwiLFwiRW5hYmxlSW5zdGFsbGVyRGV0ZWN0aW9uXCIsXCIvdFwiLFwiUkVHX0RXT1JEXCIsXCIvZFwiLFwiMVwiLFwiL2ZcIl0pLHRoaXMubG9nKFwiRmluaXNoaW5nIGRpc2FibGVJbnN0YWxsZXJEZXRlY3Rpb25cIiksdGhpcy5sb2coXCJGaW5pc2hpbmcgQWRtaW5VYWNEaXNhYmxlXCIpLGU9ITB9Y2F0Y2goZSl7dGhpcy53YXJuKGBFcnJvciB3aGlsZSBwZXJmb3JtaW5nIGNoYW5nZTogJHtlfWApfXJldHVybiBlfSl9Y2FsbGJhY2soZSx0LHIpe3RoaXMubG9nKGBSZXN1bHQgZm9yICR7ZX0gZm9yICR7dH06ICR7cnx8XCJva1wifWApfX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPXIoMSksbz1yKDIpLGk9cig4KSxzPXIoMjMpLGE9cigyNCksYz1yKDI2KSx1PXIoMjgpLGw9cigzMCkse3NwYXduZWRLaWxsOmYsc3Bhd25lZENhbmNlbDpwLHNldHVwVGltZW91dDpkLHNldEV4aXRIYW5kbGVyOmh9PXIoMzEpLHtoYW5kbGVJbnB1dDptLGdldFNwYXduZWRSZXN1bHQ6dixtYWtlQWxsU3RyZWFtOmcsdmFsaWRhdGVJbnB1dFN5bmM6eX09cigzNykse21lcmdlUHJvbWlzZTp3LGdldFNwYXduZWRQcm9taXNlOnh9PXIoNDUpLHtqb2luQ29tbWFuZDpFLHBhcnNlQ29tbWFuZDpifT1yKDQ2KSxTPShlLHQscj17fSk9Pntjb25zdCBvPWkuX3BhcnNlKGUsdCxyKTtyZXR1cm4gZT1vLmNvbW1hbmQsdD1vLmFyZ3MsKHI9e21heEJ1ZmZlcjoxZTgsYnVmZmVyOiEwLHN0cmlwRmluYWxOZXdsaW5lOiEwLGV4dGVuZEVudjohMCxwcmVmZXJMb2NhbDohMSxsb2NhbERpcjoocj1vLm9wdGlvbnMpLmN3ZHx8cHJvY2Vzcy5jd2QoKSxlbmNvZGluZzpcInV0ZjhcIixyZWplY3Q6ITAsY2xlYW51cDohMCwuLi5yLHdpbmRvd3NIaWRlOiEwfSkuZW52PSgoe2VudjplLGV4dGVuZEVudjp0LHByZWZlckxvY2FsOnIsbG9jYWxEaXI6bn0pPT57Y29uc3Qgbz10P3suLi5wcm9jZXNzLmVudiwuLi5lfTplO3JldHVybiByP2EuZW52KHtlbnY6byxjd2Q6bn0pOm99KShyKSxyLnN0ZGlvPWwociksXCJ3aW4zMlwiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmXCJjbWRcIj09PW4uYmFzZW5hbWUoZSxcIi5leGVcIikmJnQudW5zaGlmdChcIi9xXCIpLHtmaWxlOmUsYXJnczp0LG9wdGlvbnM6cixwYXJzZWQ6b319LEk9KGUsdCxyKT0+XCJzdHJpbmdcIj09dHlwZW9mIHR8fEJ1ZmZlci5pc0J1ZmZlcih0KT9lLnN0cmlwRmluYWxOZXdsaW5lP3ModCk6dDp2b2lkIDA9PT1yP3ZvaWQgMDpcIlwiLGo9KGUsdCxyKT0+e2NvbnN0IG49UyhlLHQscikscz1FKGUsdCk7bGV0IGE7dHJ5e2E9by5zcGF3bihuLmZpbGUsbi5hcmdzLG4ub3B0aW9ucyl9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgby5DaGlsZFByb2Nlc3Mscj1Qcm9taXNlLnJlamVjdCh1KHtlcnJvcjplLHN0ZG91dDpcIlwiLHN0ZGVycjpcIlwiLGFsbDpcIlwiLGNvbW1hbmQ6cyxwYXJzZWQ6bix0aW1lZE91dDohMSxpc0NhbmNlbGVkOiExLGtpbGxlZDohMX0pKTtyZXR1cm4gdyh0LHIpfWNvbnN0IGw9eChhKSx5PWQoYSxuLm9wdGlvbnMsbCksYj1oKGEsbi5vcHRpb25zLHkpLGo9e2lzQ2FuY2VsZWQ6ITF9O2Eua2lsbD1mLmJpbmQobnVsbCxhLmtpbGwuYmluZChhKSksYS5jYW5jZWw9cC5iaW5kKG51bGwsYSxqKTtjb25zdCBQPWMoYXN5bmMoKT0+e2NvbnN0W3tlcnJvcjplLGNvZGU6dCxzaWduYWw6cix0aW1lZE91dDpvfSxpLGMsbF09YXdhaXQgdihhLG4ub3B0aW9ucyxiKSxmPUkobi5vcHRpb25zLGkpLHA9SShuLm9wdGlvbnMsYyksZD1JKG4ub3B0aW9ucyxsKTtpZihlfHwwIT09dHx8bnVsbCE9PXIpe2NvbnN0IGk9dSh7ZXJyb3I6ZSxjb2RlOnQsc2lnbmFsOnIsc3Rkb3V0OmYsc3RkZXJyOnAsYWxsOmQsY29tbWFuZDpzLHBhcnNlZDpuLHRpbWVkT3V0Om8saXNDYW5jZWxlZDpqLmlzQ2FuY2VsZWQsa2lsbGVkOmEua2lsbGVkfSk7aWYoIW4ub3B0aW9ucy5yZWplY3QpcmV0dXJuIGk7dGhyb3cgaX1yZXR1cm57Y29tbWFuZDpzLGV4aXRDb2RlOjAsZXhpdENvZGVOYW1lOlwiU1VDQ0VTU1wiLHN0ZG91dDpmLHN0ZGVycjpwLGFsbDpkLGZhaWxlZDohMSx0aW1lZE91dDohMSxpc0NhbmNlbGVkOiExLGtpbGxlZDohMX19KTtyZXR1cm4gaS5fZW5vZW50Lmhvb2tDaGlsZFByb2Nlc3MoYSxuLnBhcnNlZCksbShhLG4ub3B0aW9ucy5pbnB1dCksYS5hbGw9ZyhhKSx3KGEsUCl9O2UuZXhwb3J0cz1qLGUuZXhwb3J0cy5zeW5jPShlLHQscik9Pntjb25zdCBuPVMoZSx0LHIpLGk9RShlLHQpO2xldCBzO3kobi5vcHRpb25zKTt0cnl7cz1vLnNwYXduU3luYyhuLmZpbGUsbi5hcmdzLG4ub3B0aW9ucyl9Y2F0Y2goZSl7dGhyb3cgdSh7ZXJyb3I6ZSxzdGRvdXQ6XCJcIixzdGRlcnI6XCJcIixhbGw6XCJcIixjb21tYW5kOmkscGFyc2VkOm4sdGltZWRPdXQ6ITEsaXNDYW5jZWxlZDohMSxraWxsZWQ6ITF9KX1pZihzLnN0ZG91dD1JKG4ub3B0aW9ucyxzLnN0ZG91dCxzLmVycm9yKSxzLnN0ZGVycj1JKG4ub3B0aW9ucyxzLnN0ZGVycixzLmVycm9yKSxzLmVycm9yfHwwIT09cy5zdGF0dXN8fG51bGwhPT1zLnNpZ25hbCl7Y29uc3QgZT11KHsuLi5zLGNvZGU6cy5zdGF0dXMsY29tbWFuZDppLHBhcnNlZDpuLHRpbWVkT3V0OnMuZXJyb3ImJlwiRVRJTUVET1VUXCI9PT1zLmVycm9yLmVycm5vLGlzQ2FuY2VsZWQ6ITEsa2lsbGVkOm51bGwhPT1zLnNpZ25hbH0pO2lmKCFuLm9wdGlvbnMucmVqZWN0KXJldHVybiBlO3Rocm93IGV9cmV0dXJue2NvbW1hbmQ6aSxleGl0Q29kZTowLGV4aXRDb2RlTmFtZTpcIlNVQ0NFU1NcIixzdGRvdXQ6cy5zdGRvdXQsc3RkZXJyOnMuc3RkZXJyLGZhaWxlZDohMSx0aW1lZE91dDohMSxpc0NhbmNlbGVkOiExLGtpbGxlZDohMX19LGUuZXhwb3J0cy5jb21tYW5kPShlLHQpPT57Y29uc3RbciwuLi5uXT1iKGUpO3JldHVybiBqKHIsbix0KX0sZS5leHBvcnRzLmNvbW1hbmRTeW5jPShlLHQpPT57Y29uc3RbciwuLi5uXT1iKGUpO3JldHVybiBqLnN5bmMocixuLHQpfSxlLmV4cG9ydHMubm9kZT0oZSx0LHI9e30pPT57dCYmIUFycmF5LmlzQXJyYXkodCkmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYocj10LHQ9W10pO2NvbnN0IG49bC5ub2RlKHIpLHtub2RlUGF0aDpvPXByb2Nlc3MuZXhlY1BhdGgsbm9kZU9wdGlvbnM6aT1wcm9jZXNzLmV4ZWNBcmd2fT1yO3JldHVybiBqKG8sWy4uLmksZSwuLi5BcnJheS5pc0FycmF5KHQpP3Q6W11dLHsuLi5yLHN0ZGluOnZvaWQgMCxzdGRvdXQ6dm9pZCAwLHN0ZGVycjp2b2lkIDAsc3RkaW86bixzaGVsbDohMX0pfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49cigyKSxvPXIoOSksaT1yKDIyKTtmdW5jdGlvbiBzKGUsdCxyKXtjb25zdCBzPW8oZSx0LHIpLGE9bi5zcGF3bihzLmNvbW1hbmQscy5hcmdzLHMub3B0aW9ucyk7cmV0dXJuIGkuaG9va0NoaWxkUHJvY2VzcyhhLHMpLGF9ZS5leHBvcnRzPXMsZS5leHBvcnRzLnNwYXduPXMsZS5leHBvcnRzLnN5bmM9ZnVuY3Rpb24oZSx0LHIpe2NvbnN0IHM9byhlLHQsciksYT1uLnNwYXduU3luYyhzLmNvbW1hbmQscy5hcmdzLHMub3B0aW9ucyk7cmV0dXJuIGEuZXJyb3I9YS5lcnJvcnx8aS52ZXJpZnlFTk9FTlRTeW5jKGEuc3RhdHVzLHMpLGF9LGUuZXhwb3J0cy5fcGFyc2U9byxlLmV4cG9ydHMuX2Vub2VudD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj1yKDEpLG89cigxMCksaT1yKDExKSxzPXIoMTcpLGE9cigxOCksYz1yKDIxKSx1PVwid2luMzJcIj09PXByb2Nlc3MucGxhdGZvcm0sbD0vXFwuKD86Y29tfGV4ZSkkL2ksZj0vbm9kZV9tb2R1bGVzW1xcXFxcXC9dLmJpbltcXFxcXFwvXVteXFxcXFxcL10rXFwuY21kJC9pLHA9bygoKT0+Yy5zYXRpc2ZpZXMocHJvY2Vzcy52ZXJzaW9uLFwiXjQuOC4wIHx8IF41LjcuMCB8fCA+PSA2LjAuMFwiLCEwKSl8fCExO2Z1bmN0aW9uIGQoZSl7aWYoIXUpcmV0dXJuIGU7Y29uc3QgdD1mdW5jdGlvbihlKXtlLmZpbGU9aShlKTtjb25zdCB0PWUuZmlsZSYmYShlLmZpbGUpO3JldHVybiB0PyhlLmFyZ3MudW5zaGlmdChlLmZpbGUpLGUuY29tbWFuZD10LGkoZSkpOmUuZmlsZX0oZSkscj0hbC50ZXN0KHQpO2lmKGUub3B0aW9ucy5mb3JjZVNoZWxsfHxyKXtjb25zdCByPWYudGVzdCh0KTtlLmNvbW1hbmQ9bi5ub3JtYWxpemUoZS5jb21tYW5kKSxlLmNvbW1hbmQ9cy5jb21tYW5kKGUuY29tbWFuZCksZS5hcmdzPWUuYXJncy5tYXAoZT0+cy5hcmd1bWVudChlLHIpKTtjb25zdCBvPVtlLmNvbW1hbmRdLmNvbmNhdChlLmFyZ3MpLmpvaW4oXCIgXCIpO2UuYXJncz1bXCIvZFwiLFwiL3NcIixcIi9jXCIsYFwiJHtvfVwiYF0sZS5jb21tYW5kPXByb2Nlc3MuZW52LmNvbXNwZWN8fFwiY21kLmV4ZVwiLGUub3B0aW9ucy53aW5kb3dzVmVyYmF0aW1Bcmd1bWVudHM9ITB9cmV0dXJuIGV9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt0JiYhQXJyYXkuaXNBcnJheSh0KSYmKHI9dCx0PW51bGwpO2NvbnN0IG49e2NvbW1hbmQ6ZSxhcmdzOnQ9dD90LnNsaWNlKDApOltdLG9wdGlvbnM6cj1PYmplY3QuYXNzaWduKHt9LHIpLGZpbGU6dm9pZCAwLG9yaWdpbmFsOntjb21tYW5kOmUsYXJnczp0fX07cmV0dXJuIHIuc2hlbGw/ZnVuY3Rpb24oZSl7aWYocClyZXR1cm4gZTtjb25zdCB0PVtlLmNvbW1hbmRdLmNvbmNhdChlLmFyZ3MpLmpvaW4oXCIgXCIpO3JldHVybiB1PyhlLmNvbW1hbmQ9XCJzdHJpbmdcIj09dHlwZW9mIGUub3B0aW9ucy5zaGVsbD9lLm9wdGlvbnMuc2hlbGw6cHJvY2Vzcy5lbnYuY29tc3BlY3x8XCJjbWQuZXhlXCIsZS5hcmdzPVtcIi9kXCIsXCIvc1wiLFwiL2NcIixgXCIke3R9XCJgXSxlLm9wdGlvbnMud2luZG93c1ZlcmJhdGltQXJndW1lbnRzPSEwKTooXCJzdHJpbmdcIj09dHlwZW9mIGUub3B0aW9ucy5zaGVsbD9lLmNvbW1hbmQ9ZS5vcHRpb25zLnNoZWxsOlwiYW5kcm9pZFwiPT09cHJvY2Vzcy5wbGF0Zm9ybT9lLmNvbW1hbmQ9XCIvc3lzdGVtL2Jpbi9zaFwiOmUuY29tbWFuZD1cIi9iaW4vc2hcIixlLmFyZ3M9W1wiLWNcIix0XSksZX0obik6ZChuKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlKCl9Y2F0Y2goZSl7fX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPXIoMSksbz1yKDEyKSxpPXIoMTYpKCk7ZnVuY3Rpb24gcyhlLHQpe2NvbnN0IHI9cHJvY2Vzcy5jd2QoKSxzPW51bGwhPWUub3B0aW9ucy5jd2Q7aWYocyl0cnl7cHJvY2Vzcy5jaGRpcihlLm9wdGlvbnMuY3dkKX1jYXRjaChlKXt9bGV0IGE7dHJ5e2E9by5zeW5jKGUuY29tbWFuZCx7cGF0aDooZS5vcHRpb25zLmVudnx8cHJvY2Vzcy5lbnYpW2ldLHBhdGhFeHQ6dD9uLmRlbGltaXRlcjp2b2lkIDB9KX1jYXRjaChlKXt9ZmluYWxseXtwcm9jZXNzLmNoZGlyKHIpfXJldHVybiBhJiYoYT1uLnJlc29sdmUocz9lLm9wdGlvbnMuY3dkOlwiXCIsYSkpLGF9ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBzKGUpfHxzKGUsITApfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz11LHUuc3luYz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1jKGUsdD10fHx7fSksbj1yLmVudixpPXIuZXh0LHU9ci5leHRFeGUsbD1bXSxmPTAscD1uLmxlbmd0aDtmPHA7ZisrKXt2YXIgZD1uW2ZdOydcIic9PT1kLmNoYXJBdCgwKSYmJ1wiJz09PWQuc2xpY2UoLTEpJiYoZD1kLnNsaWNlKDEsLTEpKTt2YXIgaD1vLmpvaW4oZCxlKTshZCYmL15cXC5bXFxcXFxcL10vLnRlc3QoZSkmJihoPWUuc2xpY2UoMCwyKStoKTtmb3IodmFyIG09MCx2PWkubGVuZ3RoO208djttKyspe3ZhciBnPWgraVttXTt0cnl7aWYocy5zeW5jKGcse3BhdGhFeHQ6dX0pKXtpZighdC5hbGwpcmV0dXJuIGc7bC5wdXNoKGcpfX1jYXRjaChlKXt9fX1pZih0LmFsbCYmbC5sZW5ndGgpcmV0dXJuIGw7aWYodC5ub3Rocm93KXJldHVybiBudWxsO3Rocm93IGEoZSl9O3ZhciBuPVwid2luMzJcIj09PXByb2Nlc3MucGxhdGZvcm18fFwiY3lnd2luXCI9PT1wcm9jZXNzLmVudi5PU1RZUEV8fFwibXN5c1wiPT09cHJvY2Vzcy5lbnYuT1NUWVBFLG89cigxKSxpPW4/XCI7XCI6XCI6XCIscz1yKDEzKTtmdW5jdGlvbiBhKGUpe3ZhciB0PW5ldyBFcnJvcihcIm5vdCBmb3VuZDogXCIrZSk7cmV0dXJuIHQuY29kZT1cIkVOT0VOVFwiLHR9ZnVuY3Rpb24gYyhlLHQpe3ZhciByPXQuY29sb258fGksbz10LnBhdGh8fHByb2Nlc3MuZW52LlBBVEh8fFwiXCIscz1bXCJcIl07bz1vLnNwbGl0KHIpO3ZhciBhPVwiXCI7cmV0dXJuIG4mJihvLnVuc2hpZnQocHJvY2Vzcy5jd2QoKSkscz0oYT10LnBhdGhFeHR8fHByb2Nlc3MuZW52LlBBVEhFWFR8fFwiLkVYRTsuQ01EOy5CQVQ7LkNPTVwiKS5zcGxpdChyKSwtMSE9PWUuaW5kZXhPZihcIi5cIikmJlwiXCIhPT1zWzBdJiZzLnVuc2hpZnQoXCJcIikpLChlLm1hdGNoKC9cXC8vKXx8biYmZS5tYXRjaCgvXFxcXC8pKSYmKG89W1wiXCJdKSx7ZW52Om8sZXh0OnMsZXh0RXhlOmF9fWZ1bmN0aW9uIHUoZSx0LHIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSk7dmFyIG49YyhlLHQpLGk9bi5lbnYsdT1uLmV4dCxsPW4uZXh0RXhlLGY9W107IWZ1bmN0aW9uIG4oYyxwKXtpZihjPT09cClyZXR1cm4gdC5hbGwmJmYubGVuZ3RoP3IobnVsbCxmKTpyKGEoZSkpO3ZhciBkPWlbY107J1wiJz09PWQuY2hhckF0KDApJiYnXCInPT09ZC5zbGljZSgtMSkmJihkPWQuc2xpY2UoMSwtMSkpO3ZhciBoPW8uam9pbihkLGUpOyFkJiYvXlxcLltcXFxcXFwvXS8udGVzdChlKSYmKGg9ZS5zbGljZSgwLDIpK2gpLGZ1bmN0aW9uIGUobyxpKXtpZihvPT09aSlyZXR1cm4gbihjKzEscCk7dmFyIGE9dVtvXTtzKGgrYSx7cGF0aEV4dDpsfSxmdW5jdGlvbihuLHMpe2lmKCFuJiZzKXtpZighdC5hbGwpcmV0dXJuIHIobnVsbCxoK2EpO2YucHVzaChoK2EpfXJldHVybiBlKG8rMSxpKX0pfSgwLHUubGVuZ3RoKX0oMCxpLmxlbmd0aCl9fSxmdW5jdGlvbihlLHQscil7dmFyIG47cigwKTtmdW5jdGlvbiBvKGUsdCxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYocj10LHQ9e30pLCFyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBQcm9taXNlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBub3QgcHJvdmlkZWRcIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7byhlLHR8fHt9LGZ1bmN0aW9uKGUsdCl7ZT9uKGUpOnIodCl9KX0pfW4oZSx0fHx7fSxmdW5jdGlvbihlLG4pe2UmJihcIkVBQ0NFU1wiPT09ZS5jb2RlfHx0JiZ0Lmlnbm9yZUVycm9ycykmJihlPW51bGwsbj0hMSkscihlLG4pfSl9bj1cIndpbjMyXCI9PT1wcm9jZXNzLnBsYXRmb3JtfHxnbG9iYWwuVEVTVElOR19XSU5ET1dTP3IoMTQpOnIoMTUpLGUuZXhwb3J0cz1vLG8uc3luYz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gbi5zeW5jKGUsdHx8e30pfWNhdGNoKGUpe2lmKHQmJnQuaWdub3JlRXJyb3JzfHxcIkVBQ0NFU1wiPT09ZS5jb2RlKXJldHVybiExO3Rocm93IGV9fX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1pLGkuc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBvKG4uc3RhdFN5bmMoZSksZSx0KX07dmFyIG49cigwKTtmdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4hKCFlLmlzU3ltYm9saWNMaW5rKCkmJiFlLmlzRmlsZSgpKSYmZnVuY3Rpb24oZSx0KXt2YXIgcj12b2lkIDAhPT10LnBhdGhFeHQ/dC5wYXRoRXh0OnByb2Nlc3MuZW52LlBBVEhFWFQ7aWYoIXIpcmV0dXJuITA7aWYoLTEhPT0ocj1yLnNwbGl0KFwiO1wiKSkuaW5kZXhPZihcIlwiKSlyZXR1cm4hMDtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIG89cltuXS50b0xvd2VyQ2FzZSgpO2lmKG8mJmUuc3Vic3RyKC1vLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PW8pcmV0dXJuITB9cmV0dXJuITF9KHQscil9ZnVuY3Rpb24gaShlLHQscil7bi5zdGF0KGUsZnVuY3Rpb24obixpKXtyKG4sIW4mJm8oaSxlLHQpKX0pfX0sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1vLG8uc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBpKG4uc3RhdFN5bmMoZSksdCl9O3ZhciBuPXIoMCk7ZnVuY3Rpb24gbyhlLHQscil7bi5zdGF0KGUsZnVuY3Rpb24oZSxuKXtyKGUsIWUmJmkobix0KSl9KX1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIGUuaXNGaWxlKCkmJmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tb2RlLG49ZS51aWQsbz1lLmdpZCxpPXZvaWQgMCE9PXQudWlkP3QudWlkOnByb2Nlc3MuZ2V0dWlkJiZwcm9jZXNzLmdldHVpZCgpLHM9dm9pZCAwIT09dC5naWQ/dC5naWQ6cHJvY2Vzcy5nZXRnaWQmJnByb2Nlc3MuZ2V0Z2lkKCksYT1wYXJzZUludChcIjEwMFwiLDgpLGM9cGFyc2VJbnQoXCIwMTBcIiw4KSx1PXBhcnNlSW50KFwiMDAxXCIsOCksbD1hfGM7cmV0dXJuIHImdXx8ciZjJiZvPT09c3x8ciZhJiZuPT09aXx8ciZsJiYwPT09aX0oZSx0KX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZT0+e2NvbnN0IHQ9KGU9ZXx8e30pLmVudnx8cHJvY2Vzcy5lbnY7cmV0dXJuXCJ3aW4zMlwiIT09KGUucGxhdGZvcm18fHByb2Nlc3MucGxhdGZvcm0pP1wiUEFUSFwiOk9iamVjdC5rZXlzKHQpLmZpbmQoZT0+XCJQQVRIXCI9PT1lLnRvVXBwZXJDYXNlKCkpfHxcIlBhdGhcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPS8oWygpXFxdWyUhXlwiYDw+Jnw7LCAqP10pL2c7ZS5leHBvcnRzLmNvbW1hbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKG4sXCJeJDFcIil9LGUuZXhwb3J0cy5hcmd1bWVudD1mdW5jdGlvbihlLHQpe3JldHVybiBlPShlPWBcIiR7ZT0oZT0oZT1gJHtlfWApLnJlcGxhY2UoLyhcXFxcKilcIi9nLCckMSQxXFxcXFwiJykpLnJlcGxhY2UoLyhcXFxcKikkLyxcIiQxJDFcIil9XCJgKS5yZXBsYWNlKG4sXCJeJDFcIiksdCYmKGU9ZS5yZXBsYWNlKG4sXCJeJDFcIikpLGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj1yKDApLG89cigxOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2xldCB0LHI7QnVmZmVyLmFsbG9jP3Q9QnVmZmVyLmFsbG9jKDE1MCk6KHQ9bmV3IEJ1ZmZlcigxNTApKS5maWxsKDApO3RyeXtyPW4ub3BlblN5bmMoZSxcInJcIiksbi5yZWFkU3luYyhyLHQsMCwxNTAsMCksbi5jbG9zZVN5bmMocil9Y2F0Y2goZSl7fXJldHVybiBvKHQudG9TdHJpbmcoKSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigyMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWF0Y2gobik7aWYoIXQpcmV0dXJuIG51bGw7dmFyIHI9dFswXS5yZXBsYWNlKC8jISA/LyxcIlwiKS5zcGxpdChcIiBcIiksbz1yWzBdLnNwbGl0KFwiL1wiKS5wb3AoKSxpPXJbMV07cmV0dXJuXCJlbnZcIj09PW8/aTpvKyhpP1wiIFwiK2k6XCJcIil9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPS9eIyEuKi99LGZ1bmN0aW9uKGUsdCl7dmFyIHI7dD1lLmV4cG9ydHM9SyxyPVwib2JqZWN0XCI9PXR5cGVvZiBwcm9jZXNzJiZwcm9jZXNzLmVudiYmcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyYmL1xcYnNlbXZlclxcYi9pLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyk/ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7ZS51bnNoaWZ0KFwiU0VNVkVSXCIpLGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsZSl9OmZ1bmN0aW9uKCl7fSx0LlNFTVZFUl9TUEVDX1ZFUlNJT049XCIyLjAuMFwiO3ZhciBuPTI1NixvPU51bWJlci5NQVhfU0FGRV9JTlRFR0VSfHw5MDA3MTk5MjU0NzQwOTkxLGk9dC5yZT1bXSxzPXQuc3JjPVtdLGE9MCxjPWErKztzW2NdPVwiMHxbMS05XVxcXFxkKlwiO3ZhciB1PWErKztzW3VdPVwiWzAtOV0rXCI7dmFyIGw9YSsrO3NbbF09XCJcXFxcZCpbYS16QS1aLV1bYS16QS1aMC05LV0qXCI7dmFyIGY9YSsrO3NbZl09XCIoXCIrc1tjXStcIilcXFxcLihcIitzW2NdK1wiKVxcXFwuKFwiK3NbY10rXCIpXCI7dmFyIHA9YSsrO3NbcF09XCIoXCIrc1t1XStcIilcXFxcLihcIitzW3VdK1wiKVxcXFwuKFwiK3NbdV0rXCIpXCI7dmFyIGQ9YSsrO3NbZF09XCIoPzpcIitzW2NdK1wifFwiK3NbbF0rXCIpXCI7dmFyIGg9YSsrO3NbaF09XCIoPzpcIitzW3VdK1wifFwiK3NbbF0rXCIpXCI7dmFyIG09YSsrO3NbbV09XCIoPzotKFwiK3NbZF0rXCIoPzpcXFxcLlwiK3NbZF0rXCIpKikpXCI7dmFyIHY9YSsrO3Nbdl09XCIoPzotPyhcIitzW2hdK1wiKD86XFxcXC5cIitzW2hdK1wiKSopKVwiO3ZhciBnPWErKztzW2ddPVwiWzAtOUEtWmEtei1dK1wiO3ZhciB5PWErKztzW3ldPVwiKD86XFxcXCsoXCIrc1tnXStcIig/OlxcXFwuXCIrc1tnXStcIikqKSlcIjt2YXIgdz1hKysseD1cInY/XCIrc1tmXStzW21dK1wiP1wiK3NbeV0rXCI/XCI7c1t3XT1cIl5cIit4K1wiJFwiO3ZhciBFPVwiW3Y9XFxcXHNdKlwiK3NbcF0rc1t2XStcIj9cIitzW3ldK1wiP1wiLGI9YSsrO3NbYl09XCJeXCIrRStcIiRcIjt2YXIgUz1hKys7c1tTXT1cIigoPzo8fD4pPz0/KVwiO3ZhciBJPWErKztzW0ldPXNbdV0rXCJ8eHxYfFxcXFwqXCI7dmFyIGo9YSsrO3Nbal09c1tjXStcInx4fFh8XFxcXCpcIjt2YXIgUD1hKys7c1tQXT1cIlt2PVxcXFxzXSooXCIrc1tqXStcIikoPzpcXFxcLihcIitzW2pdK1wiKSg/OlxcXFwuKFwiK3Nbal0rXCIpKD86XCIrc1ttXStcIik/XCIrc1t5XStcIj8pPyk/XCI7dmFyIFQ9YSsrO3NbVF09XCJbdj1cXFxcc10qKFwiK3NbSV0rXCIpKD86XFxcXC4oXCIrc1tJXStcIikoPzpcXFxcLihcIitzW0ldK1wiKSg/OlwiK3Nbdl0rXCIpP1wiK3NbeV0rXCI/KT8pP1wiO3ZhciAkPWErKztzWyRdPVwiXlwiK3NbU10rXCJcXFxccypcIitzW1BdK1wiJFwiO3ZhciBDPWErKztzW0NdPVwiXlwiK3NbU10rXCJcXFxccypcIitzW1RdK1wiJFwiO3ZhciBPPWErKztzW09dPVwiKD86XnxbXlxcXFxkXSkoXFxcXGR7MSwxNn0pKD86XFxcXC4oXFxcXGR7MSwxNn0pKT8oPzpcXFxcLihcXFxcZHsxLDE2fSkpPyg/OiR8W15cXFxcZF0pXCI7dmFyIEE9YSsrO3NbQV09XCIoPzp+Pj8pXCI7dmFyIF89YSsrO3NbX109XCIoXFxcXHMqKVwiK3NbQV0rXCJcXFxccytcIixpW19dPW5ldyBSZWdFeHAoc1tfXSxcImdcIik7dmFyIFI9YSsrO3NbUl09XCJeXCIrc1tBXStzW1BdK1wiJFwiO3ZhciBEPWErKztzW0RdPVwiXlwiK3NbQV0rc1tUXStcIiRcIjt2YXIgTj1hKys7c1tOXT1cIig/OlxcXFxeKVwiO3ZhciBrPWErKztzW2tdPVwiKFxcXFxzKilcIitzW05dK1wiXFxcXHMrXCIsaVtrXT1uZXcgUmVnRXhwKHNba10sXCJnXCIpO3ZhciBNPWErKztzW01dPVwiXlwiK3NbTl0rc1tQXStcIiRcIjt2YXIgRz1hKys7c1tHXT1cIl5cIitzW05dK3NbVF0rXCIkXCI7dmFyIEw9YSsrO3NbTF09XCJeXCIrc1tTXStcIlxcXFxzKihcIitFK1wiKSR8XiRcIjt2YXIgVz1hKys7c1tXXT1cIl5cIitzW1NdK1wiXFxcXHMqKFwiK3grXCIpJHxeJFwiO3ZhciBGPWErKztzW0ZdPVwiKFxcXFxzKilcIitzW1NdK1wiXFxcXHMqKFwiK0UrXCJ8XCIrc1tQXStcIilcIixpW0ZdPW5ldyBSZWdFeHAoc1tGXSxcImdcIik7dmFyIEI9YSsrO3NbQl09XCJeXFxcXHMqKFwiK3NbUF0rXCIpXFxcXHMrLVxcXFxzKyhcIitzW1BdK1wiKVxcXFxzKiRcIjt2YXIgVj1hKys7c1tWXT1cIl5cXFxccyooXCIrc1tUXStcIilcXFxccystXFxcXHMrKFwiK3NbVF0rXCIpXFxcXHMqJFwiO3ZhciBxPWErKztzW3FdPVwiKDx8Pik/PT9cXFxccypcXFxcKlwiO2Zvcih2YXIgVT0wO1U8MzU7VSsrKXIoVSxzW1VdKSxpW1VdfHwoaVtVXT1uZXcgUmVnRXhwKHNbVV0pKTtmdW5jdGlvbiBIKGUsdCl7aWYodCYmXCJvYmplY3RcIj09dHlwZW9mIHR8fCh0PXtsb29zZTohIXQsaW5jbHVkZVByZXJlbGVhc2U6ITF9KSxlIGluc3RhbmNlb2YgSylyZXR1cm4gZTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDtpZihlLmxlbmd0aD5uKXJldHVybiBudWxsO2lmKCEodC5sb29zZT9pW2JdOmlbd10pLnRlc3QoZSkpcmV0dXJuIG51bGw7dHJ5e3JldHVybiBuZXcgSyhlLHQpfWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiBLKGUsdCl7aWYodCYmXCJvYmplY3RcIj09dHlwZW9mIHR8fCh0PXtsb29zZTohIXQsaW5jbHVkZVByZXJlbGVhc2U6ITF9KSxlIGluc3RhbmNlb2YgSyl7aWYoZS5sb29zZT09PXQubG9vc2UpcmV0dXJuIGU7ZT1lLnZlcnNpb259ZWxzZSBpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBWZXJzaW9uOiBcIitlKTtpZihlLmxlbmd0aD5uKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ2ZXJzaW9uIGlzIGxvbmdlciB0aGFuIFwiK24rXCIgY2hhcmFjdGVyc1wiKTtpZighKHRoaXMgaW5zdGFuY2VvZiBLKSlyZXR1cm4gbmV3IEsoZSx0KTtyKFwiU2VtVmVyXCIsZSx0KSx0aGlzLm9wdGlvbnM9dCx0aGlzLmxvb3NlPSEhdC5sb29zZTt2YXIgcz1lLnRyaW0oKS5tYXRjaCh0Lmxvb3NlP2lbYl06aVt3XSk7aWYoIXMpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgVmVyc2lvbjogXCIrZSk7aWYodGhpcy5yYXc9ZSx0aGlzLm1ham9yPStzWzFdLHRoaXMubWlub3I9K3NbMl0sdGhpcy5wYXRjaD0rc1szXSx0aGlzLm1ham9yPm98fHRoaXMubWFqb3I8MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBtYWpvciB2ZXJzaW9uXCIpO2lmKHRoaXMubWlub3I+b3x8dGhpcy5taW5vcjwwKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG1pbm9yIHZlcnNpb25cIik7aWYodGhpcy5wYXRjaD5vfHx0aGlzLnBhdGNoPDApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgcGF0Y2ggdmVyc2lvblwiKTtzWzRdP3RoaXMucHJlcmVsZWFzZT1zWzRdLnNwbGl0KFwiLlwiKS5tYXAoZnVuY3Rpb24oZSl7aWYoL15bMC05XSskLy50ZXN0KGUpKXt2YXIgdD0rZTtpZih0Pj0wJiZ0PG8pcmV0dXJuIHR9cmV0dXJuIGV9KTp0aGlzLnByZXJlbGVhc2U9W10sdGhpcy5idWlsZD1zWzVdP3NbNV0uc3BsaXQoXCIuXCIpOltdLHRoaXMuZm9ybWF0KCl9dC5wYXJzZT1ILHQudmFsaWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1IKGUsdCk7cmV0dXJuIHI/ci52ZXJzaW9uOm51bGx9LHQuY2xlYW49ZnVuY3Rpb24oZSx0KXt2YXIgcj1IKGUudHJpbSgpLnJlcGxhY2UoL15bPXZdKy8sXCJcIiksdCk7cmV0dXJuIHI/ci52ZXJzaW9uOm51bGx9LHQuU2VtVmVyPUssSy5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbj10aGlzLm1ham9yK1wiLlwiK3RoaXMubWlub3IrXCIuXCIrdGhpcy5wYXRjaCx0aGlzLnByZXJlbGVhc2UubGVuZ3RoJiYodGhpcy52ZXJzaW9uKz1cIi1cIit0aGlzLnByZXJlbGVhc2Uuam9pbihcIi5cIikpLHRoaXMudmVyc2lvbn0sSy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJzaW9ufSxLLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUpe3JldHVybiByKFwiU2VtVmVyLmNvbXBhcmVcIix0aGlzLnZlcnNpb24sdGhpcy5vcHRpb25zLGUpLGUgaW5zdGFuY2VvZiBLfHwoZT1uZXcgSyhlLHRoaXMub3B0aW9ucykpLHRoaXMuY29tcGFyZU1haW4oZSl8fHRoaXMuY29tcGFyZVByZShlKX0sSy5wcm90b3R5cGUuY29tcGFyZU1haW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBLfHwoZT1uZXcgSyhlLHRoaXMub3B0aW9ucykpLHoodGhpcy5tYWpvcixlLm1ham9yKXx8eih0aGlzLm1pbm9yLGUubWlub3IpfHx6KHRoaXMucGF0Y2gsZS5wYXRjaCl9LEsucHJvdG90eXBlLmNvbXBhcmVQcmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIEt8fChlPW5ldyBLKGUsdGhpcy5vcHRpb25zKSksdGhpcy5wcmVyZWxlYXNlLmxlbmd0aCYmIWUucHJlcmVsZWFzZS5sZW5ndGgpcmV0dXJuLTE7aWYoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGgmJmUucHJlcmVsZWFzZS5sZW5ndGgpcmV0dXJuIDE7aWYoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGgmJiFlLnByZXJlbGVhc2UubGVuZ3RoKXJldHVybiAwO3ZhciB0PTA7ZG97dmFyIG49dGhpcy5wcmVyZWxlYXNlW3RdLG89ZS5wcmVyZWxlYXNlW3RdO2lmKHIoXCJwcmVyZWxlYXNlIGNvbXBhcmVcIix0LG4sbyksdm9pZCAwPT09biYmdm9pZCAwPT09bylyZXR1cm4gMDtpZih2b2lkIDA9PT1vKXJldHVybiAxO2lmKHZvaWQgMD09PW4pcmV0dXJuLTE7aWYobiE9PW8pcmV0dXJuIHoobixvKX13aGlsZSgrK3QpfSxLLnByb3RvdHlwZS5pbmM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZVwicHJlbWFqb3JcIjp0aGlzLnByZXJlbGVhc2UubGVuZ3RoPTAsdGhpcy5wYXRjaD0wLHRoaXMubWlub3I9MCx0aGlzLm1ham9yKyssdGhpcy5pbmMoXCJwcmVcIix0KTticmVhaztjYXNlXCJwcmVtaW5vclwiOnRoaXMucHJlcmVsZWFzZS5sZW5ndGg9MCx0aGlzLnBhdGNoPTAsdGhpcy5taW5vcisrLHRoaXMuaW5jKFwicHJlXCIsdCk7YnJlYWs7Y2FzZVwicHJlcGF0Y2hcIjp0aGlzLnByZXJlbGVhc2UubGVuZ3RoPTAsdGhpcy5pbmMoXCJwYXRjaFwiLHQpLHRoaXMuaW5jKFwicHJlXCIsdCk7YnJlYWs7Y2FzZVwicHJlcmVsZWFzZVwiOjA9PT10aGlzLnByZXJlbGVhc2UubGVuZ3RoJiZ0aGlzLmluYyhcInBhdGNoXCIsdCksdGhpcy5pbmMoXCJwcmVcIix0KTticmVhaztjYXNlXCJtYWpvclwiOjA9PT10aGlzLm1pbm9yJiYwPT09dGhpcy5wYXRjaCYmMCE9PXRoaXMucHJlcmVsZWFzZS5sZW5ndGh8fHRoaXMubWFqb3IrKyx0aGlzLm1pbm9yPTAsdGhpcy5wYXRjaD0wLHRoaXMucHJlcmVsZWFzZT1bXTticmVhaztjYXNlXCJtaW5vclwiOjA9PT10aGlzLnBhdGNoJiYwIT09dGhpcy5wcmVyZWxlYXNlLmxlbmd0aHx8dGhpcy5taW5vcisrLHRoaXMucGF0Y2g9MCx0aGlzLnByZXJlbGVhc2U9W107YnJlYWs7Y2FzZVwicGF0Y2hcIjowPT09dGhpcy5wcmVyZWxlYXNlLmxlbmd0aCYmdGhpcy5wYXRjaCsrLHRoaXMucHJlcmVsZWFzZT1bXTticmVhaztjYXNlXCJwcmVcIjppZigwPT09dGhpcy5wcmVyZWxlYXNlLmxlbmd0aCl0aGlzLnByZXJlbGVhc2U9WzBdO2Vsc2V7Zm9yKHZhciByPXRoaXMucHJlcmVsZWFzZS5sZW5ndGg7LS1yPj0wOylcIm51bWJlclwiPT10eXBlb2YgdGhpcy5wcmVyZWxlYXNlW3JdJiYodGhpcy5wcmVyZWxlYXNlW3JdKysscj0tMik7LTE9PT1yJiZ0aGlzLnByZXJlbGVhc2UucHVzaCgwKX10JiYodGhpcy5wcmVyZWxlYXNlWzBdPT09dD9pc05hTih0aGlzLnByZXJlbGVhc2VbMV0pJiYodGhpcy5wcmVyZWxlYXNlPVt0LDBdKTp0aGlzLnByZXJlbGVhc2U9W3QsMF0pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBpbmNyZW1lbnQgYXJndW1lbnQ6IFwiK2UpfXJldHVybiB0aGlzLmZvcm1hdCgpLHRoaXMucmF3PXRoaXMudmVyc2lvbix0aGlzfSx0LmluYz1mdW5jdGlvbihlLHQscixuKXtcInN0cmluZ1wiPT10eXBlb2YgciYmKG49cixyPXZvaWQgMCk7dHJ5e3JldHVybiBuZXcgSyhlLHIpLmluYyh0LG4pLnZlcnNpb259Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSx0LmRpZmY9ZnVuY3Rpb24oZSx0KXtpZihKKGUsdCkpcmV0dXJuIG51bGw7dmFyIHI9SChlKSxuPUgodCksbz1cIlwiO2lmKHIucHJlcmVsZWFzZS5sZW5ndGh8fG4ucHJlcmVsZWFzZS5sZW5ndGgpe289XCJwcmVcIjt2YXIgaT1cInByZXJlbGVhc2VcIn1mb3IodmFyIHMgaW4gcilpZigoXCJtYWpvclwiPT09c3x8XCJtaW5vclwiPT09c3x8XCJwYXRjaFwiPT09cykmJnJbc10hPT1uW3NdKXJldHVybiBvK3M7cmV0dXJuIGl9LHQuY29tcGFyZUlkZW50aWZpZXJzPXo7dmFyIFg9L15bMC05XSskLztmdW5jdGlvbiB6KGUsdCl7dmFyIHI9WC50ZXN0KGUpLG49WC50ZXN0KHQpO3JldHVybiByJiZuJiYoZT0rZSx0PSt0KSxlPT09dD8wOnImJiFuPy0xOm4mJiFyPzE6ZTx0Py0xOjF9ZnVuY3Rpb24gWihlLHQscil7cmV0dXJuIG5ldyBLKGUscikuY29tcGFyZShuZXcgSyh0LHIpKX1mdW5jdGlvbiBZKGUsdCxyKXtyZXR1cm4gWihlLHQscik+MH1mdW5jdGlvbiBRKGUsdCxyKXtyZXR1cm4gWihlLHQscik8MH1mdW5jdGlvbiBKKGUsdCxyKXtyZXR1cm4gMD09PVooZSx0LHIpfWZ1bmN0aW9uIGVlKGUsdCxyKXtyZXR1cm4gMCE9PVooZSx0LHIpfWZ1bmN0aW9uIHRlKGUsdCxyKXtyZXR1cm4gWihlLHQscik+PTB9ZnVuY3Rpb24gcmUoZSx0LHIpe3JldHVybiBaKGUsdCxyKTw9MH1mdW5jdGlvbiBuZShlLHQscixuKXtzd2l0Y2godCl7Y2FzZVwiPT09XCI6cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJihlPWUudmVyc2lvbiksXCJvYmplY3RcIj09dHlwZW9mIHImJihyPXIudmVyc2lvbiksZT09PXI7Y2FzZVwiIT09XCI6cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJihlPWUudmVyc2lvbiksXCJvYmplY3RcIj09dHlwZW9mIHImJihyPXIudmVyc2lvbiksZSE9PXI7Y2FzZVwiXCI6Y2FzZVwiPVwiOmNhc2VcIj09XCI6cmV0dXJuIEooZSxyLG4pO2Nhc2VcIiE9XCI6cmV0dXJuIGVlKGUscixuKTtjYXNlXCI+XCI6cmV0dXJuIFkoZSxyLG4pO2Nhc2VcIj49XCI6cmV0dXJuIHRlKGUscixuKTtjYXNlXCI8XCI6cmV0dXJuIFEoZSxyLG4pO2Nhc2VcIjw9XCI6cmV0dXJuIHJlKGUscixuKTtkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG9wZXJhdG9yOiBcIit0KX19ZnVuY3Rpb24gb2UoZSx0KXtpZih0JiZcIm9iamVjdFwiPT10eXBlb2YgdHx8KHQ9e2xvb3NlOiEhdCxpbmNsdWRlUHJlcmVsZWFzZTohMX0pLGUgaW5zdGFuY2VvZiBvZSl7aWYoZS5sb29zZT09PSEhdC5sb29zZSlyZXR1cm4gZTtlPWUudmFsdWV9aWYoISh0aGlzIGluc3RhbmNlb2Ygb2UpKXJldHVybiBuZXcgb2UoZSx0KTtyKFwiY29tcGFyYXRvclwiLGUsdCksdGhpcy5vcHRpb25zPXQsdGhpcy5sb29zZT0hIXQubG9vc2UsdGhpcy5wYXJzZShlKSx0aGlzLnNlbXZlcj09PWllP3RoaXMudmFsdWU9XCJcIjp0aGlzLnZhbHVlPXRoaXMub3BlcmF0b3IrdGhpcy5zZW12ZXIudmVyc2lvbixyKFwiY29tcFwiLHRoaXMpfXQucmNvbXBhcmVJZGVudGlmaWVycz1mdW5jdGlvbihlLHQpe3JldHVybiB6KHQsZSl9LHQubWFqb3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEsoZSx0KS5tYWpvcn0sdC5taW5vcj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgSyhlLHQpLm1pbm9yfSx0LnBhdGNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBLKGUsdCkucGF0Y2h9LHQuY29tcGFyZT1aLHQuY29tcGFyZUxvb3NlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFooZSx0LCEwKX0sdC5yY29tcGFyZT1mdW5jdGlvbihlLHQscil7cmV0dXJuIFoodCxlLHIpfSx0LnNvcnQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5zb3J0KGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuY29tcGFyZShlLG4scil9KX0sdC5yc29ydD1mdW5jdGlvbihlLHIpe3JldHVybiBlLnNvcnQoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5yY29tcGFyZShlLG4scil9KX0sdC5ndD1ZLHQubHQ9USx0LmVxPUosdC5uZXE9ZWUsdC5ndGU9dGUsdC5sdGU9cmUsdC5jbXA9bmUsdC5Db21wYXJhdG9yPW9lO3ZhciBpZT17fTtmdW5jdGlvbiBzZShlLHQpe2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fHwodD17bG9vc2U6ISF0LGluY2x1ZGVQcmVyZWxlYXNlOiExfSksZSBpbnN0YW5jZW9mIHNlKXJldHVybiBlLmxvb3NlPT09ISF0Lmxvb3NlJiZlLmluY2x1ZGVQcmVyZWxlYXNlPT09ISF0LmluY2x1ZGVQcmVyZWxlYXNlP2U6bmV3IHNlKGUucmF3LHQpO2lmKGUgaW5zdGFuY2VvZiBvZSlyZXR1cm4gbmV3IHNlKGUudmFsdWUsdCk7aWYoISh0aGlzIGluc3RhbmNlb2Ygc2UpKXJldHVybiBuZXcgc2UoZSx0KTtpZih0aGlzLm9wdGlvbnM9dCx0aGlzLmxvb3NlPSEhdC5sb29zZSx0aGlzLmluY2x1ZGVQcmVyZWxlYXNlPSEhdC5pbmNsdWRlUHJlcmVsZWFzZSx0aGlzLnJhdz1lLHRoaXMuc2V0PWUuc3BsaXQoL1xccypcXHxcXHxcXHMqLykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcnNlUmFuZ2UoZS50cmltKCkpfSx0aGlzKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RofSksIXRoaXMuc2V0Lmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBTZW1WZXIgUmFuZ2U6IFwiK2UpO3RoaXMuZm9ybWF0KCl9ZnVuY3Rpb24gYWUoZSl7cmV0dXJuIWV8fFwieFwiPT09ZS50b0xvd2VyQ2FzZSgpfHxcIipcIj09PWV9ZnVuY3Rpb24gY2UoZSx0LHIsbixvLGkscyxhLGMsdSxsLGYscCl7cmV0dXJuKCh0PWFlKHIpP1wiXCI6YWUobik/XCI+PVwiK3IrXCIuMC4wXCI6YWUobyk/XCI+PVwiK3IrXCIuXCIrbitcIi4wXCI6XCI+PVwiK3QpK1wiIFwiKyhhPWFlKGMpP1wiXCI6YWUodSk/XCI8XCIrKCtjKzEpK1wiLjAuMFwiOmFlKGwpP1wiPFwiK2MrXCIuXCIrKCt1KzEpK1wiLjBcIjpmP1wiPD1cIitjK1wiLlwiK3UrXCIuXCIrbCtcIi1cIitmOlwiPD1cIithKSkudHJpbSgpfWZ1bmN0aW9uIHVlKGUsdCxuKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKylpZighZVtvXS50ZXN0KHQpKXJldHVybiExO2lmKHQucHJlcmVsZWFzZS5sZW5ndGgmJiFuLmluY2x1ZGVQcmVyZWxlYXNlKXtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKHIoZVtvXS5zZW12ZXIpLGVbb10uc2VtdmVyIT09aWUmJmVbb10uc2VtdmVyLnByZXJlbGVhc2UubGVuZ3RoPjApe3ZhciBpPWVbb10uc2VtdmVyO2lmKGkubWFqb3I9PT10Lm1ham9yJiZpLm1pbm9yPT09dC5taW5vciYmaS5wYXRjaD09PXQucGF0Y2gpcmV0dXJuITB9cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gbGUoZSx0LHIpe3RyeXt0PW5ldyBzZSh0LHIpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiB0LnRlc3QoZSl9ZnVuY3Rpb24gZmUoZSx0LHIsbil7dmFyIG8saSxzLGEsYztzd2l0Y2goZT1uZXcgSyhlLG4pLHQ9bmV3IHNlKHQsbikscil7Y2FzZVwiPlwiOm89WSxpPXJlLHM9USxhPVwiPlwiLGM9XCI+PVwiO2JyZWFrO2Nhc2VcIjxcIjpvPVEsaT10ZSxzPVksYT1cIjxcIixjPVwiPD1cIjticmVhaztkZWZhdWx0OnRocm93IG5ldyBUeXBlRXJyb3IoJ011c3QgcHJvdmlkZSBhIGhpbG8gdmFsIG9mIFwiPFwiIG9yIFwiPlwiJyl9aWYobGUoZSx0LG4pKXJldHVybiExO2Zvcih2YXIgdT0wO3U8dC5zZXQubGVuZ3RoOysrdSl7dmFyIGw9dC5zZXRbdV0sZj1udWxsLHA9bnVsbDtpZihsLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5zZW12ZXI9PT1pZSYmKGU9bmV3IG9lKFwiPj0wLjAuMFwiKSksZj1mfHxlLHA9cHx8ZSxvKGUuc2VtdmVyLGYuc2VtdmVyLG4pP2Y9ZTpzKGUuc2VtdmVyLHAuc2VtdmVyLG4pJiYocD1lKX0pLGYub3BlcmF0b3I9PT1hfHxmLm9wZXJhdG9yPT09YylyZXR1cm4hMTtpZigoIXAub3BlcmF0b3J8fHAub3BlcmF0b3I9PT1hKSYmaShlLHAuc2VtdmVyKSlyZXR1cm4hMTtpZihwLm9wZXJhdG9yPT09YyYmcyhlLHAuc2VtdmVyKSlyZXR1cm4hMX1yZXR1cm4hMH1vZS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLmxvb3NlP2lbTF06aVtXXSxyPWUubWF0Y2godCk7aWYoIXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgY29tcGFyYXRvcjogXCIrZSk7dGhpcy5vcGVyYXRvcj1yWzFdLFwiPVwiPT09dGhpcy5vcGVyYXRvciYmKHRoaXMub3BlcmF0b3I9XCJcIiksclsyXT90aGlzLnNlbXZlcj1uZXcgSyhyWzJdLHRoaXMub3B0aW9ucy5sb29zZSk6dGhpcy5zZW12ZXI9aWV9LG9lLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSxvZS5wcm90b3R5cGUudGVzdD1mdW5jdGlvbihlKXtyZXR1cm4gcihcIkNvbXBhcmF0b3IudGVzdFwiLGUsdGhpcy5vcHRpb25zLmxvb3NlKSx0aGlzLnNlbXZlcj09PWllfHwoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW5ldyBLKGUsdGhpcy5vcHRpb25zKSksbmUoZSx0aGlzLm9wZXJhdG9yLHRoaXMuc2VtdmVyLHRoaXMub3B0aW9ucykpfSxvZS5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIG9lKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYSBDb21wYXJhdG9yIGlzIHJlcXVpcmVkXCIpO3ZhciByO2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fHwodD17bG9vc2U6ISF0LGluY2x1ZGVQcmVyZWxlYXNlOiExfSksXCJcIj09PXRoaXMub3BlcmF0b3IpcmV0dXJuIHI9bmV3IHNlKGUudmFsdWUsdCksbGUodGhpcy52YWx1ZSxyLHQpO2lmKFwiXCI9PT1lLm9wZXJhdG9yKXJldHVybiByPW5ldyBzZSh0aGlzLnZhbHVlLHQpLGxlKGUuc2VtdmVyLHIsdCk7dmFyIG49IShcIj49XCIhPT10aGlzLm9wZXJhdG9yJiZcIj5cIiE9PXRoaXMub3BlcmF0b3J8fFwiPj1cIiE9PWUub3BlcmF0b3ImJlwiPlwiIT09ZS5vcGVyYXRvciksbz0hKFwiPD1cIiE9PXRoaXMub3BlcmF0b3ImJlwiPFwiIT09dGhpcy5vcGVyYXRvcnx8XCI8PVwiIT09ZS5vcGVyYXRvciYmXCI8XCIhPT1lLm9wZXJhdG9yKSxpPXRoaXMuc2VtdmVyLnZlcnNpb249PT1lLnNlbXZlci52ZXJzaW9uLHM9IShcIj49XCIhPT10aGlzLm9wZXJhdG9yJiZcIjw9XCIhPT10aGlzLm9wZXJhdG9yfHxcIj49XCIhPT1lLm9wZXJhdG9yJiZcIjw9XCIhPT1lLm9wZXJhdG9yKSxhPW5lKHRoaXMuc2VtdmVyLFwiPFwiLGUuc2VtdmVyLHQpJiYoXCI+PVwiPT09dGhpcy5vcGVyYXRvcnx8XCI+XCI9PT10aGlzLm9wZXJhdG9yKSYmKFwiPD1cIj09PWUub3BlcmF0b3J8fFwiPFwiPT09ZS5vcGVyYXRvciksYz1uZSh0aGlzLnNlbXZlcixcIj5cIixlLnNlbXZlcix0KSYmKFwiPD1cIj09PXRoaXMub3BlcmF0b3J8fFwiPFwiPT09dGhpcy5vcGVyYXRvcikmJihcIj49XCI9PT1lLm9wZXJhdG9yfHxcIj5cIj09PWUub3BlcmF0b3IpO3JldHVybiBufHxvfHxpJiZzfHxhfHxjfSx0LlJhbmdlPXNlLHNlLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZT10aGlzLnNldC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbihcIiBcIikudHJpbSgpfSkuam9pbihcInx8XCIpLnRyaW0oKSx0aGlzLnJhbmdlfSxzZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZX0sc2UucHJvdG90eXBlLnBhcnNlUmFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLmxvb3NlO2U9ZS50cmltKCk7dmFyIG49dD9pW1ZdOmlbQl07ZT1lLnJlcGxhY2UobixjZSkscihcImh5cGhlbiByZXBsYWNlXCIsZSksZT1lLnJlcGxhY2UoaVtGXSxcIiQxJDIkM1wiKSxyKFwiY29tcGFyYXRvciB0cmltXCIsZSxpW0ZdKSxlPShlPShlPWUucmVwbGFjZShpW19dLFwiJDF+XCIpKS5yZXBsYWNlKGlba10sXCIkMV5cIikpLnNwbGl0KC9cXHMrLykuam9pbihcIiBcIik7dmFyIG89dD9pW0xdOmlbV10scz1lLnNwbGl0KFwiIFwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIoXCJjb21wXCIsZSx0KSxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe3IoXCJjYXJldFwiLGUsdCk7dmFyIG49dC5sb29zZT9pW0ddOmlbTV07cmV0dXJuIGUucmVwbGFjZShuLGZ1bmN0aW9uKHQsbixvLGkscyl7dmFyIGE7cmV0dXJuIHIoXCJjYXJldFwiLGUsdCxuLG8saSxzKSxhZShuKT9hPVwiXCI6YWUobyk/YT1cIj49XCIrbitcIi4wLjAgPFwiKygrbisxKStcIi4wLjBcIjphZShpKT9hPVwiMFwiPT09bj9cIj49XCIrbitcIi5cIitvK1wiLjAgPFwiK24rXCIuXCIrKCtvKzEpK1wiLjBcIjpcIj49XCIrbitcIi5cIitvK1wiLjAgPFwiKygrbisxKStcIi4wLjBcIjpzPyhyKFwicmVwbGFjZUNhcmV0IHByXCIscyksYT1cIjBcIj09PW4/XCIwXCI9PT1vP1wiPj1cIituK1wiLlwiK28rXCIuXCIraStcIi1cIitzK1wiIDxcIituK1wiLlwiK28rXCIuXCIrKCtpKzEpOlwiPj1cIituK1wiLlwiK28rXCIuXCIraStcIi1cIitzK1wiIDxcIituK1wiLlwiKygrbysxKStcIi4wXCI6XCI+PVwiK24rXCIuXCIrbytcIi5cIitpK1wiLVwiK3MrXCIgPFwiKygrbisxKStcIi4wLjBcIik6KHIoXCJubyBwclwiKSxhPVwiMFwiPT09bj9cIjBcIj09PW8/XCI+PVwiK24rXCIuXCIrbytcIi5cIitpK1wiIDxcIituK1wiLlwiK28rXCIuXCIrKCtpKzEpOlwiPj1cIituK1wiLlwiK28rXCIuXCIraStcIiA8XCIrbitcIi5cIisoK28rMSkrXCIuMFwiOlwiPj1cIituK1wiLlwiK28rXCIuXCIraStcIiA8XCIrKCtuKzEpK1wiLjAuMFwiKSxyKFwiY2FyZXQgcmV0dXJuXCIsYSksYX0pfShlLHQpfSkuam9pbihcIiBcIil9KGUsdCkscihcImNhcmV0XCIsZSksZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLnRyaW0oKS5zcGxpdCgvXFxzKy8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj10Lmxvb3NlP2lbRF06aVtSXTtyZXR1cm4gZS5yZXBsYWNlKG4sZnVuY3Rpb24odCxuLG8saSxzKXt2YXIgYTtyZXR1cm4gcihcInRpbGRlXCIsZSx0LG4sbyxpLHMpLGFlKG4pP2E9XCJcIjphZShvKT9hPVwiPj1cIituK1wiLjAuMCA8XCIrKCtuKzEpK1wiLjAuMFwiOmFlKGkpP2E9XCI+PVwiK24rXCIuXCIrbytcIi4wIDxcIituK1wiLlwiKygrbysxKStcIi4wXCI6cz8ocihcInJlcGxhY2VUaWxkZSBwclwiLHMpLGE9XCI+PVwiK24rXCIuXCIrbytcIi5cIitpK1wiLVwiK3MrXCIgPFwiK24rXCIuXCIrKCtvKzEpK1wiLjBcIik6YT1cIj49XCIrbitcIi5cIitvK1wiLlwiK2krXCIgPFwiK24rXCIuXCIrKCtvKzEpK1wiLjBcIixyKFwidGlsZGUgcmV0dXJuXCIsYSksYX0pfShlLHQpfSkuam9pbihcIiBcIil9KGUsdCkscihcInRpbGRlc1wiLGUpLGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcihcInJlcGxhY2VYUmFuZ2VzXCIsZSx0KSxlLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2U9ZS50cmltKCk7dmFyIG49dC5sb29zZT9pW0NdOmlbJF07cmV0dXJuIGUucmVwbGFjZShuLGZ1bmN0aW9uKHQsbixvLGkscyxhKXtyKFwieFJhbmdlXCIsZSx0LG4sbyxpLHMsYSk7dmFyIGM9YWUobyksdT1jfHxhZShpKSxsPXV8fGFlKHMpO3JldHVyblwiPVwiPT09biYmbCYmKG49XCJcIiksYz90PVwiPlwiPT09bnx8XCI8XCI9PT1uP1wiPDAuMC4wXCI6XCIqXCI6biYmbD8odSYmKGk9MCkscz0wLFwiPlwiPT09bj8obj1cIj49XCIsdT8obz0rbysxLGk9MCxzPTApOihpPStpKzEscz0wKSk6XCI8PVwiPT09biYmKG49XCI8XCIsdT9vPStvKzE6aT0raSsxKSx0PW4rbytcIi5cIitpK1wiLlwiK3MpOnU/dD1cIj49XCIrbytcIi4wLjAgPFwiKygrbysxKStcIi4wLjBcIjpsJiYodD1cIj49XCIrbytcIi5cIitpK1wiLjAgPFwiK28rXCIuXCIrKCtpKzEpK1wiLjBcIikscihcInhSYW5nZSByZXR1cm5cIix0KSx0fSl9KGUsdCl9KS5qb2luKFwiIFwiKX0oZSx0KSxyKFwieHJhbmdlXCIsZSksZT1mdW5jdGlvbihlLHQpe3JldHVybiByKFwicmVwbGFjZVN0YXJzXCIsZSx0KSxlLnRyaW0oKS5yZXBsYWNlKGlbcV0sXCJcIil9KGUsdCkscihcInN0YXJzXCIsZSksZX0oZSx0aGlzLm9wdGlvbnMpfSx0aGlzKS5qb2luKFwiIFwiKS5zcGxpdCgvXFxzKy8pO3JldHVybiB0aGlzLm9wdGlvbnMubG9vc2UmJihzPXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhZS5tYXRjaChvKX0pKSxzPXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgb2UoZSx0aGlzLm9wdGlvbnMpfSx0aGlzKX0sc2UucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiBzZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImEgUmFuZ2UgaXMgcmVxdWlyZWRcIik7cmV0dXJuIHRoaXMuc2V0LnNvbWUoZnVuY3Rpb24ocil7cmV0dXJuIHIuZXZlcnkoZnVuY3Rpb24ocil7cmV0dXJuIGUuc2V0LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIHIuaW50ZXJzZWN0cyhlLHQpfSl9KX0pfSl9LHQudG9Db21wYXJhdG9ycz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgc2UoZSx0KS5zZXQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZX0pLmpvaW4oXCIgXCIpLnRyaW0oKS5zcGxpdChcIiBcIil9KX0sc2UucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuITE7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW5ldyBLKGUsdGhpcy5vcHRpb25zKSk7Zm9yKHZhciB0PTA7dDx0aGlzLnNldC5sZW5ndGg7dCsrKWlmKHVlKHRoaXMuc2V0W3RdLGUsdGhpcy5vcHRpb25zKSlyZXR1cm4hMDtyZXR1cm4hMX0sdC5zYXRpc2ZpZXM9bGUsdC5tYXhTYXRpc2Z5aW5nPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1udWxsLG89bnVsbDt0cnl7dmFyIGk9bmV3IHNlKHQscil9Y2F0Y2goZSl7cmV0dXJuIG51bGx9cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKXtpLnRlc3QoZSkmJihuJiYtMSE9PW8uY29tcGFyZShlKXx8KG89bmV3IEsobj1lLHIpKSl9KSxufSx0Lm1pblNhdGlzZnlpbmc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW51bGwsbz1udWxsO3RyeXt2YXIgaT1uZXcgc2UodCxyKX1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kudGVzdChlKSYmKG4mJjEhPT1vLmNvbXBhcmUoZSl8fChvPW5ldyBLKG49ZSxyKSkpfSksbn0sdC5taW5WZXJzaW9uPWZ1bmN0aW9uKGUsdCl7ZT1uZXcgc2UoZSx0KTt2YXIgcj1uZXcgSyhcIjAuMC4wXCIpO2lmKGUudGVzdChyKSlyZXR1cm4gcjtpZihyPW5ldyBLKFwiMC4wLjAtMFwiKSxlLnRlc3QocikpcmV0dXJuIHI7cj1udWxsO2Zvcih2YXIgbj0wO248ZS5zZXQubGVuZ3RoOysrbil7ZS5zZXRbbl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uZXcgSyhlLnNlbXZlci52ZXJzaW9uKTtzd2l0Y2goZS5vcGVyYXRvcil7Y2FzZVwiPlwiOjA9PT10LnByZXJlbGVhc2UubGVuZ3RoP3QucGF0Y2grKzp0LnByZXJlbGVhc2UucHVzaCgwKSx0LnJhdz10LmZvcm1hdCgpO2Nhc2VcIlwiOmNhc2VcIj49XCI6ciYmIVkocix0KXx8KHI9dCk7YnJlYWs7Y2FzZVwiPFwiOmNhc2VcIjw9XCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIG9wZXJhdGlvbjogXCIrZS5vcGVyYXRvcil9fSl9aWYociYmZS50ZXN0KHIpKXJldHVybiByO3JldHVybiBudWxsfSx0LnZhbGlkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIG5ldyBzZShlLHQpLnJhbmdlfHxcIipcIn1jYXRjaChlKXtyZXR1cm4gbnVsbH19LHQubHRyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZmUoZSx0LFwiPFwiLHIpfSx0Lmd0cj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGZlKGUsdCxcIj5cIixyKX0sdC5vdXRzaWRlPWZlLHQucHJlcmVsZWFzZT1mdW5jdGlvbihlLHQpe3ZhciByPUgoZSx0KTtyZXR1cm4gciYmci5wcmVyZWxlYXNlLmxlbmd0aD9yLnByZXJlbGVhc2U6bnVsbH0sdC5pbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT1uZXcgc2UoZSxyKSx0PW5ldyBzZSh0LHIpLGUuaW50ZXJzZWN0cyh0KX0sdC5jb2VyY2U9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIEspcmV0dXJuIGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5tYXRjaChpW09dKTtpZihudWxsPT10KXJldHVybiBudWxsO3JldHVybiBIKHRbMV0rXCIuXCIrKHRbMl18fFwiMFwiKStcIi5cIisodFszXXx8XCIwXCIpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPVwid2luMzJcIj09PXByb2Nlc3MucGxhdGZvcm07ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihgJHt0fSAke2UuY29tbWFuZH0gRU5PRU5UYCkse2NvZGU6XCJFTk9FTlRcIixlcnJubzpcIkVOT0VOVFwiLHN5c2NhbGw6YCR7dH0gJHtlLmNvbW1hbmR9YCxwYXRoOmUuY29tbWFuZCxzcGF3bmFyZ3M6ZS5hcmdzfSl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBuJiYxPT09ZSYmIXQuZmlsZT9vKHQub3JpZ2luYWwsXCJzcGF3blwiKTpudWxsfWUuZXhwb3J0cz17aG9va0NoaWxkUHJvY2VzczpmdW5jdGlvbihlLHQpe2lmKCFuKXJldHVybjtjb25zdCByPWUuZW1pdDtlLmVtaXQ9ZnVuY3Rpb24obixvKXtpZihcImV4aXRcIj09PW4pe2NvbnN0IG49aShvLHQpO2lmKG4pcmV0dXJuIHIuY2FsbChlLFwiZXJyb3JcIixuKX1yZXR1cm4gci5hcHBseShlLGFyZ3VtZW50cyl9fSx2ZXJpZnlFTk9FTlQ6aSx2ZXJpZnlFTk9FTlRTeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4mJjE9PT1lJiYhdC5maWxlP28odC5vcmlnaW5hbCxcInNwYXduU3luY1wiKTpudWxsfSxub3RGb3VuZEVycm9yOm99fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWU9Pntjb25zdCB0PVwic3RyaW5nXCI9PXR5cGVvZiBlP1wiXFxuXCI6XCJcXG5cIi5jaGFyQ29kZUF0KCkscj1cInN0cmluZ1wiPT10eXBlb2YgZT9cIlxcclwiOlwiXFxyXCIuY2hhckNvZGVBdCgpO3JldHVybiBlW2UubGVuZ3RoLTFdPT09dCYmKGU9ZS5zbGljZSgwLGUubGVuZ3RoLTEpKSxlW2UubGVuZ3RoLTFdPT09ciYmKGU9ZS5zbGljZSgwLGUubGVuZ3RoLTEpKSxlfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49cigxKSxvPXIoMjUpLGk9ZT0+e2xldCB0O2U9e2N3ZDpwcm9jZXNzLmN3ZCgpLHBhdGg6cHJvY2Vzcy5lbnZbbygpXSwuLi5lfTtsZXQgcj1uLnJlc29sdmUoZS5jd2QpO2NvbnN0IGk9W107Zm9yKDt0IT09cjspaS5wdXNoKG4uam9pbihyLFwibm9kZV9tb2R1bGVzLy5iaW5cIikpLHQ9cixyPW4ucmVzb2x2ZShyLFwiLi5cIik7cmV0dXJuIGkucHVzaChuLmRpcm5hbWUocHJvY2Vzcy5leGVjUGF0aCkpLGkuY29uY2F0KGUucGF0aCkuam9pbihuLmRlbGltaXRlcil9O2UuZXhwb3J0cz1pLGUuZXhwb3J0cy5kZWZhdWx0PWksZS5leHBvcnRzLmVudj10PT57Y29uc3Qgcj17Li4uKHQ9e2Vudjpwcm9jZXNzLmVudiwuLi50fSkuZW52fSxuPW8oe2VudjpyfSk7cmV0dXJuIHQucGF0aD1yW25dLHJbbl09ZS5leHBvcnRzKHQpLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj0oZT17fSk9Pntjb25zdCB0PWUuZW52fHxwcm9jZXNzLmVudjtyZXR1cm5cIndpbjMyXCIhPT0oZS5wbGF0Zm9ybXx8cHJvY2Vzcy5wbGF0Zm9ybSk/XCJQQVRIXCI6T2JqZWN0LmtleXModCkuZmluZChlPT5cIlBBVEhcIj09PWUudG9VcHBlckNhc2UoKSl8fFwiUGF0aFwifTtlLmV4cG9ydHM9bixlLmV4cG9ydHMuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj1yKDI3KSxvPW5ldyBXZWFrTWFwLGk9KGUsdD17fSk9PntpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIpO2xldCByLGk9ITEscz0wO2NvbnN0IGE9ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIjxhbm9ueW1vdXM+XCIsYz1mdW5jdGlvbiguLi5uKXtpZihvLnNldChjLCsrcyksaSl7aWYoITA9PT10LnRocm93KXRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gXFxgJHthfVxcYCBjYW4gb25seSBiZSBjYWxsZWQgb25jZWApO3JldHVybiByfXJldHVybiBpPSEwLHI9ZS5hcHBseSh0aGlzLG4pLGU9bnVsbCxyfTtyZXR1cm4gbihjLGUpLG8uc2V0KGMscyksY307ZS5leHBvcnRzPWksZS5leHBvcnRzLmRlZmF1bHQ9aSxlLmV4cG9ydHMuY2FsbENvdW50PWU9PntpZighby5oYXMoZSkpdGhyb3cgbmV3IEVycm9yKGBUaGUgZ2l2ZW4gZnVuY3Rpb24gXFxgJHtlLm5hbWV9XFxgIGlzIG5vdCB3cmFwcGVkIGJ5IHRoZSBcXGBvbmV0aW1lXFxgIHBhY2thZ2VgKTtyZXR1cm4gby5nZXQoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj0oZSx0KT0+e2Zvcihjb25zdCByIG9mIFJlZmxlY3Qub3duS2V5cyh0KSlPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSk7cmV0dXJuIGV9O2UuZXhwb3J0cz1uLGUuZXhwb3J0cy5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPXIoMyksbz1yKDI5KTtlLmV4cG9ydHM9KHtzdGRvdXQ6ZSxzdGRlcnI6dCxhbGw6cixlcnJvcjppLHNpZ25hbDpzLGNvZGU6YSxjb21tYW5kOmMsdGltZWRPdXQ6dSxpc0NhbmNlbGVkOmwsa2lsbGVkOmYscGFyc2VkOntvcHRpb25zOnt0aW1lb3V0OnB9fX0pPT57Y29uc3RbZCxoXT0oKGUsdCk9PmUmJmUuY29kZT9bZS5jb2RlLG4uY29uc3RhbnRzLmVycm5vW2UuY29kZV1dOk51bWJlci5pc0ludGVnZXIodCk/W28uZ2V0U3lzdGVtRXJyb3JOYW1lKC10KSx0XTpbXSkoaSxhKSxtPWBDb21tYW5kICR7KCh7dGltZWRPdXQ6ZSx0aW1lb3V0OnQsc2lnbmFsOnIsZXhpdENvZGVOYW1lOm4sZXhpdENvZGU6byxpc0NhbmNlbGVkOml9KT0+ZT9gdGltZWQgb3V0IGFmdGVyICR7dH0gbWlsbGlzZWNvbmRzYDppP1wid2FzIGNhbmNlbGVkXCI6cj9gd2FzIGtpbGxlZCB3aXRoICR7cn1gOnZvaWQgMCE9PW8/YGZhaWxlZCB3aXRoIGV4aXQgY29kZSAke299ICgke259KWA6XCJmYWlsZWRcIikoe3RpbWVkT3V0OnUsdGltZW91dDpwLHNpZ25hbDpzLGV4aXRDb2RlTmFtZTpkLGV4aXRDb2RlOmgsaXNDYW5jZWxlZDpsfSl9OiAke2N9YDtyZXR1cm4gaSBpbnN0YW5jZW9mIEVycm9yP2kubWVzc2FnZT1gJHttfVxcbiR7aS5tZXNzYWdlfWA6aT1uZXcgRXJyb3IobSksaS5jb21tYW5kPWMsZGVsZXRlIGkuY29kZSxpLmV4aXRDb2RlPWgsaS5leGl0Q29kZU5hbWU9ZCxpLnN0ZG91dD1lLGkuc3RkZXJyPXQsdm9pZCAwIT09ciYmKGkuYWxsPXIpLFwiYnVmZmVyZWREYXRhXCJpbiBpJiZkZWxldGUgaS5idWZmZXJlZERhdGEsaS5mYWlsZWQ9ITAsaS50aW1lZE91dD1Cb29sZWFuKHUpLGkuaXNDYW5jZWxlZD1sLGkua2lsbGVkPWYmJiF1LGkuc2lnbmFsPXN8fHZvaWQgMCxpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcInV0aWxcIil9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPVtcInN0ZGluXCIsXCJzdGRvdXRcIixcInN0ZGVyclwiXSxvPWU9PntpZighZSlyZXR1cm47Y29uc3R7c3RkaW86dH09ZTtpZih2b2lkIDA9PT10KXJldHVybiBuLm1hcCh0PT5lW3RdKTtpZigoZT0+bi5zb21lKHQ9PnZvaWQgMCE9PWVbdF0pKShlKSl0aHJvdyBuZXcgRXJyb3IoYEl0J3Mgbm90IHBvc3NpYmxlIHRvIHByb3ZpZGUgXFxgc3RkaW9cXGAgaW4gY29tYmluYXRpb24gd2l0aCBvbmUgb2YgJHtuLm1hcChlPT5gXFxgJHtlfVxcYGApLmpvaW4oXCIsIFwiKX1gKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdDtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBcXGBzdGRpb1xcYCB0byBiZSBvZiB0eXBlIFxcYHN0cmluZ1xcYCBvciBcXGBBcnJheVxcYCwgZ290IFxcYCR7dHlwZW9mIHR9XFxgYCk7Y29uc3Qgcj1NYXRoLm1heCh0Lmxlbmd0aCxuLmxlbmd0aCk7cmV0dXJuIEFycmF5LmZyb20oe2xlbmd0aDpyfSwoZSxyKT0+dFtyXSl9O2UuZXhwb3J0cz1vLGUuZXhwb3J0cy5ub2RlPWU9Pntjb25zdCB0PW8oZSk7cmV0dXJuXCJpcGNcIj09PXQ/XCJpcGNcIjp2b2lkIDA9PT10fHxcInN0cmluZ1wiPT10eXBlb2YgdD9bdCx0LHQsXCJpcGNcIl06dC5pbmNsdWRlcyhcImlwY1wiKT90OlsuLi50LFwiaXBjXCJdfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49cigzKSxvPXIoMzIpLGk9cigzNikscz0oZSx0LHIsbik9PntpZighYSh0LHIsbikpcmV0dXJuO2NvbnN0IG89dShyKTtzZXRUaW1lb3V0KCgpPT57ZShcIlNJR0tJTExcIil9LG8pLnVucmVmKCl9LGE9KGUse2ZvcmNlS2lsbEFmdGVyVGltZW91dDp0fSxyKT0+YyhlKSYmITEhPT10JiZyLGM9ZT0+ZT09PW4uY29uc3RhbnRzLnNpZ25hbHMuU0lHVEVSTXx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiU0lHVEVSTVwiPT09ZS50b1VwcGVyQ2FzZSgpLHU9KHtmb3JjZUtpbGxBZnRlclRpbWVvdXQ6ZT0hMH0pPT57aWYoITA9PT1lKXJldHVybiA1ZTM7aWYoIU51bWJlci5pc0ludGVnZXIoZSl8fGU8MCl0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCB0aGUgXFxgZm9yY2VLaWxsQWZ0ZXJUaW1lb3V0XFxgIG9wdGlvbiB0byBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyLCBnb3QgXFxgJHtlfVxcYCAoJHt0eXBlb2YgZX0pYCk7cmV0dXJuIGV9O2UuZXhwb3J0cz17c3Bhd25lZEtpbGw6KGUsdD1cIlNJR1RFUk1cIixyPXt9KT0+e2NvbnN0IG49ZSh0KTtyZXR1cm4gcyhlLHQscixuKSxufSxzcGF3bmVkQ2FuY2VsOihlLHQpPT57ZS5raWxsKCkmJih0LmlzQ2FuY2VsZWQ9ITApfSxzZXR1cFRpbWVvdXQ6KGUse3RpbWVvdXQ6dCxraWxsU2lnbmFsOnI9XCJTSUdURVJNXCJ9LG4pPT57aWYoMD09PXR8fHZvaWQgMD09PXQpcmV0dXJuIG47aWYoIU51bWJlci5pc0ludGVnZXIodCl8fHQ8MCl0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCB0aGUgXFxgdGltZW91dFxcYCBvcHRpb24gdG8gYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlciwgZ290IFxcYCR7dH1cXGAgKCR7dHlwZW9mIHR9KWApO2xldCBvO2NvbnN0IHM9bmV3IFByb21pc2UoKG4saSk9PntvPXNldFRpbWVvdXQoKCk9PnsoKGUsdCxyKT0+e2Uua2lsbCh0KSxyKE9iamVjdC5hc3NpZ24obmV3IEVycm9yKFwiVGltZWQgb3V0XCIpLHt0aW1lZE91dDohMCxzaWduYWw6dH0pKX0pKGUscixpKX0sdCl9KSxhPWkobiwoKT0+e2NsZWFyVGltZW91dChvKX0pO3JldHVybiBQcm9taXNlLnJhY2UoW3MsYV0pfSxzZXRFeGl0SGFuZGxlcjooZSx7Y2xlYW51cDp0LGRldGFjaGVkOnJ9LG4pPT57aWYoIXR8fHIpcmV0dXJuIG47Y29uc3Qgcz1vKCgpPT57ZS5raWxsKCl9KTtyZXR1cm4gaShuLHMpfX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbixvPXIoMzMpLGk9cigzNCkscz1yKDM1KTtmdW5jdGlvbiBhKCl7bCYmKGw9ITEsaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RyeXtwcm9jZXNzLnJlbW92ZUxpc3RlbmVyKGUsdVtlXSl9Y2F0Y2goZSl7fX0pLHByb2Nlc3MuZW1pdD1oLHByb2Nlc3MucmVhbGx5RXhpdD1wLG4uY291bnQtPTEpfWZ1bmN0aW9uIGMoZSx0LHIpe24uZW1pdHRlZFtlXXx8KG4uZW1pdHRlZFtlXT0hMCxuLmVtaXQoZSx0LHIpKX1cImZ1bmN0aW9uXCIhPXR5cGVvZiBzJiYocz1zLkV2ZW50RW1pdHRlcikscHJvY2Vzcy5fX3NpZ25hbF9leGl0X2VtaXR0ZXJfXz9uPXByb2Nlc3MuX19zaWduYWxfZXhpdF9lbWl0dGVyX186KChuPXByb2Nlc3MuX19zaWduYWxfZXhpdF9lbWl0dGVyX189bmV3IHMpLmNvdW50PTAsbi5lbWl0dGVkPXt9KSxuLmluZmluaXRlfHwobi5zZXRNYXhMaXN0ZW5lcnMoMS8wKSxuLmluZmluaXRlPSEwKSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtvLmVxdWFsKHR5cGVvZiBlLFwiZnVuY3Rpb25cIixcImEgY2FsbGJhY2sgbXVzdCBiZSBwcm92aWRlZCBmb3IgZXhpdCBoYW5kbGVyXCIpLCExPT09bCYmZigpO3ZhciByPVwiZXhpdFwiO3QmJnQuYWx3YXlzTGFzdCYmKHI9XCJhZnRlcmV4aXRcIik7cmV0dXJuIG4ub24ocixlKSxmdW5jdGlvbigpe24ucmVtb3ZlTGlzdGVuZXIocixlKSwwPT09bi5saXN0ZW5lcnMoXCJleGl0XCIpLmxlbmd0aCYmMD09PW4ubGlzdGVuZXJzKFwiYWZ0ZXJleGl0XCIpLmxlbmd0aCYmYSgpfX0sZS5leHBvcnRzLnVubG9hZD1hO3ZhciB1PXt9O2kuZm9yRWFjaChmdW5jdGlvbihlKXt1W2VdPWZ1bmN0aW9uKCl7cHJvY2Vzcy5saXN0ZW5lcnMoZSkubGVuZ3RoPT09bi5jb3VudCYmKGEoKSxjKFwiZXhpdFwiLG51bGwsZSksYyhcImFmdGVyZXhpdFwiLG51bGwsZSkscHJvY2Vzcy5raWxsKHByb2Nlc3MucGlkLGUpKX19KSxlLmV4cG9ydHMuc2lnbmFscz1mdW5jdGlvbigpe3JldHVybiBpfSxlLmV4cG9ydHMubG9hZD1mO3ZhciBsPSExO2Z1bmN0aW9uIGYoKXtsfHwobD0hMCxuLmNvdW50Kz0xLGk9aS5maWx0ZXIoZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBwcm9jZXNzLm9uKGUsdVtlXSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSkscHJvY2Vzcy5lbWl0PW0scHJvY2Vzcy5yZWFsbHlFeGl0PWQpfXZhciBwPXByb2Nlc3MucmVhbGx5RXhpdDtmdW5jdGlvbiBkKGUpe3Byb2Nlc3MuZXhpdENvZGU9ZXx8MCxjKFwiZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCksYyhcImFmdGVyZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCkscC5jYWxsKHByb2Nlc3MscHJvY2Vzcy5leGl0Q29kZSl9dmFyIGg9cHJvY2Vzcy5lbWl0O2Z1bmN0aW9uIG0oZSx0KXtpZihcImV4aXRcIj09PWUpe3ZvaWQgMCE9PXQmJihwcm9jZXNzLmV4aXRDb2RlPXQpO3ZhciByPWguYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBjKFwiZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCksYyhcImFmdGVyZXhpdFwiLHByb2Nlc3MuZXhpdENvZGUsbnVsbCkscn1yZXR1cm4gaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwiYXNzZXJ0XCIpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1bXCJTSUdBQlJUXCIsXCJTSUdBTFJNXCIsXCJTSUdIVVBcIixcIlNJR0lOVFwiLFwiU0lHVEVSTVwiXSxcIndpbjMyXCIhPT1wcm9jZXNzLnBsYXRmb3JtJiZlLmV4cG9ydHMucHVzaChcIlNJR1ZUQUxSTVwiLFwiU0lHWENQVVwiLFwiU0lHWEZTWlwiLFwiU0lHVVNSMlwiLFwiU0lHVFJBUFwiLFwiU0lHU1lTXCIsXCJTSUdRVUlUXCIsXCJTSUdJT1RcIiksXCJsaW51eFwiPT09cHJvY2Vzcy5wbGF0Zm9ybSYmZS5leHBvcnRzLnB1c2goXCJTSUdJT1wiLFwiU0lHUE9MTFwiLFwiU0lHUFdSXCIsXCJTSUdTVEtGTFRcIixcIlNJR1VOVVNFRFwiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcImV2ZW50c1wiKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1hc3luYyhlLHQ9KCgpPT57fSkpPT57bGV0IHI7dHJ5e3I9YXdhaXQgZX1jYXRjaChlKXt0aHJvdyBhd2FpdCB0KCksZX1yZXR1cm4gYXdhaXQgdCgpLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj1yKDM4KSxvPXIoMzkpLGk9cig0NCkscz1hc3luYyhlLHQpPT57aWYoZSl7ZS5kZXN0cm95KCk7dHJ5e3JldHVybiBhd2FpdCB0fWNhdGNoKGUpe3JldHVybiBlLmJ1ZmZlcmVkRGF0YX19fSxhPShlLHtlbmNvZGluZzp0LGJ1ZmZlcjpyLG1heEJ1ZmZlcjpufSk9PntpZihlKXJldHVybiByP3Q/byhlLHtlbmNvZGluZzp0LG1heEJ1ZmZlcjpufSk6by5idWZmZXIoZSx7bWF4QnVmZmVyOm59KTpuZXcgUHJvbWlzZSgodCxyKT0+e2Uub25jZShcImVuZFwiLHQpLm9uY2UoXCJlcnJvclwiLHIpfSl9O2UuZXhwb3J0cz17aGFuZGxlSW5wdXQ6KGUsdCk9Pnt2b2lkIDAhPT10JiZ2b2lkIDAhPT1lLnN0ZGluJiYobih0KT90LnBpcGUoZS5zdGRpbik6ZS5zdGRpbi5lbmQodCkpfSxtYWtlQWxsU3RyZWFtOmU9PntpZighZS5zdGRvdXQmJiFlLnN0ZGVycilyZXR1cm47Y29uc3QgdD1pKCk7cmV0dXJuIGUuc3Rkb3V0JiZ0LmFkZChlLnN0ZG91dCksZS5zdGRlcnImJnQuYWRkKGUuc3RkZXJyKSx0fSxnZXRTcGF3bmVkUmVzdWx0OmFzeW5jKHtzdGRvdXQ6ZSxzdGRlcnI6dCxhbGw6cn0se2VuY29kaW5nOm4sYnVmZmVyOm8sbWF4QnVmZmVyOml9LGMpPT57Y29uc3QgdT1hKGUse2VuY29kaW5nOm4sYnVmZmVyOm8sbWF4QnVmZmVyOml9KSxsPWEodCx7ZW5jb2Rpbmc6bixidWZmZXI6byxtYXhCdWZmZXI6aX0pLGY9YShyLHtlbmNvZGluZzpuLGJ1ZmZlcjpvLG1heEJ1ZmZlcjoyKml9KTt0cnl7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFtjLHUsbCxmXSl9Y2F0Y2gobil7cmV0dXJuIFByb21pc2UuYWxsKFt7ZXJyb3I6bixjb2RlOm4uY29kZSxzaWduYWw6bi5zaWduYWwsdGltZWRPdXQ6bi50aW1lZE91dH0scyhlLHUpLHModCxsKSxzKHIsZildKX19LHZhbGlkYXRlSW5wdXRTeW5jOih7aW5wdXQ6ZX0pPT57aWYobihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlIGBpbnB1dGAgb3B0aW9uIGNhbm5vdCBiZSBhIHN0cmVhbSBpbiBzeW5jIG1vZGVcIil9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0IG49ZT0+bnVsbCE9PWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnBpcGU7bi53cml0YWJsZT1lPT5uKGUpJiYhMSE9PWUud3JpdGFibGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuX3dyaXRlJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fd3JpdGFibGVTdGF0ZSxuLnJlYWRhYmxlPWU9Pm4oZSkmJiExIT09ZS5yZWFkYWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fcmVhZCYmXCJvYmplY3RcIj09dHlwZW9mIGUuX3JlYWRhYmxlU3RhdGUsbi5kdXBsZXg9ZT0+bi53cml0YWJsZShlKSYmbi5yZWFkYWJsZShlKSxuLnRyYW5zZm9ybT1lPT5uLmR1cGxleChlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fdHJhbnNmb3JtJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fdHJhbnNmb3JtU3RhdGUsZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtjb25zdCBuPXIoNDApLG89cig0Myk7Y2xhc3MgaSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXhCdWZmZXIgZXhjZWVkZWRcIiksdGhpcy5uYW1lPVwiTWF4QnVmZmVyRXJyb3JcIn19YXN5bmMgZnVuY3Rpb24gcyhlLHQpe2lmKCFlKXJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJFeHBlY3RlZCBhIHN0cmVhbVwiKSk7dD17bWF4QnVmZmVyOjEvMCwuLi50fTtjb25zdHttYXhCdWZmZXI6cn09dDtsZXQgcztyZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKGEsYyk9Pntjb25zdCB1PWU9PntlJiYoZS5idWZmZXJlZERhdGE9cy5nZXRCdWZmZXJlZFZhbHVlKCkpLGMoZSl9OyhzPW4oZSxvKHQpLGU9PntlP3UoZSk6YSgpfSkpLm9uKFwiZGF0YVwiLCgpPT57cy5nZXRCdWZmZXJlZExlbmd0aCgpPnImJnUobmV3IGkpfSl9KSxzLmdldEJ1ZmZlcmVkVmFsdWUoKX1lLmV4cG9ydHM9cyxlLmV4cG9ydHMuZGVmYXVsdD1zLGUuZXhwb3J0cy5idWZmZXI9KGUsdCk9PnMoZSx7Li4udCxlbmNvZGluZzpcImJ1ZmZlclwifSksZS5leHBvcnRzLmFycmF5PShlLHQpPT5zKGUsey4uLnQsYXJyYXk6ITB9KSxlLmV4cG9ydHMuTWF4QnVmZmVyRXJyb3I9aX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNCksbz1yKDQyKSxpPXIoMCkscz1mdW5jdGlvbigpe30sYT0vXnY/XFwuMC8udGVzdChwcm9jZXNzLnZlcnNpb24pLGM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX0sdT1mdW5jdGlvbihlLHQscix1KXt1PW4odSk7dmFyIGw9ITE7ZS5vbihcImNsb3NlXCIsZnVuY3Rpb24oKXtsPSEwfSksbyhlLHtyZWFkYWJsZTp0LHdyaXRhYmxlOnJ9LGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIHUoZSk7bD0hMCx1KCl9KTt2YXIgZj0hMTtyZXR1cm4gZnVuY3Rpb24odCl7aWYoIWwmJiFmKXJldHVybiBmPSEwLGZ1bmN0aW9uKGUpe3JldHVybiEhYSYmKCEhaSYmKChlIGluc3RhbmNlb2YoaS5SZWFkU3RyZWFtfHxzKXx8ZSBpbnN0YW5jZW9mKGkuV3JpdGVTdHJlYW18fHMpKSYmYyhlLmNsb3NlKSkpfShlKT9lLmNsb3NlKHMpOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhlYWRlciYmYyhlLmFib3J0KX0oZSk/ZS5hYm9ydCgpOmMoZS5kZXN0cm95KT9lLmRlc3Ryb3koKTp2b2lkIHUodHx8bmV3IEVycm9yKFwic3RyZWFtIHdhcyBkZXN0cm95ZWRcIikpfX0sbD1mdW5jdGlvbihlKXtlKCl9LGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5waXBlKHQpfTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykscj1jKHRbdC5sZW5ndGgtMV18fHMpJiZ0LnBvcCgpfHxzO2lmKEFycmF5LmlzQXJyYXkodFswXSkmJih0PXRbMF0pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwicHVtcCByZXF1aXJlcyB0d28gc3RyZWFtcyBwZXIgbWluaW11bVwiKTt2YXIgbj10Lm1hcChmdW5jdGlvbihvLGkpe3ZhciBzPWk8dC5sZW5ndGgtMTtyZXR1cm4gdShvLHMsaT4wLGZ1bmN0aW9uKHQpe2V8fChlPXQpLHQmJm4uZm9yRWFjaChsKSxzfHwobi5mb3JFYWNoKGwpLHIoZSkpfSl9KTtyZXR1cm4gdC5yZWR1Y2UoZil9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQscil7aWYodCYmcilyZXR1cm4gZSh0KShyKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJuZWVkIHdyYXBwZXIgZnVuY3Rpb25cIik7T2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPXRbZV19KTtyZXR1cm4gbjtmdW5jdGlvbiBuKCl7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxyPTA7cjxlLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07dmFyIG49dC5hcHBseSh0aGlzLGUpLG89ZVtlLmxlbmd0aC0xXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIT09byYmT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPW9bZV19KSxufX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQpLG89ZnVuY3Rpb24oKXt9LGk9ZnVuY3Rpb24oZSx0LHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIGkoZSxudWxsLHQpO3R8fCh0PXt9KSxyPW4ocnx8byk7dmFyIHM9ZS5fd3JpdGFibGVTdGF0ZSxhPWUuX3JlYWRhYmxlU3RhdGUsYz10LnJlYWRhYmxlfHwhMSE9PXQucmVhZGFibGUmJmUucmVhZGFibGUsdT10LndyaXRhYmxlfHwhMSE9PXQud3JpdGFibGUmJmUud3JpdGFibGUsbD1mdW5jdGlvbigpe2Uud3JpdGFibGV8fGYoKX0sZj1mdW5jdGlvbigpe3U9ITEsY3x8ci5jYWxsKGUpfSxwPWZ1bmN0aW9uKCl7Yz0hMSx1fHxyLmNhbGwoZSl9LGQ9ZnVuY3Rpb24odCl7ci5jYWxsKGUsdD9uZXcgRXJyb3IoXCJleGl0ZWQgd2l0aCBlcnJvciBjb2RlOiBcIit0KTpudWxsKX0saD1mdW5jdGlvbih0KXtyLmNhbGwoZSx0KX0sbT1mdW5jdGlvbigpe3JldHVybighY3x8YSYmYS5lbmRlZCkmJighdXx8cyYmcy5lbmRlZCk/dm9pZCAwOnIuY2FsbChlLG5ldyBFcnJvcihcInByZW1hdHVyZSBjbG9zZVwiKSl9LHY9ZnVuY3Rpb24oKXtlLnJlcS5vbihcImZpbmlzaFwiLGYpfTtyZXR1cm4hZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0SGVhZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmFib3J0fShlKT91JiYhcyYmKGUub24oXCJlbmRcIixsKSxlLm9uKFwiY2xvc2VcIixsKSk6KGUub24oXCJjb21wbGV0ZVwiLGYpLGUub24oXCJhYm9ydFwiLG0pLGUucmVxP3YoKTplLm9uKFwicmVxdWVzdFwiLHYpKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGRpbyYmQXJyYXkuaXNBcnJheShlLnN0ZGlvKSYmMz09PWUuc3RkaW8ubGVuZ3RofShlKSYmZS5vbihcImV4aXRcIixkKSxlLm9uKFwiZW5kXCIscCksZS5vbihcImZpbmlzaFwiLGYpLCExIT09dC5lcnJvciYmZS5vbihcImVycm9yXCIsaCksZS5vbihcImNsb3NlXCIsbSksZnVuY3Rpb24oKXtlLnJlbW92ZUxpc3RlbmVyKFwiY29tcGxldGVcIixmKSxlLnJlbW92ZUxpc3RlbmVyKFwiYWJvcnRcIixtKSxlLnJlbW92ZUxpc3RlbmVyKFwicmVxdWVzdFwiLHYpLGUucmVxJiZlLnJlcS5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLGYpLGUucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixsKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixsKSxlLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZiksZS5yZW1vdmVMaXN0ZW5lcihcImV4aXRcIixkKSxlLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIscCksZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsaCksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbSl9fTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2NvbnN0e1Bhc3NUaHJvdWdoOm59PXIoNSk7ZS5leHBvcnRzPWU9PntlPXsuLi5lfTtjb25zdHthcnJheTp0fT1lO2xldHtlbmNvZGluZzpyfT1lO2NvbnN0IG89XCJidWZmZXJcIj09PXI7bGV0IGk9ITE7dD9pPSEocnx8byk6cj1yfHxcInV0ZjhcIixvJiYocj1udWxsKTtjb25zdCBzPW5ldyBuKHtvYmplY3RNb2RlOml9KTtyJiZzLnNldEVuY29kaW5nKHIpO2xldCBhPTA7Y29uc3QgYz1bXTtyZXR1cm4gcy5vbihcImRhdGFcIixlPT57Yy5wdXNoKGUpLGk/YT1jLmxlbmd0aDphKz1lLmxlbmd0aH0pLHMuZ2V0QnVmZmVyZWRWYWx1ZT0oKT0+dD9jOm8/QnVmZmVyLmNvbmNhdChjLGEpOmMuam9pbihcIlwiKSxzLmdldEJ1ZmZlcmVkTGVuZ3RoPSgpPT5hLHN9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3R7UGFzc1Rocm91Z2g6bn09cig1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PW5ldyBuKHtvYmplY3RNb2RlOiEwfSk7cmV0dXJuIHQuc2V0TWF4TGlzdGVuZXJzKDApLHQuYWRkPXIsdC5pc0VtcHR5PW8sdC5vbihcInVucGlwZVwiLGkpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuZm9yRWFjaChyKSx0O2Z1bmN0aW9uIHIobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/KG4uZm9yRWFjaChyKSx0aGlzKTooZS5wdXNoKG4pLG4ub25jZShcImVuZFwiLGkuYmluZChudWxsLG4pKSxuLm9uY2UoXCJlcnJvclwiLHQuZW1pdC5iaW5kKHQsXCJlcnJvclwiKSksbi5waXBlKHQse2VuZDohMX0pLHRoaXMpfWZ1bmN0aW9uIG8oKXtyZXR1cm4gMD09ZS5sZW5ndGh9ZnVuY3Rpb24gaShyKXshKGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1yfSkpLmxlbmd0aCYmdC5yZWFkYWJsZSYmdC5lbmQoKX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj0oZSx0LHIpPT57Y29uc3Qgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyguLi5lKT0+dCgpW3JdKC4uLmUpOnRbcl0uYmluZCh0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTpuLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSl9O2UuZXhwb3J0cz17bWVyZ2VQcm9taXNlOihlLHQpPT4obihlLHQsXCJ0aGVuXCIpLG4oZSx0LFwiY2F0Y2hcIiksUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSYmbihlLHQsXCJmaW5hbGx5XCIpLGUpLGdldFNwYXduZWRQcm9taXNlOmU9Pm5ldyBQcm9taXNlKCh0LHIpPT57ZS5vbihcImV4aXRcIiwoZSxyKT0+e3Qoe2NvZGU6ZSxzaWduYWw6cn0pfSksZS5vbihcImVycm9yXCIsZT0+e3IoZSl9KSxlLnN0ZGluJiZlLnN0ZGluLm9uKFwiZXJyb3JcIixlPT57cihlKX0pfSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbj0vICsvZyxvPShlLHQscik9PntpZigwPT09cilyZXR1cm5bdF07Y29uc3Qgbj1lW2UubGVuZ3RoLTFdO3JldHVybiBuLmVuZHNXaXRoKFwiXFxcXFwiKT9bLi4uZS5zbGljZSgwLC0xKSxgJHtuLnNsaWNlKDAsLTEpfSAke3R9YF06Wy4uLmUsdF19O2UuZXhwb3J0cz17am9pbkNvbW1hbmQ6KGUsdD1bXSk9PkFycmF5LmlzQXJyYXkodCk/W2UsLi4udF0uam9pbihcIiBcIik6ZSxwYXJzZUNvbW1hbmQ6ZT0+ZS50cmltKCkuc3BsaXQobikucmVkdWNlKG8sW10pfX1dKX0pOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=