!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";const r=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};e.exports=r,e.exports.default=r},function(e,t){e.exports=require("os")},function(e,t,n){var r=n(38);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};const o=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(8)),i=n(0);e.exports=class{constructor(e){this.context=e}log(e){return this.context.logger.log(e)}warn(e){return this.context.logger.warn(e)}get installationPpkg(){return i.join(__dirname,"clean_deploy.ppkg")}check(){return r(this,void 0,void 0,(function*(){if(this.log("Checking that the unit needs to be performed"),"win32"===this.context.platform)return!0}))}perform(){return r(this,void 0,void 0,(function*(){let e=!1;try{this.log(`Running ${this.installationPpkg}, args=${["-QuietInstall"]}...`);const t=yield o.default("powershell.exe",[`Install-ProvisioningPackage -PackagePath '${this.installationPpkg}' -QuietInstall`]);this.log("Finishing Installation"),this.log("Result: "+t.exitCode),this.log("Stdout: "+t.stdout),this.log("Stderr: "+t.stderr),e=0===t.exitCode}catch(e){this.warn("Error while installing application: "+e)}return e}))}}},function(e,t,n){"use strict";const r=n(0),o=n(2),i=n(9),s=n(21),c=n(22),a=n(23),u=n(25),l=n(27),{spawnedKill:f,spawnedCancel:d,setupTimeout:p,setExitHandler:m}=n(28),{handleInput:h,getSpawnedResult:x,makeAllStream:g,validateInputSync:y}=n(34),{mergePromise:w,getSpawnedPromise:v}=n(42),{joinCommand:b,parseCommand:E}=n(43),S=(e,t,n={})=>{const o=i._parse(e,t,n);return e=o.command,t=o.args,(n={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(n=o.options).cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0,...n,windowsHide:!0}).env=(({env:e,extendEnv:t,preferLocal:n,localDir:r})=>{const o=t?{...process.env,...e}:e;return n?c.env({env:o,cwd:r}):o})(n),n.stdio=l(n),"win32"===process.platform&&"cmd"===r.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:n,parsed:o}},C=(e,t,n)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?s(t):t:void 0===n?void 0:"",P=(e,t,n)=>{const r=S(e,t,n),s=b(e,t);let c;try{c=o.spawn(r.file,r.args,r.options)}catch(e){const t=new o.ChildProcess,n=Promise.reject(u({error:e,stdout:"",stderr:"",all:"",command:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return w(t,n)}const l=v(c),y=p(c,r.options,l),E=m(c,r.options,y),P={isCanceled:!1};c.kill=f.bind(null,c.kill.bind(c)),c.cancel=d.bind(null,c,P);const T=a(async()=>{const[{error:e,code:t,signal:n,timedOut:o},i,a,l]=await x(c,r.options,E),f=C(r.options,i),d=C(r.options,a),p=C(r.options,l);if(e||0!==t||null!==n){const i=u({error:e,code:t,signal:n,stdout:f,stderr:d,all:p,command:s,parsed:r,timedOut:o,isCanceled:P.isCanceled,killed:c.killed});if(!r.options.reject)return i;throw i}return{command:s,exitCode:0,exitCodeName:"SUCCESS",stdout:f,stderr:d,all:p,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return i._enoent.hookChildProcess(c,r.parsed),h(c,r.options.input),c.all=g(c),w(c,T)};e.exports=P,e.exports.sync=(e,t,n)=>{const r=S(e,t,n),i=b(e,t);let s;y(r.options);try{s=o.spawnSync(r.file,r.args,r.options)}catch(e){throw u({error:e,stdout:"",stderr:"",all:"",command:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}if(s.stdout=C(r.options,s.stdout,s.error),s.stderr=C(r.options,s.stderr,s.error),s.error||0!==s.status||null!==s.signal){const e=u({...s,code:s.status,command:i,parsed:r,timedOut:s.error&&"ETIMEDOUT"===s.error.code,isCanceled:!1,killed:null!==s.signal});if(!r.options.reject)return e;throw e}return{command:i,exitCode:0,exitCodeName:"SUCCESS",stdout:s.stdout,stderr:s.stderr,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},e.exports.command=(e,t)=>{const[n,...r]=E(e);return P(n,r,t)},e.exports.commandSync=(e,t)=>{const[n,...r]=E(e);return P.sync(n,r,t)},e.exports.node=(e,t,n={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(n=t,t=[]);const r=l.node(n),{nodePath:o=process.execPath,nodeOptions:i=process.execArgv}=n;return P(o,[...i,e,...Array.isArray(t)?t:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}},function(e,t,n){"use strict";const r=n(2),o=n(10),i=n(20);function s(e,t,n){const s=o(e,t,n),c=r.spawn(s.command,s.args,s.options);return i.hookChildProcess(c,s),c}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,n){const s=o(e,t,n),c=r.spawnSync(s.command,s.args,s.options);return c.error=c.error||i.verifyENOENTSync(c.status,s),c},e.exports._parse=o,e.exports._enoent=i},function(e,t,n){"use strict";const r=n(0),o=n(11),i=n(16),s=n(17),c="win32"===process.platform,a=/\.(?:com|exe)$/i,u=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function l(e){if(!c)return e;const t=function(e){e.file=o(e);const t=e.file&&s(e.file);return t?(e.args.unshift(e.file),e.command=t,o(e)):e.file}(e),n=!a.test(t);if(e.options.forceShell||n){const n=u.test(t);e.command=r.normalize(e.command),e.command=i.command(e.command),e.args=e.args.map(e=>i.argument(e,n));const o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}e.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?r:l(r)}},function(e,t,n){"use strict";const r=n(0),o=n(12),i=n(3)();function s(e,t){const n=process.cwd(),s=null!=e.options.cwd,c=s&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let a;try{a=o.sync(e.command,{path:(e.options.env||process.env)[i],pathExt:t?r.delimiter:void 0})}catch(e){}finally{c&&process.chdir(n)}return a&&(a=r.resolve(s?e.options.cwd:"",a)),a}e.exports=function(e){return s(e)||s(e,!0)}},function(e,t,n){const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,o=n(0),i=r?";":":",s=n(13),c=e=>Object.assign(new Error("not found: "+e),{code:"ENOENT"}),a=(e,t)=>{const n=t.colon||i,o=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",c=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==c[0]&&c.unshift(""),{pathEnv:o,pathExt:c,pathExtExe:s}},u=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:i,pathExtExe:u}=a(e,t),l=[],f=n=>new Promise((i,s)=>{if(n===r.length)return t.all&&l.length?i(l):s(c(e));const a=r[n],u=/^".*"$/.test(a)?a.slice(1,-1):a,f=o.join(u,e),p=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;i(d(p,n,0))}),d=(e,n,r)=>new Promise((o,c)=>{if(r===i.length)return o(f(n+1));const a=i[r];s(e+a,{pathExt:u},(i,s)=>{if(!i&&s){if(!t.all)return o(e+a);l.push(e+a)}return o(d(e,n,r+1))})});return n?f(0).then(e=>n(null,e),n):f(0)};e.exports=u,u.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:i}=a(e,t),u=[];for(let c=0;c<n.length;c++){const a=n[c],l=/^".*"$/.test(a)?a.slice(1,-1):a,f=o.join(l,e),d=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let e=0;e<r.length;e++){const n=d+r[e];try{if(s.sync(n,{pathExt:i})){if(!t.all)return n;u.push(n)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw c(e)}},function(e,t,n){var r;n(1);function o(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){o(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}r="win32"===process.platform||global.TESTING_WINDOWS?n(14):n(15),e.exports=o,o.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},function(e,t,n){e.exports=i,i.sync=function(e,t){return o(r.statSync(e),e,t)};var r=n(1);function o(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var o=n[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,n)}function i(e,t,n){r.stat(e,(function(r,i){n(r,!r&&o(i,e,t))}))}},function(e,t,n){e.exports=o,o.sync=function(e,t){return i(r.statSync(e),t)};var r=n(1);function o(e,t,n){r.stat(e,(function(e,r){n(e,!e&&i(r,t))}))}function i(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),a=parseInt("010",8),u=parseInt("001",8),l=c|a;return n&u||n&a&&o===s||n&c&&r===i||n&l&&0===i}(e,t)}},function(e,t,n){"use strict";const r=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e=e.replace(r,"^$1")},e.exports.argument=function(e,t){return e=(e=`"${e=(e=(e=""+e).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(r,"^$1"),t&&(e=e.replace(r,"^$1")),e}},function(e,t,n){"use strict";const r=n(1),o=n(18);e.exports=function(e){const t=Buffer.alloc(150);let n;try{n=r.openSync(e,"r"),r.readSync(n,t,0,150,0),r.closeSync(n)}catch(e){}return o(t.toString())}},function(e,t,n){"use strict";const r=n(19);e.exports=(e="")=>{const t=e.match(r);if(!t)return null;const[n,o]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return"env"===i?o:o?`${i} ${o}`:i}},function(e,t,n){"use strict";e.exports=/^#!(.*)/},function(e,t,n){"use strict";const r="win32"===process.platform;function o(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function i(e,t){return r&&1===e&&!t.file?o(t.original,"spawn"):null}e.exports={hookChildProcess:function(e,t){if(!r)return;const n=e.emit;e.emit=function(r,o){if("exit"===r){const r=i(o,t);if(r)return n.call(e,"error",r)}return n.apply(e,arguments)}},verifyENOENT:i,verifyENOENTSync:function(e,t){return r&&1===e&&!t.file?o(t.original,"spawnSync"):null},notFoundError:o}},function(e,t,n){"use strict";e.exports=e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),n="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===n&&(e=e.slice(0,e.length-1)),e}},function(e,t,n){"use strict";const r=n(0),o=n(3),i=e=>{let t;e={cwd:process.cwd(),path:process.env[o()],...e};let n=r.resolve(e.cwd);const i=[];for(;t!==n;)i.push(r.join(n,"node_modules/.bin")),t=n,n=r.resolve(n,"..");return i.push(r.dirname(process.execPath)),i.concat(e.path).join(r.delimiter)};e.exports=i,e.exports.default=i,e.exports.env=t=>{const n={...(t={env:process.env,...t}).env},r=o({env:n});return t.path=n[r],n[r]=e.exports(t),n}},function(e,t,n){"use strict";const r=n(24),o=new WeakMap,i=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let n,i=!1,s=0;const c=e.displayName||e.name||"<anonymous>",a=function(...r){if(o.set(a,++s),i){if(!0===t.throw)throw new Error(`Function \`${c}\` can only be called once`);return n}return i=!0,n=e.apply(this,r),e=null,n};return r(a,e),o.set(a,s),a};e.exports=i,e.exports.default=i,e.exports.callCount=e=>{if(!o.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return o.get(e)}},function(e,t,n){"use strict";const r=(e,t)=>{for(const n of Reflect.ownKeys(t))Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n));return e};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=n(4),o=n(26);e.exports=({stdout:e,stderr:t,all:n,error:i,signal:s,code:c,command:a,timedOut:u,isCanceled:l,killed:f,parsed:{options:{timeout:d}}})=>{const[p,m]=((e,t)=>e&&e.code?[e.code,r.constants.errno[e.code]]:Number.isInteger(t)?[o.getSystemErrorName(-t),t]:[])(i,c),h=`Command ${(({timedOut:e,timeout:t,signal:n,exitCodeName:r,exitCode:o,isCanceled:i})=>e?`timed out after ${t} milliseconds`:i?"was canceled":n?"was killed with "+n:void 0!==o?`failed with exit code ${o} (${r})`:"failed")({timedOut:u,timeout:d,signal:s,exitCodeName:p,exitCode:m,isCanceled:l})}: ${a}`;return i instanceof Error?(i.originalMessage=i.message,i.message=`${h}\n${i.message}`):i=new Error(h),i.command=a,delete i.code,i.exitCode=m,i.exitCodeName=p,i.stdout=e,i.stderr=t,void 0!==n&&(i.all=n),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(u),i.isCanceled=l,i.killed=f&&!u,i.signal=s||void 0,i}},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";const r=["stdin","stdout","stderr"],o=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return r.map(t=>e[t]);if((e=>r.some(t=>void 0!==e[t]))(e))throw new Error("It's not possible to provide `stdio` in combination with one of "+r.map(e=>`\`${e}\``).join(", "));if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const n=Math.max(t.length,r.length);return Array.from({length:n},(e,n)=>t[n])};e.exports=o,e.exports.node=e=>{const t=o(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}},function(e,t,n){"use strict";const r=n(4),o=n(29),i=n(33),s=(e,t,n,r)=>{if(!c(t,n,r))return;const o=u(n);setTimeout(()=>{e("SIGKILL")},o).unref()},c=(e,{forceKillAfterTimeout:t},n)=>a(e)&&!1!==t&&n,a=e=>e===r.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),u=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e};e.exports={spawnedKill:(e,t="SIGTERM",n={})=>{const r=e(t);return s(e,t,n,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:n="SIGTERM"},r)=>{if(0===t||void 0===t)return r;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let o;const s=new Promise((r,i)=>{o=setTimeout(()=>{((e,t,n)=>{e.kill(t),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,n,i)},t)}),c=i(r,()=>{clearTimeout(o)});return Promise.race([s,c])},setExitHandler:(e,{cleanup:t,detached:n},r)=>{if(!t||n)return r;const s=o(()=>{e.kill()});return i(r,s)}}},function(e,t,n){var r,o=n(30),i=n(31),s=/^win/i.test(process.platform),c=n(32);function a(){f&&(f=!1,i.forEach((function(e){try{process.removeListener(e,l[e])}catch(e){}})),process.emit=h,process.reallyExit=p,r.count-=1)}function u(e,t,n){r.emitted[e]||(r.emitted[e]=!0,r.emit(e,t,n))}"function"!=typeof c&&(c=c.EventEmitter),process.__signal_exit_emitter__?r=process.__signal_exit_emitter__:((r=process.__signal_exit_emitter__=new c).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===f&&d();var n="exit";t&&t.alwaysLast&&(n="afterexit");return r.on(n,e),function(){r.removeListener(n,e),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&a()}},e.exports.unload=a;var l={};i.forEach((function(e){l[e]=function(){process.listeners(e).length===r.count&&(a(),u("exit",null,e),u("afterexit",null,e),s&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}})),e.exports.signals=function(){return i},e.exports.load=d;var f=!1;function d(){f||(f=!0,r.count+=1,i=i.filter((function(e){try{return process.on(e,l[e]),!0}catch(e){return!1}})),process.emit=x,process.reallyExit=m)}var p=process.reallyExit;function m(e){process.exitCode=e||0,u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),p.call(process,process.exitCode)}var h=process.emit;function x(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=h.apply(this,arguments);return u("exit",process.exitCode,null),u("afterexit",process.exitCode,null),n}return h.apply(this,arguments)}},function(e,t){e.exports=require("assert")},function(e,t){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";e.exports=async(e,t=(()=>{}))=>{let n;try{n=await e}catch(e){throw await t(),e}return await t(),n}},function(e,t,n){"use strict";const r=n(35),o=n(36),i=n(41),s=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},c=(e,{encoding:t,buffer:n,maxBuffer:r})=>{if(e)return n?t?o(e,{encoding:t,maxBuffer:r}):o.buffer(e,{maxBuffer:r}):new Promise((t,n)=>{e.once("end",t).once("error",n)})};e.exports={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(r(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:e=>{if(!e.stdout&&!e.stderr)return;const t=i();return e.stdout&&t.add(e.stdout),e.stderr&&t.add(e.stderr),t},getSpawnedResult:async({stdout:e,stderr:t,all:n},{encoding:r,buffer:o,maxBuffer:i},a)=>{const u=c(e,{encoding:r,buffer:o,maxBuffer:i}),l=c(t,{encoding:r,buffer:o,maxBuffer:i}),f=c(n,{encoding:r,buffer:o,maxBuffer:2*i});try{return await Promise.all([a,u,l,f])}catch(r){return Promise.all([{error:r,code:r.code,signal:r.signal,timedOut:r.timedOut},s(e,u),s(t,l),s(n,f)])}},validateInputSync:({input:e})=>{if(r(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}}},function(e,t,n){"use strict";const r=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;r.writable=e=>r(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,r.readable=e=>r(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,r.duplex=e=>r.writable(e)&&r.readable(e),r.transform=e=>r.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState,e.exports=r},function(e,t,n){"use strict";const r=n(37),o=n(40);class i extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function s(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:n}=t;let s;return await new Promise((c,a)=>{const u=e=>{e&&(e.bufferedData=s.getBufferedValue()),a(e)};s=r(e,o(t),e=>{e?u(e):c()}),s.on("data",()=>{s.getBufferedLength()>n&&u(new i)})}),s.getBufferedValue()}e.exports=s,e.exports.default=s,e.exports.buffer=(e,t)=>s(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>s(e,{...t,array:!0}),e.exports.MaxBufferError=i},function(e,t,n){var r=n(5),o=n(39),i=n(1),s=function(){},c=/^v?\.0/.test(process.version),a=function(e){return"function"==typeof e},u=function(e,t,n,u){u=r(u);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:n},(function(e){if(e)return u(e);l=!0,u()}));var f=!1;return function(t){if(!l&&!f)return f=!0,function(e){return!!c&&(!!i&&((e instanceof(i.ReadStream||s)||e instanceof(i.WriteStream||s))&&a(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&a(e.abort)}(e)?e.abort():a(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}},l=function(e){e()},f=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=a(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(o,i){var s=i<t.length-1;return u(o,s,i>0,(function(t){e||(e=t),t&&r.forEach(l),s||(r.forEach(l),n(e))}))}));return t.reduce(f)}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach((function(e){r[e]=o[e]})),r}}},function(e,t,n){var r=n(5),o=function(){},i=function(e,t,n){if("function"==typeof t)return i(e,null,t);t||(t={}),n=r(n||o);var s=e._writableState,c=e._readableState,a=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=!1,f=function(){e.writable||d()},d=function(){u=!1,a||n.call(e)},p=function(){a=!1,u||n.call(e)},m=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},h=function(t){n.call(e,t)},x=function(){process.nextTick(g)},g=function(){if(!l)return(!a||c&&c.ended&&!c.destroyed)&&(!u||s&&s.ended&&!s.destroyed)?void 0:n.call(e,new Error("premature close"))},y=function(){e.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!s&&(e.on("end",f),e.on("close",f)):(e.on("complete",d),e.on("abort",x),e.req?y():e.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",h),e.on("close",x),function(){l=!0,e.removeListener("complete",d),e.removeListener("abort",x),e.removeListener("request",y),e.req&&e.req.removeListener("finish",d),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("exit",m),e.removeListener("end",p),e.removeListener("error",h),e.removeListener("close",x)}};e.exports=i},function(e,t,n){"use strict";const{PassThrough:r}=n(6);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const o="buffer"===n;let i=!1;t?i=!(n||o):n=n||"utf8",o&&(n=null);const s=new r({objectMode:i});n&&s.setEncoding(n);let c=0;const a=[];return s.on("data",e=>{a.push(e),i?c=a.length:c+=e.length}),s.getBufferedValue=()=>t?a:o?Buffer.concat(a,c):a.join(""),s.getBufferedLength=()=>c,s}},function(e,t,n){"use strict";const{PassThrough:r}=n(6);e.exports=function(){var e=[],t=new r({objectMode:!0});return t.setMaxListeners(0),t.add=n,t.isEmpty=o,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),t;function n(r){return Array.isArray(r)?(r.forEach(n),this):(e.push(r),r.once("end",i.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function o(){return 0==e.length}function i(n){!(e=e.filter((function(e){return e!==n}))).length&&t.readable&&t.end()}}},function(e,t,n){"use strict";const r=(e,t,n)=>{const r="function"==typeof t?(...e)=>t()[n](...e):t[n].bind(t);Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1,configurable:!0})};e.exports={mergePromise:(e,t)=>(r(e,t,"then"),r(e,t,"catch"),Promise.prototype.finally&&r(e,t,"finally"),e),getSpawnedPromise:e=>new Promise((t,n)=>{e.on("exit",(e,n)=>{t({code:e,signal:n})}),e.on("error",e=>{n(e)}),e.stdin&&e.stdin.on("error",e=>{n(e)})})}},function(e,t,n){"use strict";const r=/ +/g,o=(e,t,n)=>{if(0===n)return[t];const r=e[e.length-1];return r.endsWith("\\")?[...e.slice(0,-1),`${r.slice(0,-1)} ${t}`]:[...e,t]};e.exports={joinCommand:(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,parseCommand:e=>e.trim().split(r).reduce(o,[])}}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBuPXQoKTtmb3IodmFyIHIgaW4gbikoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtyXT1uW3JdfX0oZ2xvYmFsLChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBuKHIpe2lmKHRbcl0pcmV0dXJuIHRbcl0uZXhwb3J0czt2YXIgbz10W3JdPXtpOnIsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtyXS5jYWxsKG8uZXhwb3J0cyxvLG8uZXhwb3J0cyxuKSxvLmw9ITAsby5leHBvcnRzfXJldHVybiBuLm09ZSxuLmM9dCxuLmQ9ZnVuY3Rpb24oZSx0LHIpe24ubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpyfSl9LG4ucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxuLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPW4oZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtpZihuLnIociksT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBvIGluIGUpbi5kKHIsbyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLG8pKTtyZXR1cm4gcn0sbi5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBuLmQodCxcImFcIix0KSx0fSxuLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LG4ucD1cIlwiLG4obi5zPTcpfShbZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcInBhdGhcIil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXJlcXVpcmUoXCJmc1wiKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9cmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPShlPXt9KT0+e2NvbnN0IHQ9ZS5lbnZ8fHByb2Nlc3MuZW52O3JldHVyblwid2luMzJcIiE9PShlLnBsYXRmb3JtfHxwcm9jZXNzLnBsYXRmb3JtKT9cIlBBVEhcIjpPYmplY3Qua2V5cyh0KS5yZXZlcnNlKCkuZmluZChlPT5cIlBBVEhcIj09PWUudG9VcHBlckNhc2UoKSl8fFwiUGF0aFwifTtlLmV4cG9ydHM9cixlLmV4cG9ydHMuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwib3NcIil9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM4KTtmdW5jdGlvbiBvKGUpe3ZhciB0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbGVkP3QudmFsdWU6KHQuY2FsbGVkPSEwLHQudmFsdWU9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtyZXR1cm4gdC5jYWxsZWQ9ITEsdH1mdW5jdGlvbiBpKGUpe3ZhciB0PWZ1bmN0aW9uKCl7aWYodC5jYWxsZWQpdGhyb3cgbmV3IEVycm9yKHQub25jZUVycm9yKTtyZXR1cm4gdC5jYWxsZWQ9ITAsdC52YWx1ZT1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbj1lLm5hbWV8fFwiRnVuY3Rpb24gd3JhcHBlZCB3aXRoIGBvbmNlYFwiO3JldHVybiB0Lm9uY2VFcnJvcj1uK1wiIHNob3VsZG4ndCBiZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2VcIix0LmNhbGxlZD0hMSx0fWUuZXhwb3J0cz1yKG8pLGUuZXhwb3J0cy5zdHJpY3Q9cihpKSxvLnByb3RvPW8oKGZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbyh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIm9uY2VTdHJpY3RcIix7dmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzKX0sY29uZmlndXJhYmxlOiEwfSl9KSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXJlcXVpcmUoXCJzdHJlYW1cIil9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIG5ldyhufHwobj1Qcm9taXNlKSkoKGZ1bmN0aW9uKG8saSl7ZnVuY3Rpb24gcyhlKXt0cnl7YShyLm5leHQoZSkpfWNhdGNoKGUpe2koZSl9fWZ1bmN0aW9uIGMoZSl7dHJ5e2Eoci50aHJvdyhlKSl9Y2F0Y2goZSl7aShlKX19ZnVuY3Rpb24gYShlKXt2YXIgdDtlLmRvbmU/byhlLnZhbHVlKToodD1lLnZhbHVlLHQgaW5zdGFuY2VvZiBuP3Q6bmV3IG4oKGZ1bmN0aW9uKGUpe2UodCl9KSkpLnRoZW4ocyxjKX1hKChyPXIuYXBwbHkoZSx0fHxbXSkpLm5leHQoKSl9KSl9O2NvbnN0IG89KHRoaXMmJnRoaXMuX19pbXBvcnREZWZhdWx0fHxmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KShuKDgpKSxpPW4oMCk7ZS5leHBvcnRzPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuY29udGV4dD1lfWxvZyhlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmxvZ2dlci5sb2coZSl9d2FybihlKXtyZXR1cm4gdGhpcy5jb250ZXh0LmxvZ2dlci53YXJuKGUpfWdldCBpbnN0YWxsYXRpb25QcGtnKCl7cmV0dXJuIGkuam9pbihfX2Rpcm5hbWUsXCJjbGVhbl9kZXBsb3kucHBrZ1wiKX1jaGVjaygpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7aWYodGhpcy5sb2coXCJDaGVja2luZyB0aGF0IHRoZSB1bml0IG5lZWRzIHRvIGJlIHBlcmZvcm1lZFwiKSxcIndpbjMyXCI9PT10aGlzLmNvbnRleHQucGxhdGZvcm0pcmV0dXJuITB9KSl9cGVyZm9ybSgpe3JldHVybiByKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24qKCl7bGV0IGU9ITE7dHJ5e3RoaXMubG9nKGBSdW5uaW5nICR7dGhpcy5pbnN0YWxsYXRpb25QcGtnfSwgYXJncz0ke1tcIi1RdWlldEluc3RhbGxcIl19Li4uYCk7Y29uc3QgdD15aWVsZCBvLmRlZmF1bHQoXCJwb3dlcnNoZWxsLmV4ZVwiLFtgSW5zdGFsbC1Qcm92aXNpb25pbmdQYWNrYWdlIC1QYWNrYWdlUGF0aCAnJHt0aGlzLmluc3RhbGxhdGlvblBwa2d9JyAtUXVpZXRJbnN0YWxsYF0pO3RoaXMubG9nKFwiRmluaXNoaW5nIEluc3RhbGxhdGlvblwiKSx0aGlzLmxvZyhcIlJlc3VsdDogXCIrdC5leGl0Q29kZSksdGhpcy5sb2coXCJTdGRvdXQ6IFwiK3Quc3Rkb3V0KSx0aGlzLmxvZyhcIlN0ZGVycjogXCIrdC5zdGRlcnIpLGU9MD09PXQuZXhpdENvZGV9Y2F0Y2goZSl7dGhpcy53YXJuKFwiRXJyb3Igd2hpbGUgaW5zdGFsbGluZyBhcHBsaWNhdGlvbjogXCIrZSl9cmV0dXJuIGV9KSl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9bigwKSxvPW4oMiksaT1uKDkpLHM9bigyMSksYz1uKDIyKSxhPW4oMjMpLHU9bigyNSksbD1uKDI3KSx7c3Bhd25lZEtpbGw6ZixzcGF3bmVkQ2FuY2VsOmQsc2V0dXBUaW1lb3V0OnAsc2V0RXhpdEhhbmRsZXI6bX09bigyOCkse2hhbmRsZUlucHV0OmgsZ2V0U3Bhd25lZFJlc3VsdDp4LG1ha2VBbGxTdHJlYW06Zyx2YWxpZGF0ZUlucHV0U3luYzp5fT1uKDM0KSx7bWVyZ2VQcm9taXNlOncsZ2V0U3Bhd25lZFByb21pc2U6dn09big0Mikse2pvaW5Db21tYW5kOmIscGFyc2VDb21tYW5kOkV9PW4oNDMpLFM9KGUsdCxuPXt9KT0+e2NvbnN0IG89aS5fcGFyc2UoZSx0LG4pO3JldHVybiBlPW8uY29tbWFuZCx0PW8uYXJncywobj17bWF4QnVmZmVyOjFlOCxidWZmZXI6ITAsc3RyaXBGaW5hbE5ld2xpbmU6ITAsZXh0ZW5kRW52OiEwLHByZWZlckxvY2FsOiExLGxvY2FsRGlyOihuPW8ub3B0aW9ucykuY3dkfHxwcm9jZXNzLmN3ZCgpLGVuY29kaW5nOlwidXRmOFwiLHJlamVjdDohMCxjbGVhbnVwOiEwLC4uLm4sd2luZG93c0hpZGU6ITB9KS5lbnY9KCh7ZW52OmUsZXh0ZW5kRW52OnQscHJlZmVyTG9jYWw6bixsb2NhbERpcjpyfSk9Pntjb25zdCBvPXQ/ey4uLnByb2Nlc3MuZW52LC4uLmV9OmU7cmV0dXJuIG4/Yy5lbnYoe2VudjpvLGN3ZDpyfSk6b30pKG4pLG4uc3RkaW89bChuKSxcIndpbjMyXCI9PT1wcm9jZXNzLnBsYXRmb3JtJiZcImNtZFwiPT09ci5iYXNlbmFtZShlLFwiLmV4ZVwiKSYmdC51bnNoaWZ0KFwiL3FcIikse2ZpbGU6ZSxhcmdzOnQsb3B0aW9uczpuLHBhcnNlZDpvfX0sQz0oZSx0LG4pPT5cInN0cmluZ1wiPT10eXBlb2YgdHx8QnVmZmVyLmlzQnVmZmVyKHQpP2Uuc3RyaXBGaW5hbE5ld2xpbmU/cyh0KTp0OnZvaWQgMD09PW4/dm9pZCAwOlwiXCIsUD0oZSx0LG4pPT57Y29uc3Qgcj1TKGUsdCxuKSxzPWIoZSx0KTtsZXQgYzt0cnl7Yz1vLnNwYXduKHIuZmlsZSxyLmFyZ3Msci5vcHRpb25zKX1jYXRjaChlKXtjb25zdCB0PW5ldyBvLkNoaWxkUHJvY2VzcyxuPVByb21pc2UucmVqZWN0KHUoe2Vycm9yOmUsc3Rkb3V0OlwiXCIsc3RkZXJyOlwiXCIsYWxsOlwiXCIsY29tbWFuZDpzLHBhcnNlZDpyLHRpbWVkT3V0OiExLGlzQ2FuY2VsZWQ6ITEsa2lsbGVkOiExfSkpO3JldHVybiB3KHQsbil9Y29uc3QgbD12KGMpLHk9cChjLHIub3B0aW9ucyxsKSxFPW0oYyxyLm9wdGlvbnMseSksUD17aXNDYW5jZWxlZDohMX07Yy5raWxsPWYuYmluZChudWxsLGMua2lsbC5iaW5kKGMpKSxjLmNhbmNlbD1kLmJpbmQobnVsbCxjLFApO2NvbnN0IFQ9YShhc3luYygpPT57Y29uc3Rbe2Vycm9yOmUsY29kZTp0LHNpZ25hbDpuLHRpbWVkT3V0Om99LGksYSxsXT1hd2FpdCB4KGMsci5vcHRpb25zLEUpLGY9QyhyLm9wdGlvbnMsaSksZD1DKHIub3B0aW9ucyxhKSxwPUMoci5vcHRpb25zLGwpO2lmKGV8fDAhPT10fHxudWxsIT09bil7Y29uc3QgaT11KHtlcnJvcjplLGNvZGU6dCxzaWduYWw6bixzdGRvdXQ6ZixzdGRlcnI6ZCxhbGw6cCxjb21tYW5kOnMscGFyc2VkOnIsdGltZWRPdXQ6byxpc0NhbmNlbGVkOlAuaXNDYW5jZWxlZCxraWxsZWQ6Yy5raWxsZWR9KTtpZighci5vcHRpb25zLnJlamVjdClyZXR1cm4gaTt0aHJvdyBpfXJldHVybntjb21tYW5kOnMsZXhpdENvZGU6MCxleGl0Q29kZU5hbWU6XCJTVUNDRVNTXCIsc3Rkb3V0OmYsc3RkZXJyOmQsYWxsOnAsZmFpbGVkOiExLHRpbWVkT3V0OiExLGlzQ2FuY2VsZWQ6ITEsa2lsbGVkOiExfX0pO3JldHVybiBpLl9lbm9lbnQuaG9va0NoaWxkUHJvY2VzcyhjLHIucGFyc2VkKSxoKGMsci5vcHRpb25zLmlucHV0KSxjLmFsbD1nKGMpLHcoYyxUKX07ZS5leHBvcnRzPVAsZS5leHBvcnRzLnN5bmM9KGUsdCxuKT0+e2NvbnN0IHI9UyhlLHQsbiksaT1iKGUsdCk7bGV0IHM7eShyLm9wdGlvbnMpO3RyeXtzPW8uc3Bhd25TeW5jKHIuZmlsZSxyLmFyZ3Msci5vcHRpb25zKX1jYXRjaChlKXt0aHJvdyB1KHtlcnJvcjplLHN0ZG91dDpcIlwiLHN0ZGVycjpcIlwiLGFsbDpcIlwiLGNvbW1hbmQ6aSxwYXJzZWQ6cix0aW1lZE91dDohMSxpc0NhbmNlbGVkOiExLGtpbGxlZDohMX0pfWlmKHMuc3Rkb3V0PUMoci5vcHRpb25zLHMuc3Rkb3V0LHMuZXJyb3IpLHMuc3RkZXJyPUMoci5vcHRpb25zLHMuc3RkZXJyLHMuZXJyb3IpLHMuZXJyb3J8fDAhPT1zLnN0YXR1c3x8bnVsbCE9PXMuc2lnbmFsKXtjb25zdCBlPXUoey4uLnMsY29kZTpzLnN0YXR1cyxjb21tYW5kOmkscGFyc2VkOnIsdGltZWRPdXQ6cy5lcnJvciYmXCJFVElNRURPVVRcIj09PXMuZXJyb3IuY29kZSxpc0NhbmNlbGVkOiExLGtpbGxlZDpudWxsIT09cy5zaWduYWx9KTtpZighci5vcHRpb25zLnJlamVjdClyZXR1cm4gZTt0aHJvdyBlfXJldHVybntjb21tYW5kOmksZXhpdENvZGU6MCxleGl0Q29kZU5hbWU6XCJTVUNDRVNTXCIsc3Rkb3V0OnMuc3Rkb3V0LHN0ZGVycjpzLnN0ZGVycixmYWlsZWQ6ITEsdGltZWRPdXQ6ITEsaXNDYW5jZWxlZDohMSxraWxsZWQ6ITF9fSxlLmV4cG9ydHMuY29tbWFuZD0oZSx0KT0+e2NvbnN0W24sLi4ucl09RShlKTtyZXR1cm4gUChuLHIsdCl9LGUuZXhwb3J0cy5jb21tYW5kU3luYz0oZSx0KT0+e2NvbnN0W24sLi4ucl09RShlKTtyZXR1cm4gUC5zeW5jKG4scix0KX0sZS5leHBvcnRzLm5vZGU9KGUsdCxuPXt9KT0+e3QmJiFBcnJheS5pc0FycmF5KHQpJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKG49dCx0PVtdKTtjb25zdCByPWwubm9kZShuKSx7bm9kZVBhdGg6bz1wcm9jZXNzLmV4ZWNQYXRoLG5vZGVPcHRpb25zOmk9cHJvY2Vzcy5leGVjQXJndn09bjtyZXR1cm4gUChvLFsuLi5pLGUsLi4uQXJyYXkuaXNBcnJheSh0KT90OltdXSx7Li4ubixzdGRpbjp2b2lkIDAsc3Rkb3V0OnZvaWQgMCxzdGRlcnI6dm9pZCAwLHN0ZGlvOnIsc2hlbGw6ITF9KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMiksbz1uKDEwKSxpPW4oMjApO2Z1bmN0aW9uIHMoZSx0LG4pe2NvbnN0IHM9byhlLHQsbiksYz1yLnNwYXduKHMuY29tbWFuZCxzLmFyZ3Mscy5vcHRpb25zKTtyZXR1cm4gaS5ob29rQ2hpbGRQcm9jZXNzKGMscyksY31lLmV4cG9ydHM9cyxlLmV4cG9ydHMuc3Bhd249cyxlLmV4cG9ydHMuc3luYz1mdW5jdGlvbihlLHQsbil7Y29uc3Qgcz1vKGUsdCxuKSxjPXIuc3Bhd25TeW5jKHMuY29tbWFuZCxzLmFyZ3Mscy5vcHRpb25zKTtyZXR1cm4gYy5lcnJvcj1jLmVycm9yfHxpLnZlcmlmeUVOT0VOVFN5bmMoYy5zdGF0dXMscyksY30sZS5leHBvcnRzLl9wYXJzZT1vLGUuZXhwb3J0cy5fZW5vZW50PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMCksbz1uKDExKSxpPW4oMTYpLHM9bigxNyksYz1cIndpbjMyXCI9PT1wcm9jZXNzLnBsYXRmb3JtLGE9L1xcLig/OmNvbXxleGUpJC9pLHU9L25vZGVfbW9kdWxlc1tcXFxcL10uYmluW1xcXFwvXVteXFxcXC9dK1xcLmNtZCQvaTtmdW5jdGlvbiBsKGUpe2lmKCFjKXJldHVybiBlO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7ZS5maWxlPW8oZSk7Y29uc3QgdD1lLmZpbGUmJnMoZS5maWxlKTtyZXR1cm4gdD8oZS5hcmdzLnVuc2hpZnQoZS5maWxlKSxlLmNvbW1hbmQ9dCxvKGUpKTplLmZpbGV9KGUpLG49IWEudGVzdCh0KTtpZihlLm9wdGlvbnMuZm9yY2VTaGVsbHx8bil7Y29uc3Qgbj11LnRlc3QodCk7ZS5jb21tYW5kPXIubm9ybWFsaXplKGUuY29tbWFuZCksZS5jb21tYW5kPWkuY29tbWFuZChlLmNvbW1hbmQpLGUuYXJncz1lLmFyZ3MubWFwKGU9PmkuYXJndW1lbnQoZSxuKSk7Y29uc3Qgbz1bZS5jb21tYW5kXS5jb25jYXQoZS5hcmdzKS5qb2luKFwiIFwiKTtlLmFyZ3M9W1wiL2RcIixcIi9zXCIsXCIvY1wiLGBcIiR7b31cImBdLGUuY29tbWFuZD1wcm9jZXNzLmVudi5jb21zcGVjfHxcImNtZC5leGVcIixlLm9wdGlvbnMud2luZG93c1ZlcmJhdGltQXJndW1lbnRzPSEwfXJldHVybiBlfWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dCYmIUFycmF5LmlzQXJyYXkodCkmJihuPXQsdD1udWxsKTtjb25zdCByPXtjb21tYW5kOmUsYXJnczp0PXQ/dC5zbGljZSgwKTpbXSxvcHRpb25zOm49T2JqZWN0LmFzc2lnbih7fSxuKSxmaWxlOnZvaWQgMCxvcmlnaW5hbDp7Y29tbWFuZDplLGFyZ3M6dH19O3JldHVybiBuLnNoZWxsP3I6bChyKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMCksbz1uKDEyKSxpPW4oMykoKTtmdW5jdGlvbiBzKGUsdCl7Y29uc3Qgbj1wcm9jZXNzLmN3ZCgpLHM9bnVsbCE9ZS5vcHRpb25zLmN3ZCxjPXMmJnZvaWQgMCE9PXByb2Nlc3MuY2hkaXImJiFwcm9jZXNzLmNoZGlyLmRpc2FibGVkO2lmKGMpdHJ5e3Byb2Nlc3MuY2hkaXIoZS5vcHRpb25zLmN3ZCl9Y2F0Y2goZSl7fWxldCBhO3RyeXthPW8uc3luYyhlLmNvbW1hbmQse3BhdGg6KGUub3B0aW9ucy5lbnZ8fHByb2Nlc3MuZW52KVtpXSxwYXRoRXh0OnQ/ci5kZWxpbWl0ZXI6dm9pZCAwfSl9Y2F0Y2goZSl7fWZpbmFsbHl7YyYmcHJvY2Vzcy5jaGRpcihuKX1yZXR1cm4gYSYmKGE9ci5yZXNvbHZlKHM/ZS5vcHRpb25zLmN3ZDpcIlwiLGEpKSxhfWUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcyhlKXx8cyhlLCEwKX19LGZ1bmN0aW9uKGUsdCxuKXtjb25zdCByPVwid2luMzJcIj09PXByb2Nlc3MucGxhdGZvcm18fFwiY3lnd2luXCI9PT1wcm9jZXNzLmVudi5PU1RZUEV8fFwibXN5c1wiPT09cHJvY2Vzcy5lbnYuT1NUWVBFLG89bigwKSxpPXI/XCI7XCI6XCI6XCIscz1uKDEzKSxjPWU9Pk9iamVjdC5hc3NpZ24obmV3IEVycm9yKFwibm90IGZvdW5kOiBcIitlKSx7Y29kZTpcIkVOT0VOVFwifSksYT0oZSx0KT0+e2NvbnN0IG49dC5jb2xvbnx8aSxvPWUubWF0Y2goL1xcLy8pfHxyJiZlLm1hdGNoKC9cXFxcLyk/W1wiXCJdOlsuLi5yP1twcm9jZXNzLmN3ZCgpXTpbXSwuLi4odC5wYXRofHxwcm9jZXNzLmVudi5QQVRIfHxcIlwiKS5zcGxpdChuKV0scz1yP3QucGF0aEV4dHx8cHJvY2Vzcy5lbnYuUEFUSEVYVHx8XCIuRVhFOy5DTUQ7LkJBVDsuQ09NXCI6XCJcIixjPXI/cy5zcGxpdChuKTpbXCJcIl07cmV0dXJuIHImJi0xIT09ZS5pbmRleE9mKFwiLlwiKSYmXCJcIiE9PWNbMF0mJmMudW5zaGlmdChcIlwiKSx7cGF0aEVudjpvLHBhdGhFeHQ6YyxwYXRoRXh0RXhlOnN9fSx1PShlLHQsbik9PntcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9e30pLHR8fCh0PXt9KTtjb25zdHtwYXRoRW52OnIscGF0aEV4dDppLHBhdGhFeHRFeGU6dX09YShlLHQpLGw9W10sZj1uPT5uZXcgUHJvbWlzZSgoaSxzKT0+e2lmKG49PT1yLmxlbmd0aClyZXR1cm4gdC5hbGwmJmwubGVuZ3RoP2kobCk6cyhjKGUpKTtjb25zdCBhPXJbbl0sdT0vXlwiLipcIiQvLnRlc3QoYSk/YS5zbGljZSgxLC0xKTphLGY9by5qb2luKHUsZSkscD0hdSYmL15cXC5bXFxcXFxcL10vLnRlc3QoZSk/ZS5zbGljZSgwLDIpK2Y6ZjtpKGQocCxuLDApKX0pLGQ9KGUsbixyKT0+bmV3IFByb21pc2UoKG8sYyk9PntpZihyPT09aS5sZW5ndGgpcmV0dXJuIG8oZihuKzEpKTtjb25zdCBhPWlbcl07cyhlK2Ese3BhdGhFeHQ6dX0sKGkscyk9PntpZighaSYmcyl7aWYoIXQuYWxsKXJldHVybiBvKGUrYSk7bC5wdXNoKGUrYSl9cmV0dXJuIG8oZChlLG4scisxKSl9KX0pO3JldHVybiBuP2YoMCkudGhlbihlPT5uKG51bGwsZSksbik6ZigwKX07ZS5leHBvcnRzPXUsdS5zeW5jPShlLHQpPT57dD10fHx7fTtjb25zdHtwYXRoRW52Om4scGF0aEV4dDpyLHBhdGhFeHRFeGU6aX09YShlLHQpLHU9W107Zm9yKGxldCBjPTA7YzxuLmxlbmd0aDtjKyspe2NvbnN0IGE9bltjXSxsPS9eXCIuKlwiJC8udGVzdChhKT9hLnNsaWNlKDEsLTEpOmEsZj1vLmpvaW4obCxlKSxkPSFsJiYvXlxcLltcXFxcXFwvXS8udGVzdChlKT9lLnNsaWNlKDAsMikrZjpmO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBuPWQrcltlXTt0cnl7aWYocy5zeW5jKG4se3BhdGhFeHQ6aX0pKXtpZighdC5hbGwpcmV0dXJuIG47dS5wdXNoKG4pfX1jYXRjaChlKXt9fX1pZih0LmFsbCYmdS5sZW5ndGgpcmV0dXJuIHU7aWYodC5ub3Rocm93KXJldHVybiBudWxsO3Rocm93IGMoZSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIHI7bigxKTtmdW5jdGlvbiBvKGUsdCxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9e30pLCFuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBQcm9taXNlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJjYWxsYmFjayBub3QgcHJvdmlkZWRcIik7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLHIpe28oZSx0fHx7fSwoZnVuY3Rpb24oZSx0KXtlP3IoZSk6bih0KX0pKX0pKX1yKGUsdHx8e30sKGZ1bmN0aW9uKGUscil7ZSYmKFwiRUFDQ0VTXCI9PT1lLmNvZGV8fHQmJnQuaWdub3JlRXJyb3JzKSYmKGU9bnVsbCxyPSExKSxuKGUscil9KSl9cj1cIndpbjMyXCI9PT1wcm9jZXNzLnBsYXRmb3JtfHxnbG9iYWwuVEVTVElOR19XSU5ET1dTP24oMTQpOm4oMTUpLGUuZXhwb3J0cz1vLG8uc3luYz1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gci5zeW5jKGUsdHx8e30pfWNhdGNoKGUpe2lmKHQmJnQuaWdub3JlRXJyb3JzfHxcIkVBQ0NFU1wiPT09ZS5jb2RlKXJldHVybiExO3Rocm93IGV9fX0sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1pLGkuc3luYz1mdW5jdGlvbihlLHQpe3JldHVybiBvKHIuc3RhdFN5bmMoZSksZSx0KX07dmFyIHI9bigxKTtmdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm4hKCFlLmlzU3ltYm9saWNMaW5rKCkmJiFlLmlzRmlsZSgpKSYmZnVuY3Rpb24oZSx0KXt2YXIgbj12b2lkIDAhPT10LnBhdGhFeHQ/dC5wYXRoRXh0OnByb2Nlc3MuZW52LlBBVEhFWFQ7aWYoIW4pcmV0dXJuITA7aWYoLTEhPT0obj1uLnNwbGl0KFwiO1wiKSkuaW5kZXhPZihcIlwiKSlyZXR1cm4hMDtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIG89bltyXS50b0xvd2VyQ2FzZSgpO2lmKG8mJmUuc3Vic3RyKC1vLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PW8pcmV0dXJuITB9cmV0dXJuITF9KHQsbil9ZnVuY3Rpb24gaShlLHQsbil7ci5zdGF0KGUsKGZ1bmN0aW9uKHIsaSl7bihyLCFyJiZvKGksZSx0KSl9KSl9fSxmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW8sby5zeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoci5zdGF0U3luYyhlKSx0KX07dmFyIHI9bigxKTtmdW5jdGlvbiBvKGUsdCxuKXtyLnN0YXQoZSwoZnVuY3Rpb24oZSxyKXtuKGUsIWUmJmkocix0KSl9KSl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBlLmlzRmlsZSgpJiZmdW5jdGlvbihlLHQpe3ZhciBuPWUubW9kZSxyPWUudWlkLG89ZS5naWQsaT12b2lkIDAhPT10LnVpZD90LnVpZDpwcm9jZXNzLmdldHVpZCYmcHJvY2Vzcy5nZXR1aWQoKSxzPXZvaWQgMCE9PXQuZ2lkP3QuZ2lkOnByb2Nlc3MuZ2V0Z2lkJiZwcm9jZXNzLmdldGdpZCgpLGM9cGFyc2VJbnQoXCIxMDBcIiw4KSxhPXBhcnNlSW50KFwiMDEwXCIsOCksdT1wYXJzZUludChcIjAwMVwiLDgpLGw9Y3xhO3JldHVybiBuJnV8fG4mYSYmbz09PXN8fG4mYyYmcj09PWl8fG4mbCYmMD09PWl9KGUsdCl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj0vKFsoKVxcXVslIV5cImA8PiZ8OywgKj9dKS9nO2UuZXhwb3J0cy5jb21tYW5kPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZShyLFwiXiQxXCIpfSxlLmV4cG9ydHMuYXJndW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT0oZT1gXCIke2U9KGU9KGU9XCJcIitlKS5yZXBsYWNlKC8oXFxcXCopXCIvZywnJDEkMVxcXFxcIicpKS5yZXBsYWNlKC8oXFxcXCopJC8sXCIkMSQxXCIpfVwiYCkucmVwbGFjZShyLFwiXiQxXCIpLHQmJihlPWUucmVwbGFjZShyLFwiXiQxXCIpKSxlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9bigxKSxvPW4oMTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtjb25zdCB0PUJ1ZmZlci5hbGxvYygxNTApO2xldCBuO3RyeXtuPXIub3BlblN5bmMoZSxcInJcIiksci5yZWFkU3luYyhuLHQsMCwxNTAsMCksci5jbG9zZVN5bmMobil9Y2F0Y2goZSl7fXJldHVybiBvKHQudG9TdHJpbmcoKSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1uKDE5KTtlLmV4cG9ydHM9KGU9XCJcIik9Pntjb25zdCB0PWUubWF0Y2gocik7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3RbbixvXT10WzBdLnJlcGxhY2UoLyMhID8vLFwiXCIpLnNwbGl0KFwiIFwiKSxpPW4uc3BsaXQoXCIvXCIpLnBvcCgpO3JldHVyblwiZW52XCI9PT1pP286bz9gJHtpfSAke299YDppfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz0vXiMhKC4qKS99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPVwid2luMzJcIj09PXByb2Nlc3MucGxhdGZvcm07ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihgJHt0fSAke2UuY29tbWFuZH0gRU5PRU5UYCkse2NvZGU6XCJFTk9FTlRcIixlcnJubzpcIkVOT0VOVFwiLHN5c2NhbGw6YCR7dH0gJHtlLmNvbW1hbmR9YCxwYXRoOmUuY29tbWFuZCxzcGF3bmFyZ3M6ZS5hcmdzfSl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiByJiYxPT09ZSYmIXQuZmlsZT9vKHQub3JpZ2luYWwsXCJzcGF3blwiKTpudWxsfWUuZXhwb3J0cz17aG9va0NoaWxkUHJvY2VzczpmdW5jdGlvbihlLHQpe2lmKCFyKXJldHVybjtjb25zdCBuPWUuZW1pdDtlLmVtaXQ9ZnVuY3Rpb24ocixvKXtpZihcImV4aXRcIj09PXIpe2NvbnN0IHI9aShvLHQpO2lmKHIpcmV0dXJuIG4uY2FsbChlLFwiZXJyb3JcIixyKX1yZXR1cm4gbi5hcHBseShlLGFyZ3VtZW50cyl9fSx2ZXJpZnlFTk9FTlQ6aSx2ZXJpZnlFTk9FTlRTeW5jOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJjE9PT1lJiYhdC5maWxlP28odC5vcmlnaW5hbCxcInNwYXduU3luY1wiKTpudWxsfSxub3RGb3VuZEVycm9yOm99fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWU9Pntjb25zdCB0PVwic3RyaW5nXCI9PXR5cGVvZiBlP1wiXFxuXCI6XCJcXG5cIi5jaGFyQ29kZUF0KCksbj1cInN0cmluZ1wiPT10eXBlb2YgZT9cIlxcclwiOlwiXFxyXCIuY2hhckNvZGVBdCgpO3JldHVybiBlW2UubGVuZ3RoLTFdPT09dCYmKGU9ZS5zbGljZSgwLGUubGVuZ3RoLTEpKSxlW2UubGVuZ3RoLTFdPT09biYmKGU9ZS5zbGljZSgwLGUubGVuZ3RoLTEpKSxlfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9bigwKSxvPW4oMyksaT1lPT57bGV0IHQ7ZT17Y3dkOnByb2Nlc3MuY3dkKCkscGF0aDpwcm9jZXNzLmVudltvKCldLC4uLmV9O2xldCBuPXIucmVzb2x2ZShlLmN3ZCk7Y29uc3QgaT1bXTtmb3IoO3QhPT1uOylpLnB1c2goci5qb2luKG4sXCJub2RlX21vZHVsZXMvLmJpblwiKSksdD1uLG49ci5yZXNvbHZlKG4sXCIuLlwiKTtyZXR1cm4gaS5wdXNoKHIuZGlybmFtZShwcm9jZXNzLmV4ZWNQYXRoKSksaS5jb25jYXQoZS5wYXRoKS5qb2luKHIuZGVsaW1pdGVyKX07ZS5leHBvcnRzPWksZS5leHBvcnRzLmRlZmF1bHQ9aSxlLmV4cG9ydHMuZW52PXQ9Pntjb25zdCBuPXsuLi4odD17ZW52OnByb2Nlc3MuZW52LC4uLnR9KS5lbnZ9LHI9byh7ZW52Om59KTtyZXR1cm4gdC5wYXRoPW5bcl0sbltyXT1lLmV4cG9ydHModCksbn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMjQpLG89bmV3IFdlYWtNYXAsaT0oZSx0PXt9KT0+e2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIik7bGV0IG4saT0hMSxzPTA7Y29uc3QgYz1lLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiPGFub255bW91cz5cIixhPWZ1bmN0aW9uKC4uLnIpe2lmKG8uc2V0KGEsKytzKSxpKXtpZighMD09PXQudGhyb3cpdGhyb3cgbmV3IEVycm9yKGBGdW5jdGlvbiBcXGAke2N9XFxgIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlYCk7cmV0dXJuIG59cmV0dXJuIGk9ITAsbj1lLmFwcGx5KHRoaXMsciksZT1udWxsLG59O3JldHVybiByKGEsZSksby5zZXQoYSxzKSxhfTtlLmV4cG9ydHM9aSxlLmV4cG9ydHMuZGVmYXVsdD1pLGUuZXhwb3J0cy5jYWxsQ291bnQ9ZT0+e2lmKCFvLmhhcyhlKSl0aHJvdyBuZXcgRXJyb3IoYFRoZSBnaXZlbiBmdW5jdGlvbiBcXGAke2UubmFtZX1cXGAgaXMgbm90IHdyYXBwZWQgYnkgdGhlIFxcYG9uZXRpbWVcXGAgcGFja2FnZWApO3JldHVybiBvLmdldChlKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPShlLHQpPT57Zm9yKGNvbnN0IG4gb2YgUmVmbGVjdC5vd25LZXlzKHQpKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LG4pKTtyZXR1cm4gZX07ZS5leHBvcnRzPXIsZS5leHBvcnRzLmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9big0KSxvPW4oMjYpO2UuZXhwb3J0cz0oe3N0ZG91dDplLHN0ZGVycjp0LGFsbDpuLGVycm9yOmksc2lnbmFsOnMsY29kZTpjLGNvbW1hbmQ6YSx0aW1lZE91dDp1LGlzQ2FuY2VsZWQ6bCxraWxsZWQ6ZixwYXJzZWQ6e29wdGlvbnM6e3RpbWVvdXQ6ZH19fSk9Pntjb25zdFtwLG1dPSgoZSx0KT0+ZSYmZS5jb2RlP1tlLmNvZGUsci5jb25zdGFudHMuZXJybm9bZS5jb2RlXV06TnVtYmVyLmlzSW50ZWdlcih0KT9bby5nZXRTeXN0ZW1FcnJvck5hbWUoLXQpLHRdOltdKShpLGMpLGg9YENvbW1hbmQgJHsoKHt0aW1lZE91dDplLHRpbWVvdXQ6dCxzaWduYWw6bixleGl0Q29kZU5hbWU6cixleGl0Q29kZTpvLGlzQ2FuY2VsZWQ6aX0pPT5lP2B0aW1lZCBvdXQgYWZ0ZXIgJHt0fSBtaWxsaXNlY29uZHNgOmk/XCJ3YXMgY2FuY2VsZWRcIjpuP1wid2FzIGtpbGxlZCB3aXRoIFwiK246dm9pZCAwIT09bz9gZmFpbGVkIHdpdGggZXhpdCBjb2RlICR7b30gKCR7cn0pYDpcImZhaWxlZFwiKSh7dGltZWRPdXQ6dSx0aW1lb3V0OmQsc2lnbmFsOnMsZXhpdENvZGVOYW1lOnAsZXhpdENvZGU6bSxpc0NhbmNlbGVkOmx9KX06ICR7YX1gO3JldHVybiBpIGluc3RhbmNlb2YgRXJyb3I/KGkub3JpZ2luYWxNZXNzYWdlPWkubWVzc2FnZSxpLm1lc3NhZ2U9YCR7aH1cXG4ke2kubWVzc2FnZX1gKTppPW5ldyBFcnJvcihoKSxpLmNvbW1hbmQ9YSxkZWxldGUgaS5jb2RlLGkuZXhpdENvZGU9bSxpLmV4aXRDb2RlTmFtZT1wLGkuc3Rkb3V0PWUsaS5zdGRlcnI9dCx2b2lkIDAhPT1uJiYoaS5hbGw9biksXCJidWZmZXJlZERhdGFcImluIGkmJmRlbGV0ZSBpLmJ1ZmZlcmVkRGF0YSxpLmZhaWxlZD0hMCxpLnRpbWVkT3V0PUJvb2xlYW4odSksaS5pc0NhbmNlbGVkPWwsaS5raWxsZWQ9ZiYmIXUsaS5zaWduYWw9c3x8dm9pZCAwLGl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwidXRpbFwiKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9W1wic3RkaW5cIixcInN0ZG91dFwiLFwic3RkZXJyXCJdLG89ZT0+e2lmKCFlKXJldHVybjtjb25zdHtzdGRpbzp0fT1lO2lmKHZvaWQgMD09PXQpcmV0dXJuIHIubWFwKHQ9PmVbdF0pO2lmKChlPT5yLnNvbWUodD0+dm9pZCAwIT09ZVt0XSkpKGUpKXRocm93IG5ldyBFcnJvcihcIkl0J3Mgbm90IHBvc3NpYmxlIHRvIHByb3ZpZGUgYHN0ZGlvYCBpbiBjb21iaW5hdGlvbiB3aXRoIG9uZSBvZiBcIityLm1hcChlPT5gXFxgJHtlfVxcYGApLmpvaW4oXCIsIFwiKSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQ7aWYoIUFycmF5LmlzQXJyYXkodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgXFxgc3RkaW9cXGAgdG8gYmUgb2YgdHlwZSBcXGBzdHJpbmdcXGAgb3IgXFxgQXJyYXlcXGAsIGdvdCBcXGAke3R5cGVvZiB0fVxcYGApO2NvbnN0IG49TWF0aC5tYXgodC5sZW5ndGgsci5sZW5ndGgpO3JldHVybiBBcnJheS5mcm9tKHtsZW5ndGg6bn0sKGUsbik9PnRbbl0pfTtlLmV4cG9ydHM9byxlLmV4cG9ydHMubm9kZT1lPT57Y29uc3QgdD1vKGUpO3JldHVyblwiaXBjXCI9PT10P1wiaXBjXCI6dm9pZCAwPT09dHx8XCJzdHJpbmdcIj09dHlwZW9mIHQ/W3QsdCx0LFwiaXBjXCJdOnQuaW5jbHVkZXMoXCJpcGNcIik/dDpbLi4udCxcImlwY1wiXX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oNCksbz1uKDI5KSxpPW4oMzMpLHM9KGUsdCxuLHIpPT57aWYoIWModCxuLHIpKXJldHVybjtjb25zdCBvPXUobik7c2V0VGltZW91dCgoKT0+e2UoXCJTSUdLSUxMXCIpfSxvKS51bnJlZigpfSxjPShlLHtmb3JjZUtpbGxBZnRlclRpbWVvdXQ6dH0sbik9PmEoZSkmJiExIT09dCYmbixhPWU9PmU9PT1yLmNvbnN0YW50cy5zaWduYWxzLlNJR1RFUk18fFwic3RyaW5nXCI9PXR5cGVvZiBlJiZcIlNJR1RFUk1cIj09PWUudG9VcHBlckNhc2UoKSx1PSh7Zm9yY2VLaWxsQWZ0ZXJUaW1lb3V0OmU9ITB9KT0+e2lmKCEwPT09ZSlyZXR1cm4gNWUzO2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHxlPDApdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgdGhlIFxcYGZvcmNlS2lsbEFmdGVyVGltZW91dFxcYCBvcHRpb24gdG8gYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlciwgZ290IFxcYCR7ZX1cXGAgKCR7dHlwZW9mIGV9KWApO3JldHVybiBlfTtlLmV4cG9ydHM9e3NwYXduZWRLaWxsOihlLHQ9XCJTSUdURVJNXCIsbj17fSk9Pntjb25zdCByPWUodCk7cmV0dXJuIHMoZSx0LG4scikscn0sc3Bhd25lZENhbmNlbDooZSx0KT0+e2Uua2lsbCgpJiYodC5pc0NhbmNlbGVkPSEwKX0sc2V0dXBUaW1lb3V0OihlLHt0aW1lb3V0OnQsa2lsbFNpZ25hbDpuPVwiU0lHVEVSTVwifSxyKT0+e2lmKDA9PT10fHx2b2lkIDA9PT10KXJldHVybiByO2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHQpfHx0PDApdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgdGhlIFxcYHRpbWVvdXRcXGAgb3B0aW9uIHRvIGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIsIGdvdCBcXGAke3R9XFxgICgke3R5cGVvZiB0fSlgKTtsZXQgbztjb25zdCBzPW5ldyBQcm9taXNlKChyLGkpPT57bz1zZXRUaW1lb3V0KCgpPT57KChlLHQsbik9PntlLmtpbGwodCksbihPYmplY3QuYXNzaWduKG5ldyBFcnJvcihcIlRpbWVkIG91dFwiKSx7dGltZWRPdXQ6ITAsc2lnbmFsOnR9KSl9KShlLG4saSl9LHQpfSksYz1pKHIsKCk9PntjbGVhclRpbWVvdXQobyl9KTtyZXR1cm4gUHJvbWlzZS5yYWNlKFtzLGNdKX0sc2V0RXhpdEhhbmRsZXI6KGUse2NsZWFudXA6dCxkZXRhY2hlZDpufSxyKT0+e2lmKCF0fHxuKXJldHVybiByO2NvbnN0IHM9bygoKT0+e2Uua2lsbCgpfSk7cmV0dXJuIGkocixzKX19fSxmdW5jdGlvbihlLHQsbil7dmFyIHIsbz1uKDMwKSxpPW4oMzEpLHM9L153aW4vaS50ZXN0KHByb2Nlc3MucGxhdGZvcm0pLGM9bigzMik7ZnVuY3Rpb24gYSgpe2YmJihmPSExLGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e3Byb2Nlc3MucmVtb3ZlTGlzdGVuZXIoZSxsW2VdKX1jYXRjaChlKXt9fSkpLHByb2Nlc3MuZW1pdD1oLHByb2Nlc3MucmVhbGx5RXhpdD1wLHIuY291bnQtPTEpfWZ1bmN0aW9uIHUoZSx0LG4pe3IuZW1pdHRlZFtlXXx8KHIuZW1pdHRlZFtlXT0hMCxyLmVtaXQoZSx0LG4pKX1cImZ1bmN0aW9uXCIhPXR5cGVvZiBjJiYoYz1jLkV2ZW50RW1pdHRlcikscHJvY2Vzcy5fX3NpZ25hbF9leGl0X2VtaXR0ZXJfXz9yPXByb2Nlc3MuX19zaWduYWxfZXhpdF9lbWl0dGVyX186KChyPXByb2Nlc3MuX19zaWduYWxfZXhpdF9lbWl0dGVyX189bmV3IGMpLmNvdW50PTAsci5lbWl0dGVkPXt9KSxyLmluZmluaXRlfHwoci5zZXRNYXhMaXN0ZW5lcnMoMS8wKSxyLmluZmluaXRlPSEwKSxlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtvLmVxdWFsKHR5cGVvZiBlLFwiZnVuY3Rpb25cIixcImEgY2FsbGJhY2sgbXVzdCBiZSBwcm92aWRlZCBmb3IgZXhpdCBoYW5kbGVyXCIpLCExPT09ZiYmZCgpO3ZhciBuPVwiZXhpdFwiO3QmJnQuYWx3YXlzTGFzdCYmKG49XCJhZnRlcmV4aXRcIik7cmV0dXJuIHIub24obixlKSxmdW5jdGlvbigpe3IucmVtb3ZlTGlzdGVuZXIobixlKSwwPT09ci5saXN0ZW5lcnMoXCJleGl0XCIpLmxlbmd0aCYmMD09PXIubGlzdGVuZXJzKFwiYWZ0ZXJleGl0XCIpLmxlbmd0aCYmYSgpfX0sZS5leHBvcnRzLnVubG9hZD1hO3ZhciBsPXt9O2kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bFtlXT1mdW5jdGlvbigpe3Byb2Nlc3MubGlzdGVuZXJzKGUpLmxlbmd0aD09PXIuY291bnQmJihhKCksdShcImV4aXRcIixudWxsLGUpLHUoXCJhZnRlcmV4aXRcIixudWxsLGUpLHMmJlwiU0lHSFVQXCI9PT1lJiYoZT1cIlNJR0lOVFwiKSxwcm9jZXNzLmtpbGwocHJvY2Vzcy5waWQsZSkpfX0pKSxlLmV4cG9ydHMuc2lnbmFscz1mdW5jdGlvbigpe3JldHVybiBpfSxlLmV4cG9ydHMubG9hZD1kO3ZhciBmPSExO2Z1bmN0aW9uIGQoKXtmfHwoZj0hMCxyLmNvdW50Kz0xLGk9aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gcHJvY2Vzcy5vbihlLGxbZV0pLCEwfWNhdGNoKGUpe3JldHVybiExfX0pKSxwcm9jZXNzLmVtaXQ9eCxwcm9jZXNzLnJlYWxseUV4aXQ9bSl9dmFyIHA9cHJvY2Vzcy5yZWFsbHlFeGl0O2Z1bmN0aW9uIG0oZSl7cHJvY2Vzcy5leGl0Q29kZT1lfHwwLHUoXCJleGl0XCIscHJvY2Vzcy5leGl0Q29kZSxudWxsKSx1KFwiYWZ0ZXJleGl0XCIscHJvY2Vzcy5leGl0Q29kZSxudWxsKSxwLmNhbGwocHJvY2Vzcyxwcm9jZXNzLmV4aXRDb2RlKX12YXIgaD1wcm9jZXNzLmVtaXQ7ZnVuY3Rpb24geChlLHQpe2lmKFwiZXhpdFwiPT09ZSl7dm9pZCAwIT09dCYmKHByb2Nlc3MuZXhpdENvZGU9dCk7dmFyIG49aC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHUoXCJleGl0XCIscHJvY2Vzcy5leGl0Q29kZSxudWxsKSx1KFwiYWZ0ZXJleGl0XCIscHJvY2Vzcy5leGl0Q29kZSxudWxsKSxufXJldHVybiBoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXJlcXVpcmUoXCJhc3NlcnRcIil9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVtcIlNJR0FCUlRcIixcIlNJR0FMUk1cIixcIlNJR0hVUFwiLFwiU0lHSU5UXCIsXCJTSUdURVJNXCJdLFwid2luMzJcIiE9PXByb2Nlc3MucGxhdGZvcm0mJmUuZXhwb3J0cy5wdXNoKFwiU0lHVlRBTFJNXCIsXCJTSUdYQ1BVXCIsXCJTSUdYRlNaXCIsXCJTSUdVU1IyXCIsXCJTSUdUUkFQXCIsXCJTSUdTWVNcIixcIlNJR1FVSVRcIixcIlNJR0lPVFwiKSxcImxpbnV4XCI9PT1wcm9jZXNzLnBsYXRmb3JtJiZlLmV4cG9ydHMucHVzaChcIlNJR0lPXCIsXCJTSUdQT0xMXCIsXCJTSUdQV1JcIixcIlNJR1NUS0ZMVFwiLFwiU0lHVU5VU0VEXCIpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1yZXF1aXJlKFwiZXZlbnRzXCIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWFzeW5jKGUsdD0oKCk9Pnt9KSk9PntsZXQgbjt0cnl7bj1hd2FpdCBlfWNhdGNoKGUpe3Rocm93IGF3YWl0IHQoKSxlfXJldHVybiBhd2FpdCB0KCksbn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdCByPW4oMzUpLG89bigzNiksaT1uKDQxKSxzPWFzeW5jKGUsdCk9PntpZihlKXtlLmRlc3Ryb3koKTt0cnl7cmV0dXJuIGF3YWl0IHR9Y2F0Y2goZSl7cmV0dXJuIGUuYnVmZmVyZWREYXRhfX19LGM9KGUse2VuY29kaW5nOnQsYnVmZmVyOm4sbWF4QnVmZmVyOnJ9KT0+e2lmKGUpcmV0dXJuIG4/dD9vKGUse2VuY29kaW5nOnQsbWF4QnVmZmVyOnJ9KTpvLmJ1ZmZlcihlLHttYXhCdWZmZXI6cn0pOm5ldyBQcm9taXNlKCh0LG4pPT57ZS5vbmNlKFwiZW5kXCIsdCkub25jZShcImVycm9yXCIsbil9KX07ZS5leHBvcnRzPXtoYW5kbGVJbnB1dDooZSx0KT0+e3ZvaWQgMCE9PXQmJnZvaWQgMCE9PWUuc3RkaW4mJihyKHQpP3QucGlwZShlLnN0ZGluKTplLnN0ZGluLmVuZCh0KSl9LG1ha2VBbGxTdHJlYW06ZT0+e2lmKCFlLnN0ZG91dCYmIWUuc3RkZXJyKXJldHVybjtjb25zdCB0PWkoKTtyZXR1cm4gZS5zdGRvdXQmJnQuYWRkKGUuc3Rkb3V0KSxlLnN0ZGVyciYmdC5hZGQoZS5zdGRlcnIpLHR9LGdldFNwYXduZWRSZXN1bHQ6YXN5bmMoe3N0ZG91dDplLHN0ZGVycjp0LGFsbDpufSx7ZW5jb2Rpbmc6cixidWZmZXI6byxtYXhCdWZmZXI6aX0sYSk9Pntjb25zdCB1PWMoZSx7ZW5jb2Rpbmc6cixidWZmZXI6byxtYXhCdWZmZXI6aX0pLGw9Yyh0LHtlbmNvZGluZzpyLGJ1ZmZlcjpvLG1heEJ1ZmZlcjppfSksZj1jKG4se2VuY29kaW5nOnIsYnVmZmVyOm8sbWF4QnVmZmVyOjIqaX0pO3RyeXtyZXR1cm4gYXdhaXQgUHJvbWlzZS5hbGwoW2EsdSxsLGZdKX1jYXRjaChyKXtyZXR1cm4gUHJvbWlzZS5hbGwoW3tlcnJvcjpyLGNvZGU6ci5jb2RlLHNpZ25hbDpyLnNpZ25hbCx0aW1lZE91dDpyLnRpbWVkT3V0fSxzKGUsdSkscyh0LGwpLHMobixmKV0pfX0sdmFsaWRhdGVJbnB1dFN5bmM6KHtpbnB1dDplfSk9PntpZihyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgYGlucHV0YCBvcHRpb24gY2Fubm90IGJlIGEgc3RyZWFtIGluIHN5bmMgbW9kZVwiKX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgcj1lPT5udWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUucGlwZTtyLndyaXRhYmxlPWU9PnIoZSkmJiExIT09ZS53cml0YWJsZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5fd3JpdGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlLl93cml0YWJsZVN0YXRlLHIucmVhZGFibGU9ZT0+cihlKSYmITEhPT1lLnJlYWRhYmxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLl9yZWFkJiZcIm9iamVjdFwiPT10eXBlb2YgZS5fcmVhZGFibGVTdGF0ZSxyLmR1cGxleD1lPT5yLndyaXRhYmxlKGUpJiZyLnJlYWRhYmxlKGUpLHIudHJhbnNmb3JtPWU9PnIuZHVwbGV4KGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLl90cmFuc2Zvcm0mJlwib2JqZWN0XCI9PXR5cGVvZiBlLl90cmFuc2Zvcm1TdGF0ZSxlLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9bigzNyksbz1uKDQwKTtjbGFzcyBpIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoKXtzdXBlcihcIm1heEJ1ZmZlciBleGNlZWRlZFwiKSx0aGlzLm5hbWU9XCJNYXhCdWZmZXJFcnJvclwifX1hc3luYyBmdW5jdGlvbiBzKGUsdCl7aWYoIWUpcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkV4cGVjdGVkIGEgc3RyZWFtXCIpKTt0PXttYXhCdWZmZXI6MS8wLC4uLnR9O2NvbnN0e21heEJ1ZmZlcjpufT10O2xldCBzO3JldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgoYyxhKT0+e2NvbnN0IHU9ZT0+e2UmJihlLmJ1ZmZlcmVkRGF0YT1zLmdldEJ1ZmZlcmVkVmFsdWUoKSksYShlKX07cz1yKGUsbyh0KSxlPT57ZT91KGUpOmMoKX0pLHMub24oXCJkYXRhXCIsKCk9PntzLmdldEJ1ZmZlcmVkTGVuZ3RoKCk+biYmdShuZXcgaSl9KX0pLHMuZ2V0QnVmZmVyZWRWYWx1ZSgpfWUuZXhwb3J0cz1zLGUuZXhwb3J0cy5kZWZhdWx0PXMsZS5leHBvcnRzLmJ1ZmZlcj0oZSx0KT0+cyhlLHsuLi50LGVuY29kaW5nOlwiYnVmZmVyXCJ9KSxlLmV4cG9ydHMuYXJyYXk9KGUsdCk9PnMoZSx7Li4udCxhcnJheTohMH0pLGUuZXhwb3J0cy5NYXhCdWZmZXJFcnJvcj1pfSxmdW5jdGlvbihlLHQsbil7dmFyIHI9big1KSxvPW4oMzkpLGk9bigxKSxzPWZ1bmN0aW9uKCl7fSxjPS9edj9cXC4wLy50ZXN0KHByb2Nlc3MudmVyc2lvbiksYT1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfSx1PWZ1bmN0aW9uKGUsdCxuLHUpe3U9cih1KTt2YXIgbD0hMTtlLm9uKFwiY2xvc2VcIiwoZnVuY3Rpb24oKXtsPSEwfSkpLG8oZSx7cmVhZGFibGU6dCx3cml0YWJsZTpufSwoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gdShlKTtsPSEwLHUoKX0pKTt2YXIgZj0hMTtyZXR1cm4gZnVuY3Rpb24odCl7aWYoIWwmJiFmKXJldHVybiBmPSEwLGZ1bmN0aW9uKGUpe3JldHVybiEhYyYmKCEhaSYmKChlIGluc3RhbmNlb2YoaS5SZWFkU3RyZWFtfHxzKXx8ZSBpbnN0YW5jZW9mKGkuV3JpdGVTdHJlYW18fHMpKSYmYShlLmNsb3NlKSkpfShlKT9lLmNsb3NlKHMpOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNldEhlYWRlciYmYShlLmFib3J0KX0oZSk/ZS5hYm9ydCgpOmEoZS5kZXN0cm95KT9lLmRlc3Ryb3koKTp2b2lkIHUodHx8bmV3IEVycm9yKFwic3RyZWFtIHdhcyBkZXN0cm95ZWRcIikpfX0sbD1mdW5jdGlvbihlKXtlKCl9LGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5waXBlKHQpfTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksbj1hKHRbdC5sZW5ndGgtMV18fHMpJiZ0LnBvcCgpfHxzO2lmKEFycmF5LmlzQXJyYXkodFswXSkmJih0PXRbMF0pLHQubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwicHVtcCByZXF1aXJlcyB0d28gc3RyZWFtcyBwZXIgbWluaW11bVwiKTt2YXIgcj10Lm1hcCgoZnVuY3Rpb24obyxpKXt2YXIgcz1pPHQubGVuZ3RoLTE7cmV0dXJuIHUobyxzLGk+MCwoZnVuY3Rpb24odCl7ZXx8KGU9dCksdCYmci5mb3JFYWNoKGwpLHN8fChyLmZvckVhY2gobCksbihlKSl9KSl9KSk7cmV0dXJuIHQucmVkdWNlKGYpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24gZSh0LG4pe2lmKHQmJm4pcmV0dXJuIGUodCkobik7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwibmVlZCB3cmFwcGVyIGZ1bmN0aW9uXCIpO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyW2VdPXRbZV19KSkscjtmdW5jdGlvbiByKCl7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIHI9dC5hcHBseSh0aGlzLGUpLG89ZVtlLmxlbmd0aC0xXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZyIT09byYmT2JqZWN0LmtleXMobykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cltlXT1vW2VdfSkpLHJ9fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNSksbz1mdW5jdGlvbigpe30saT1mdW5jdGlvbihlLHQsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdClyZXR1cm4gaShlLG51bGwsdCk7dHx8KHQ9e30pLG49cihufHxvKTt2YXIgcz1lLl93cml0YWJsZVN0YXRlLGM9ZS5fcmVhZGFibGVTdGF0ZSxhPXQucmVhZGFibGV8fCExIT09dC5yZWFkYWJsZSYmZS5yZWFkYWJsZSx1PXQud3JpdGFibGV8fCExIT09dC53cml0YWJsZSYmZS53cml0YWJsZSxsPSExLGY9ZnVuY3Rpb24oKXtlLndyaXRhYmxlfHxkKCl9LGQ9ZnVuY3Rpb24oKXt1PSExLGF8fG4uY2FsbChlKX0scD1mdW5jdGlvbigpe2E9ITEsdXx8bi5jYWxsKGUpfSxtPWZ1bmN0aW9uKHQpe24uY2FsbChlLHQ/bmV3IEVycm9yKFwiZXhpdGVkIHdpdGggZXJyb3IgY29kZTogXCIrdCk6bnVsbCl9LGg9ZnVuY3Rpb24odCl7bi5jYWxsKGUsdCl9LHg9ZnVuY3Rpb24oKXtwcm9jZXNzLm5leHRUaWNrKGcpfSxnPWZ1bmN0aW9uKCl7aWYoIWwpcmV0dXJuKCFhfHxjJiZjLmVuZGVkJiYhYy5kZXN0cm95ZWQpJiYoIXV8fHMmJnMuZW5kZWQmJiFzLmRlc3Ryb3llZCk/dm9pZCAwOm4uY2FsbChlLG5ldyBFcnJvcihcInByZW1hdHVyZSBjbG9zZVwiKSl9LHk9ZnVuY3Rpb24oKXtlLnJlcS5vbihcImZpbmlzaFwiLGQpfTtyZXR1cm4hZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2V0SGVhZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmFib3J0fShlKT91JiYhcyYmKGUub24oXCJlbmRcIixmKSxlLm9uKFwiY2xvc2VcIixmKSk6KGUub24oXCJjb21wbGV0ZVwiLGQpLGUub24oXCJhYm9ydFwiLHgpLGUucmVxP3koKTplLm9uKFwicmVxdWVzdFwiLHkpKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGRpbyYmQXJyYXkuaXNBcnJheShlLnN0ZGlvKSYmMz09PWUuc3RkaW8ubGVuZ3RofShlKSYmZS5vbihcImV4aXRcIixtKSxlLm9uKFwiZW5kXCIscCksZS5vbihcImZpbmlzaFwiLGQpLCExIT09dC5lcnJvciYmZS5vbihcImVycm9yXCIsaCksZS5vbihcImNsb3NlXCIseCksZnVuY3Rpb24oKXtsPSEwLGUucmVtb3ZlTGlzdGVuZXIoXCJjb21wbGV0ZVwiLGQpLGUucmVtb3ZlTGlzdGVuZXIoXCJhYm9ydFwiLHgpLGUucmVtb3ZlTGlzdGVuZXIoXCJyZXF1ZXN0XCIseSksZS5yZXEmJmUucmVxLnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsZCksZS5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLGYpLGUucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGYpLGUucmVtb3ZlTGlzdGVuZXIoXCJmaW5pc2hcIixkKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXhpdFwiLG0pLGUucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixwKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixoKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIix4KX19O2UuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7Y29uc3R7UGFzc1Rocm91Z2g6cn09big2KTtlLmV4cG9ydHM9ZT0+e2U9ey4uLmV9O2NvbnN0e2FycmF5OnR9PWU7bGV0e2VuY29kaW5nOm59PWU7Y29uc3Qgbz1cImJ1ZmZlclwiPT09bjtsZXQgaT0hMTt0P2k9IShufHxvKTpuPW58fFwidXRmOFwiLG8mJihuPW51bGwpO2NvbnN0IHM9bmV3IHIoe29iamVjdE1vZGU6aX0pO24mJnMuc2V0RW5jb2Rpbmcobik7bGV0IGM9MDtjb25zdCBhPVtdO3JldHVybiBzLm9uKFwiZGF0YVwiLGU9PnthLnB1c2goZSksaT9jPWEubGVuZ3RoOmMrPWUubGVuZ3RofSkscy5nZXRCdWZmZXJlZFZhbHVlPSgpPT50P2E6bz9CdWZmZXIuY29uY2F0KGEsYyk6YS5qb2luKFwiXCIpLHMuZ2V0QnVmZmVyZWRMZW5ndGg9KCk9PmMsc319LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtjb25zdHtQYXNzVGhyb3VnaDpyfT1uKDYpO2UuZXhwb3J0cz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9bmV3IHIoe29iamVjdE1vZGU6ITB9KTtyZXR1cm4gdC5zZXRNYXhMaXN0ZW5lcnMoMCksdC5hZGQ9bix0LmlzRW1wdHk9byx0Lm9uKFwidW5waXBlXCIsaSksQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5mb3JFYWNoKG4pLHQ7ZnVuY3Rpb24gbihyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShyKT8oci5mb3JFYWNoKG4pLHRoaXMpOihlLnB1c2gociksci5vbmNlKFwiZW5kXCIsaS5iaW5kKG51bGwscikpLHIub25jZShcImVycm9yXCIsdC5lbWl0LmJpbmQodCxcImVycm9yXCIpKSxyLnBpcGUodCx7ZW5kOiExfSksdGhpcyl9ZnVuY3Rpb24gbygpe3JldHVybiAwPT1lLmxlbmd0aH1mdW5jdGlvbiBpKG4peyEoZT1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1ufSkpKS5sZW5ndGgmJnQucmVhZGFibGUmJnQuZW5kKCl9fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9KGUsdCxuKT0+e2NvbnN0IHI9XCJmdW5jdGlvblwiPT10eXBlb2YgdD8oLi4uZSk9PnQoKVtuXSguLi5lKTp0W25dLmJpbmQodCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7dmFsdWU6cix3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pfTtlLmV4cG9ydHM9e21lcmdlUHJvbWlzZTooZSx0KT0+KHIoZSx0LFwidGhlblwiKSxyKGUsdCxcImNhdGNoXCIpLFByb21pc2UucHJvdG90eXBlLmZpbmFsbHkmJnIoZSx0LFwiZmluYWxseVwiKSxlKSxnZXRTcGF3bmVkUHJvbWlzZTplPT5uZXcgUHJvbWlzZSgodCxuKT0+e2Uub24oXCJleGl0XCIsKGUsbik9Pnt0KHtjb2RlOmUsc2lnbmFsOm59KX0pLGUub24oXCJlcnJvclwiLGU9PntuKGUpfSksZS5zdGRpbiYmZS5zdGRpbi5vbihcImVycm9yXCIsZT0+e24oZSl9KX0pfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2NvbnN0IHI9LyArL2csbz0oZSx0LG4pPT57aWYoMD09PW4pcmV0dXJuW3RdO2NvbnN0IHI9ZVtlLmxlbmd0aC0xXTtyZXR1cm4gci5lbmRzV2l0aChcIlxcXFxcIik/Wy4uLmUuc2xpY2UoMCwtMSksYCR7ci5zbGljZSgwLC0xKX0gJHt0fWBdOlsuLi5lLHRdfTtlLmV4cG9ydHM9e2pvaW5Db21tYW5kOihlLHQ9W10pPT5BcnJheS5pc0FycmF5KHQpP1tlLC4uLnRdLmpvaW4oXCIgXCIpOmUscGFyc2VDb21tYW5kOmU9PmUudHJpbSgpLnNwbGl0KHIpLnJlZHVjZShvLFtdKX19XSl9KSk7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==